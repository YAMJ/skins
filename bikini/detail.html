<!doctype html>
<html>
    <head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <title>YAMJ v3 detail page</title>
        <script src="js/jquery.js"></script>
        <script src="js/pure.js"></script>
		<!-- Used for skin language setting -->
		<script src="js/lang.js"></script>
		<!-- Used for template -->
		<script src="js/template.js"></script>
		<script src="remote/my_remote.js"></script>
		<script src="js/library.js"></script>
        <link rel="stylesheet" type="text/css" href="css/yamj-style.css"/>
        <!--Slider stuff-->
        <link href="slideshow/slideshow.css" rel="stylesheet" type="text/css" />
        <script src="slideshow/slideshow.js" type="text/javascript"></script>
        <script src="slideshow/slideshowFanart.js" type="text/javascript"></script>
		<script src="slideshow/slideshowBanner.js" type="text/javascript"></script>
        <script type="text/javascript">
// ******************************* ALL GENERAL VARIABLE **********************************************
			// get the id and the type asked previously, data was stored from index, detail or  index_list pages 
            var current_id = localStorage.getItem("id");
            var indextype = localStorage.getItem("type");
			var season = localStorage.getItem("season");
			var series_id = localStorage.getItem("SeriesId");
			var dataindex = localStorage.getItem("index-nav");
			// default general value
			var season_title = "";
            var jsondata;
			var jsonUrl = "";
			var jsonSeasonUrl = "";
			var countset = "-1";
			var fanart_toggle = 0;
			var menuleft_toggle = 0;
			var menuright_toggle = 0;
			var padding_season = 35;
			var Personpopup = "";
			// default value for episode 
			var current_episode_videoimage = "videoimage0";
			var	current_episode_plot = "episodeplot0";
			var	current_episode_title = "episodetitle0";
			var nbre_translate_path = 0;
			var current_file_toplay = "";
			var myVar = "";
			var Person_toSet = true;
			var Movie_toSet = true;
// ******************************************** COMMON RESULTS MAPPING **********************************			
			// from jsonUrl
			var DETAIL_HEADER = {
							'span.header_type': function (arg) {
							
								switch(arg.context.result.videoType.toLowerCase())
									{
										case 'season':
											return season_label.toUpperCase();
											break;
										case 'episode':
											return episode_label.toUpperCase();
											break;
										case 'movie':
											return movie_label.toUpperCase();
											break;
										case 'series':
											return series_label.toUpperCase();
											break;	
									};
								},
					
							'span.header_title': function (arg) {
								season_title = arg.context.result.title;
								if (indextype.toLowerCase() == 'season')
								{
								store_SeriesId (arg.context.result.seriesId);
								return arg.context.result.title + ' '+season_label+': '+ arg.context.result.season;
								} else {
						
								return arg.context.result.title;
									}
							},
							'span.header_year': 'result.videoYear',
							'span.header_id': function (arg) {
									if (indextype.toLowerCase() == 'series')   
										{ 
										store_SeriesId (arg.context.result.id);   // store the series id for next navigation 
							
										}
								return arg.context.result.id;
								}
						
						};
			// from jsonUrl		
            var YAMJ_DIR = {
                'span.plot': function(arg) {
				// check if plot is available 
					if (arg.context.result.plot) {
							return "<text>"+plot_label.toUpperCase()+"</text>" +arg.context.result.plot;
								} else {
							return "<text>"+noplot_text.toUpperCase()+"</text>";
							}
				},
                'span.genres': function(arg)
                {
                    var genres = arg.context.result.genres;
                    var output = "<text>"+genre_label.toUpperCase()+"</text>";
                    var first_genres = true;
					// loop thru the list of genres
                    for (i = 0; i < genres.length; i++) {
                        if (first_genres) {
                            first_genres = false;
                        } else {
                            output += ", ";
                        }
                        output = output + "<a href=\"javascript:call_genreselect('" + genres[i].name + "')\" >" + genres[i].name + "</a>";
                    }
                    return output;
                },
              
               'img.fanart': {
                    'fanart<-result.artwork.FANART': {
                        '@src': function(arg)
                        {
                            // Check to see if there are fanart
                            if (arg.item) {
                                // Get the first fanart from the list
                                if (arg.item.generatedId === 0) {
                                    return "pictures/dummy_fanart.jpg";
                                }
                                return arg.context.baseArtworkUrl + arg.item.filename;
                            } else {
                                return "pictures/dummy_fanart.jpg";
                            }
                        }

                    }
                },
				
				  'img.poster': {
                    'poster<-result.artwork.POSTER': {
                        '@src': function(arg)
                        {
                            // Check to see if there are posters
                            if (arg.item) {
                                // Get the first poster from the list
                                if (arg.item.generatedId === 0) {
                                    return "pictures/dummy.jpg";
                                }
							// take the opportunity to reset the new season number, in case of next / previous move , only for season type
								if (indextype.toLowerCase() == 'season')
								{															
									season =  arg.item.season;   //  get season number
									} else {
									season = "";
									}
                                return arg.context.baseArtworkUrl + arg.item.filename;
                            } else {
                                return "pictures/dummy.jpg";
                            }
                        }

                    }
                }, 
				
				'img.banner': {
                    'banner<-result.artwork.BANNER': {
                        '@src': function(arg)
                        {
							if (indextype !== 'MOVIE')  // there is banner only for season and series
								{	
                            // Check to see if there are banner
                            if (arg.item) {
                                // Get the first banner from the list
                                if (arg.item.generatedId === 0) {
                                    return "pictures/dummy_banner.jpg";
                                }
                                return arg.context.baseArtworkUrl + arg.item.filename;
                            } else {
                                return "pictures/dummy_banner.jpg";
                            }
                        }
					}

                    }
                }, 
				
				'img.play': {
                    'play<-result.files': {
                        '@onclick': function(arg)
                        {
                           
                                return "play_to_device('"+ arg.item.filename +"')";
                            } 
                        }
                    },
					
				'span.filepath': function(arg)
                {
                    var files = arg.context.result.files;
                    return "<text>"+file_label.toUpperCase()+"</text>"+  files[0].filename;
                   
                        
               
                }
				
            };

					

// ***************************************************** GET DATA section ******************************************************	
				
            function getData()
            {	
				// fill all value according to language setting - from yamjv3_lang_{lang}.xml
				get_lang();
				get_style();
				get_player();
				// construct JSON request for detail movie/series/season 
				jsonUrl = "/yamj3/api/video/" + indextype.toLowerCase() + "/" + current_id + ".json?dataitems=genre,artwork,plot,files";
				console.log("URL: " + jsonUrl);
		
					
        // main API call         
                $.ajax({
                    url: jsonUrl,
                    async: false,
                    dataType: 'jsonp',
                    'success': function(data)
                    {
                        jsondata = data;
				//		 outputJson(data); 
				 	
					$p('.header').render(data, DETAIL_HEADER);
					 
					$p('.template').render(data, YAMJ_DIR); 
						// add slideshow for fanart
						  slideshowFanart();
						// slideshow for poster
						slideshow();
						// display fanart
						display_all ();	
						
						
						switch (indextype.toLowerCase()) 
							{
							case 'movie':
						//			nothing to do
									break;
							case 'series':
									slideshowBanner ();
									perform_season ();
									break;
							case 'season':
									slideshowBanner ();
									perform_episode ();
									break;
							}		
						
				}
                });
        

            }

  //************************ LANGUAGE LOCAL SETTING *********************************************			
		// store all value according to language setting - from yamjv3_lang_{lang}.xml - local setting
		function set_context_lang_value ()
		{
			document.getElementById("fanartshow").innerHTML=fanart_show.toUpperCase();
			document.getElementById("personshow").innerHTML=person_show.toUpperCase();
			switch (indextype.toLowerCase()) 
							{
							case 'movie':
						//		document.getElementById("show").innerHTML=show.toUpperCase() + " " + movie_select.toUpperCase();
								document.getElementById("show").innerHTML=movie_select.toUpperCase();
									break;
							case 'series':
									document.getElementById("show").innerHTML=series_select.toUpperCase();
									break;
							case 'season':
									document.getElementById("show").innerHTML=season_select.toUpperCase();
									break;
							}		
			document.getElementById("seasonlabel").innerHTML=season_label;
			document.getElementById("movieselect").innerHTML=movie_select.toUpperCase();
			document.getElementById("serieselect").innerHTML=series_select.toUpperCase();
			document.getElementById("allselect").innerHTML=all_select.toUpperCase();
			document.getElementById("seasonselect").innerHTML=season_select.toUpperCase();
			document.getElementById("li_selection").innerHTML=selection_label.toUpperCase();
			document.getElementById("genreindex").innerHTML=genre_select.toUpperCase();
			document.getElementById("personindex").innerHTML=person_select.toUpperCase();
			document.getElementById("searchindex").innerHTML=search_select.toUpperCase();
			document.getElementById("configindex").innerHTML=config_select.toUpperCase();
			document.getElementById("remoteselect").innerHTML=remote_label.toUpperCase();
			document.getElementById("up").innerHTML=up_label.toUpperCase();
			document.getElementById("down").innerHTML=down_label.toUpperCase();
			document.getElementById("right").innerHTML=right_label.toUpperCase();
			document.getElementById("left").innerHTML=left_label.toUpperCase();
			document.getElementById("home").innerHTML=home_label.toUpperCase();
			document.getElementById("setup").innerHTML=setup_label.toUpperCase();
			document.getElementById("audio").innerHTML=audio_label.toUpperCase();
			document.getElementById("mute").innerHTML=mute_label.toUpperCase();
			document.getElementById("volumeup").innerHTML=volumeup_label.toUpperCase();
			document.getElementById("volumedown").innerHTML=volumedown_label.toUpperCase();
			document.getElementById("stop").innerHTML=stop_label.toUpperCase();
			document.getElementById("play").innerHTML=play_label.toUpperCase();
			document.getElementById("rewind").innerHTML=rewind_label.toUpperCase();
			document.getElementById("prev_remote").innerHTML=prev_remote_label.toUpperCase();
			document.getElementById("next_remote").innerHTML=next_remote_label.toUpperCase();
			document.getElementById("fwd").innerHTML=fwd_label.toUpperCase();
			document.getElementById("info").innerHTML=info_label.toUpperCase();
			document.getElementById("repeat").innerHTML=repeat_label.toUpperCase();
			document.getElementById("subtitle").innerHTML=subtitle_label.toUpperCase();
			document.getElementById("menu").innerHTML=menu_label.toUpperCase();
			document.getElementById("return").innerHTML=return_label.toUpperCase();
			document.getElementById("power").innerHTML=power_label.toUpperCase();
			document.getElementById("pause").innerHTML=pause_label.toUpperCase();
			document.getElementById('closeremote').value = close_remote_label.toUpperCase();
			document.getElementById('enter').value = enter_label.toUpperCase();
			document.getElementById('red').value = red_label.toUpperCase();
			document.getElementById('blue').value = blue_label.toUpperCase();
			document.getElementById('yellow').value = yellow_label.toUpperCase();
			document.getElementById('green').value = green_label.toUpperCase();
			document.getElementById('eject').value = eject_label.toUpperCase();
			document.getElementById('titleremote').value = title_label.toUpperCase();
			document.getElementById('filemode').value = file_mode_label.toUpperCase();
			document.getElementById('tvmode').value = tv_mode_label.toUpperCase();
			document.getElementById('angle').value = angle_label.toUpperCase();
			document.getElementById('timeseek').value = time_seek_label.toUpperCase();
			document.getElementById('source').value = source_label.toUpperCase();
			document.getElementById('zoom').value = zoom_label.toUpperCase();
			
			
		}
		
  // ********************* NOW SET VARIOUS FUNCTION **********************************************  
 
	// call the JSON value of season  	
		function perform_season()
		{
		jsonSeasonUrl = "/yamj3/api/index/video.json?type=season&sortby=season&sortdir=ASC&field=series_id&search="+series_id+"&artwork=poster";
		console.log("URL: " + jsonSeasonUrl);
					$.ajax({
                   url: jsonSeasonUrl,
                    async: false,
                    dataType: 'jsonp',
                    'success': function(dataSeason)
                   {
						jsondata = dataSeason;
					//	outputJson(dataSeason);
						updateSeason(dataSeason)
						display_Id ("seasontable");
					}
                });
		}
	// map season value 	
		function updateSeason(dataSeason)
		{
				var SEASON = {
                    "td": {
                        "season<-results": {
                           // "span.SeasonType": "season.videoType",
							"span.SeasonID": "season.id",
							"span.SeasonNb" : "season.season",
                            "span.SeasonTitle": "season.title",
                            "span.SeasonYear": "season.videoYear",
                            "span.SeasonPoster": function(arg) {
                                // Check to see if there are posters
                              if (arg.item.artwork.POSTER) {
                                   // Get the first poster from the list
                                    var poster = arg.item.artwork.POSTER[0];
                                    if (poster.generatedId === 0) {
                                        return "No Poster<br>was generated";
                                   }
						
                                    return "<a href=\"#\" onclick=\" goto_SeasonId('" + arg.item.videoType + "', " + arg.item.id + ")\"><img src=\"" + arg.context.baseArtworkUrl + poster.filename + "\" height=\"100\"></a>";
								} else {
                                    return noposter_text;
								}
							   }
							}
						}
					};
					updateItemCount (dataSeason, "Season");
					$p('.seasontable').render(dataSeason, SEASON);
		}
				
	// call the JSON value for episode 			
		function perform_episode()
		{
		jsonEpisodeUrl = "/yamj3/api/video/episodes.json?&seriesid="+series_id+"&seasonid="+current_id+"&dataitems=plot,files";
		console.log("URL: " + jsonEpisodeUrl);
					$.ajax({
                   url: jsonEpisodeUrl,
                    async: false,
                    dataType: 'jsonp',
                    'success': function(dataEpisode)
                   {
						jsondata = dataEpisode;
					//	outputJson(dataEpisode);
						displayEpisode(dataEpisode);
					
						$('.episode_detail').css('visibility', 'visible');
						display_Id ("list_episode_title");
					}
                });
		}
	// map episode value 
	function displayEpisode(dataEpisode)
        {
			var LIST_videoimage = {
					"span.listepisode_title": function(arg) 
						{
							var totalepisode_title = arg.context.results;
							var outputepisode_title = "";
							for (i = 0; i < totalepisode_title.length; i++) 
							{
							// construct an activ episode list, click on an episode will display title, videoimage, plot 
								outputepisode_title +=	"<a href=\"#\" onclick=\"display_Episode_videoimage ('videoimage"+[i]+"','episodeplot"+[i]+"','episodetitle"+[i]+"',"+totalepisode_title.length+")\" >"+totalepisode_title[i].episode+ " - "+totalepisode_title[i].title+"</a><br>";
							}
							return outputepisode_title;
						},
					'span.onlyepisode_title': function(arg) 
						{
						var totalepisode_onlytitle = arg.context.results;
						var outputepisode_onlytitle = "";
							for (i = 0; i < totalepisode_onlytitle.length; i++) 
							{
								if (totalepisode_onlytitle[i].title) // test if the title is available 
								{
								// set a class and id for each title, this allow to select the right one on click 
									outputepisode_onlytitle +="<td id=\"episodetitle"+i+"\" class=\"episodetitle"+i+"\">"+totalepisode_onlytitle[i].episode+". "+totalepisode_onlytitle[i].title+"</td>";	
								} else {
								// if there is no title just disable the display 
									outputepisode_onlytitle +="<td id=\"episodetitle"+i+"\" class=\"episodetitle"+i+"\" style=\"display: none; \"></td>";	
									}
							}
							return outputepisode_onlytitle;
						}, 		
             		'span.totalvideoimage': function(arg) 
						{
						var totalvideoimage = arg.context.results;
						var outputvideoimage = "";
							for (i = 0; i < totalvideoimage.length; i++) 
							{
								if (totalvideoimage[i].videoimage) // test if there is a videoimage available 
								{
								// set a class and id for each videoimage, this allow to select the right one on click 
									outputvideoimage +="<img id=\"videoimage"+i+"\" class=\"videoimage"+i+"\" src=\"" + arg.context.baseArtworkUrl + totalvideoimage[i].videoimage + "\" ></img>";	
								} else {
								// display dummy videoimage if not available 
									outputvideoimage +="<img class=\"videoimage"+i+"\" src=\"pictures/dummy_videoimage.jpg\" ></img>";
								}
							}
							return outputvideoimage;
						}, 
					'span.listepisode_plot': function(arg) 
						{
						var totalplot = arg.context.results;
						var outputplot = "";
							for (i = 0; i < totalplot.length; i++) 
							{
								if (totalplot[i].plot)   // test if there is plot
								{
									outputplot +="<td id=\"episodeplot"+i+"\" class=\"episodeplot"+i+"\">"+totalplot[i].plot+"</td>";
								} else {
									// if there is no plot just disable the display box
									outputplot +="<td id=\"episodeplot"+i+"\" class=\"episodeplot"+i+"\" style=\"display: none; \"></td>";	
									}
							}
					
							return outputplot;
						} 	
					};	
			updateItemCount (dataEpisode, "Episode");          
			$p('.table_videoimage').render(dataEpisode, LIST_videoimage);			
        }	
	// generic function to get count and call the real treatment 	
		function updateItemCount(data, type_to_update)
        {
			var ITEM_COUNT = {
               'span.itemcount': function(arg) {
			   switch(type_to_update)
				{
					case 'Season':
						set_seasoncount (arg.context.count);
						break;
					case 'Episode':
						set_episodecount (arg.context.count);
						break;
				}
			   return arg.context.count;
			   }
            };

           $p('.counttest').render(data, ITEM_COUNT);
        }
		

	// set a new id in the last sequence
		function set_onlyId(Newid)
				{     
				current_id = Newid;
				localStorage.setItem("id", current_id);
				console.log("Storing value: " + indextype + "-" + current_id);
				window.location.href="detail.html";
				}	
	// prepare to change to the season select by onclick	
		function goto_SeasonId(indextype, SeasonId)
			{
				localStorage.setItem("type", indextype);
				localStorage.setItem("id", SeasonId);
				console.log("Storing value: " + indextype + "-" + SeasonId);
				window.location.href="detail.html";
			}
			
	// store the series Id for future use
		function store_SeriesId (Series_Id)
				{
				series_id = Series_Id;
				localStorage.setItem("SeriesId", Series_Id);
				console.log("Storing Series Id value: " + Series_Id);
				}	
	// on click on episode list, display dynamicaly episode videoimage, plot, title 			
		function display_Episode_videoimage(videoId_to_display, plotId_to_display, titleId_to_display, max_videoimage_to_hidden)
					{
						console.log("display_episode_videoimage:" +videoId_to_display+plotId_to_display+titleId_to_display+max_videoimage_to_hidden);
						// just reset what is on the screen before the right display 
						document.getElementById(current_episode_videoimage).style.visibility="hidden";
						document.getElementById(current_episode_plot).style.visibility="hidden";
						document.getElementById(current_episode_title).style.visibility="hidden";
						// now the screen is clean , display what is asked 
						document.getElementById(videoId_to_display).style.visibility="visible";
						document.getElementById(plotId_to_display).style.visibility="visible";
						document.getElementById(titleId_to_display).style.visibility="visible";
						// store the current value 
						current_episode_videoimage = videoId_to_display;
						current_episode_plot = plotId_to_display;
						current_episode_title = titleId_to_display;
						//current_target_path = episode_title;
					}
	
	
	// on - off fanart button 
		function toggle_fanart()
					{			
						if (fanart_toggle == 0)
						{ 
							fanart_toggle = 1;
							display_only_fanart ();
							$('#fanartshow').css('color', 'red');
						} else {
							fanart_toggle =  0;
							display_all ();
							$('#fanartshow').css('color', 'white');
						}
					}

				function toggle_menuright()
					{	
						
						if (menuright_toggle == 0)
						{ 
							menuright_toggle = 1;
							
							$('#li_fanart').css('visibility', 'visible');
							$('#li_person').css('visibility', 'visible');
							$('#li_person_ribbon').css('visibility', 'visible');
							$('#li_movie').css('visibility', 'visible');
							$('#li_search').css('visibility', 'visible');
							$('#li_remote').css('visibility', 'visible');
							$('#li_selection').css('visibility', 'visible');
							$('#li_language').css('visibility', 'visible');	
							$('#selection_id').css('visibility', 'visible');	
							$('#detail_lang_id').css('visibility', 'visible');	
							
						} else {
							menuright_toggle =  0;
							
							$('#li_fanart').css('visibility', 'hidden');
							$('#li_person').css('visibility', 'hidden');
							$('#li_person_ribbon').css('visibility', 'hidden');
							$('#li_movie').css('visibility', 'hidden');
							$('#li_search').css('visibility', 'hidden');
							$('#li_remote').css('visibility', 'hidden');
							$('#li_selection').css('visibility', 'hidden');
							$('#li_language').css('visibility', 'hidden');	
							$('#selection_id').css('visibility', 'hidden');	
							$('#detail_lang_id').css('visibility', 'hidden');	
							
						}
					}
	// click on fanart only , display fanart and nothing else 
		function display_only_fanart ()
			{
				$('.plot').css('visibility', 'hidden');
				$('.genres').css('visibility', 'hidden');
				$('.filepath').css('visibility', 'hidden');
				$('.seasontable').css('visibility', 'hidden');
				
				$('div#slideshowBanner').css('visibility', 'hidden');
				$('div#slideshowCtr').css('visibility', 'hidden');
				$('.'+current_episode_plot).css('visibility', 'hidden');
				$('.'+current_episode_videoimage).css('visibility', 'hidden');
				$('.'+current_episode_title).css('visibility', 'hidden');
				$('#list_episode_title').css('visibility', 'hidden');
				$('.episode_detail').css('visibility', 'hidden');
				$('div#slideshowFanart').css('opacity', '1');
				$('a#play').css('visibility', 'hidden');
			
			}
	// click again on fanart only redisplay the page with all the info 		
		function display_all ()
			{
				$('.plot').css('visibility', 'visible');
				$('.genres').css('visibility', 'visible');
				$('.filepath').css('visibility', 'visible');
				$('div#slideshowCtr ').css('visibility', 'visible');
				$('div#slideshowFanart').css('opacity', '0.7');
				$('.play').css('visibility', 'visible');
				switch (indextype.toLowerCase())
					{
					case 'season':
						$('div#slideshowBanner').css('visibility', 'visible');
						$('.'+current_episode_plot).css('visibility', 'visible');
						$('.'+current_episode_videoimage).css('visibility', 'visible');
						$('.'+current_episode_title).css('visibility', 'visible');
						$('.episode_detail').css('visibility', 'visible');
						$('#list_episode_title').css('visibility', 'visible');
						$('.moviedetail').css('top', '115px');
						$('.moviedetail').css('left', '230px');
						$('.moviedetail').css('width', '1060px');
						$('.plot').css('left', '0px');
						$('.plot').css('max-width', '1250px');
						$('.genres').css('left', '0px');
						$('.genres').css('max-width', '1250px');
						$('.filepath').css('left', '0px');
						$('.filepath').css('max-width', '1250px');
						$('div#slideshowCtr').css('top', '60px');
						$('a#next').css('top', '200px');
						$('a#prev').css('top', '200px');
			//			$('.play').css('top', '65px');
						break;
					case 'movie':
						$('.moviedetail').css('top', '558px');
						$('.moviedetail').css('left', '10px');
						$('.moviedetail').css('width', '1280px');
						
			//			nothing special 
						break;
					case 'series':
						$('.moviedetail').css('top', '650px');
						$('.moviedetail').css('left', '10px');
						$('.moviedetail').css('width', '1280px');
						$('.plot').css('left', '0px');
						$('.plot').css('max-width', '1250px');
						$('.genres').css('left', '0px');
						$('.genres').css('max-width', '1250px');
						$('.filepath').css('left', '0px');
						$('.filepath').css('max-width', '1250px');
						$('div#slideshowBanner').css('visibility', 'visible');
						$('div#slideshowCtr').css('top', '60px');
						$('.seasontable').css('visibility', 'visible');
						$('a#next').css('top', '200px');
						$('a#prev').css('top', '200px');
						$('.play').css('display', 'none');
						break;
					}
			}
	
	// adjust episode scroll bar 
	function set_episodecount(count_to_set)
					{
						if (count_to_set < 1)  // if no episode disable display 
						{
						nodisplay_Id('list_episode_title');
						nodisplay_Id('tablevideoimage');
						nodisplay_Id('listepisode_plot');
						} 
					}

	// adjust season scroll bar 
	function set_seasoncount(count_to_set)
					{					
						if (count_to_set)
						{					
							if (count_to_set < 1)
							{
							nodisplay_Id('seasontable');
							} else {
							if (count_to_set < 8)
								{
								padding_season += (7 - count_to_set)*100;
							//	$('.seasontable').css('overflow-x', 'hidden');
								$('.seasontable').css('padding-left', padding_season+'px');
								}
							}	
						} else {
						$('.seasontable').css('visibility', 'hidden');
						}
					}
	// open a new vertical window for index list 				
	function ouvre_popup_index(page, direction, current_type, letter_selection) 
		{
			localStorage.setItem("selection", letter_selection);
			localStorage.setItem("direction", direction);
			localStorage.setItem("type", current_type);
			switch (StyleValue)
					{
					case 'frame':
						{
							if (Movie_toSet) { 
								console.log("ouvre_popup_index:  navData_frame for type:" +current_type+ " with style:"+StyleValue);
								parent.frames['movie_frame'].location.href='navData_frame.html';
								display_Id('movie_display');
								Movie_toSet = false; 
							} else {toggle_Id('movie_display');}
							break;
						} 
					case 'popup':
						{
							console.log("ouvre_popup_index:  navData for type:" +current_type+ " with style:"+StyleValue);
							nodisplay_Id('movie_display');
							Indexpopup = window.open('navData.html', "YAMJv3 Navigation index","channelmode=no, menubar=no, status=no, scrollbars=yes, resizable=yes, menubar=no, location=no, left=2px, top=5px, width=160px, height=1000px");
							break;
						}
					case 'ribbon':
						{
							console.log("ouvre_popup_index:  navData for type:" +current_type+ " with style:"+StyleValue);
							nodisplay_Id('movie_display');
							Indexpopup = window.open('navData.html', "YAMJv3 Navigation index","channelmode=no, menubar=no, status=no, scrollbars=yes, resizable=yes, menubar=no, location=no, left=2px, top=5px, width=160px, height=1000px");
							break;
						}
					case 'page':
						{
							console.log("ouvre_popup_index:  changeindex for type:" +current_type+ " with style:"+StyleValue);
							nodisplay_Id('movie_display');
							ChangeIndex(current_type);
							break;
						}
					
				}
		
		}
	// open a new vertical window for person list 
	function ouvre_popup_person_ribbon() 
		{
			localStorage.setItem("id", localStorage.getItem("id"));
			localStorage.setItem("type", indextype.toLowerCase());
			
			Personpopup = window.open("navPerson.html", "YAMJv3 Navigation Person","channelmode=no, status=no, scrollbars=no, menubar=no, location=no, resizable=yes, left=180px, top=5px, width=150px, height=1000px");

		}
	function ouvre_popup_person() 
		{
			var temp_id = localStorage.getItem("id");
			localStorage.setItem("id", localStorage.getItem("id"));
			localStorage.setItem("type", indextype.toLowerCase());
			console.log("ouvre_popup_person:  style:"+StyleValue+ " type:" +indextype+" id:"+temp_id);
			switch (StyleValue)
					{
					case 'frame':
						{
							if (Person_toSet) { 
								console.log("navPerson_frame:  " +Person_toSet);
								parent.frames['person_frame'].location.href='navPerson_frame.html';
								Person_toSet = false; 
								}
							break;
						} 
					case 'popup':
						{
							console.log("ouvre_popup_person:  navPersonH.html:");
							nodisplay_Id('person_frame');
							Personpopup = window.open("navPersonH.html", "YAMJv3 H Navigation Person","channelmode=no, status=no, scrollbars=no, menubar=no, location=no, resizable=yes, left=180px, top=5px, width=1322px, height=300px");
							break;
						}
					case 'ribbon':
						{
							console.log("ouvre_popup_person:  navPersonH.html:");
							nodisplay_Id('person_frame');
							Personpopup = window.open("navPerson.html", "YAMJv3 Navigation Person","channelmode=no, status=no, scrollbars=no, menubar=no, location=no, resizable=yes, left=180px, top=5px, width=150px, height=1000px");
							break;
						}
					case 'page':
						{
							console.log("ouvre_popup_person:  call_personindex.html:");
							nodisplay_Id('person_frame');
							call_personindex(true)
							break;
						}
					
				}
		}
		
	// close when leave 
	function close_popup()
	{
		if (Personpopup !== "") {Personpopup.close();}
	}

	// genre list is activ and open genre index menu with the genre selected 
	function call_genreselect(genrename)
        {
			localStorage.setItem("Genre_name", genrename);
            console.log("Storing value: Genre name: " +genrename);
			window.location.href="index_Genre.html";
		}
		
	function play_to_device(basefilename)
			{
				
			//	filenametoplay = basefilename.substring(basefilename.lastIndexOf('/')+1); 
			console.log("play_to_device:"+PlayerValue+" basefilename=" +basefilename); 
			for(var j = 0; j < (nbre_translate_path+1); j++){
				if (basefilename.substring(0,source_path[j].length) == source_path[j])
					{
				filenametoplay = basefilename.substring(source_path[j].length);
		//		tempfile = filenametoplay.replace(/\&/g,"%26").replace(/\?/g,"%3F").replace(/\+/g,"%2B");
		//   will be checked later if necessary		
				console.log("filename: "+filenametoplay);
		//		console.log("tempfile" +tempfile);
				temp_file_name = filenametoplay.substring(0,filenametoplay.lastIndexOf('.'));
				file_name = temp_file_name.substring(temp_file_name.lastIndexOf('/')+1);
			//	console.log("play_to_device: file_name=" +file_name+ " filenametoplay=" +filenametoplay+ " target_path="+target_path[j]+ " source_path=" +source_path[j]);
				var UrlPlay="http://"+Ip_device+":8008/playback?arg0="+playcommand+"&arg1="+file_name+"&arg2="+target_path[j]+filenametoplay+"&arg3=show&arg4=0&arg5=0&arg6=disable";
					}
				}
				console.log("play_to_device:" +UrlPlay);

		//		$.ajax({
        //           url: UrlPlay,
        //           async: false,
        //            'success': function(playdata)
        //           {
		//				jsondata = playdata;
				//		outputJson(playdata);
		//				ouvre_remote ();
		//			}
		//		});	
		//	 return ;

		$.get(UrlPlay);
		ouvre_remote ();
			}
		function ouvre_remote() 
		{
		//	Remotepopup = window.open("./remote/my_remote_"+LangValue+".html", "YAMJv3 Remote","channelmode=no, status=no, scrollbars=no, menubar=no, location=no, resizable=yes, left=1050px, top=150px, width=512px, height=312px");
			document.getElementById("remote").style.visibility="visible";
			
		}
		function close_remote() 
		{

			document.getElementById("remote").style.visibility="hidden";
			
		}
      </script>
<!-- *************************************************************************************************************** -->
    </head>
    <body onload="getData();" onUnload="close_popup();">
	<!-- navigation to index -->
		
		<div id="logo">
						<td>
							<ul id="detail_home_left" ><img src="./pictures/yamj-logo_repeat.png" width="90px" />
									<li><a id="li_home_left" href="javascript:toggle_menuleft()"></a></li>
									<li><a id="li_all_up" href="javascript:ChangeIndex('movie,series')">
										<div id="allselect"></div></a></li>
									<li><a id="li_movie_up" href="javascript:ChangeIndex('movie')">
										<div id="movieselect"></div></a></li>	
									<li><a id="li_series_up" href="javascript:ChangeIndex('series')">
										<div id="serieselect"></div></a></li>	
									<li><a id="li_season_up" href="javascript:ChangeIndex('season')">
										<div id="seasonselect"></div></a></li>		
									<li><a id="li_person_up" href="javascript:call_personindex('false')">
										<div id="personindex"></div></a></li>
									<li><a id="li_genre_up" href="javascript:call_genreindex(indextype, 'false')">
										<div id="genreindex"></div></a></li>
									<li><a id="li_search_up" href="javascript:ouvre_popup_search(StyleValue)">
										<div id="searchindex"></div></a></li>
									<li><a id="li_config_up" href="javascript:ouvre_config(StyleValue)">
										<div id="configindex"></div></a></li>
							</ul>
						<td>
	<!-- various navigation -->					
					<td>
							<ul id="detail_home_right"><img src="./pictures/yamj-logo_repeat.png" width="90px" />
									<li><a id="li_home_right" href="javascript:toggle_menuright()"></a></li>
									<li><a id="li_fanart" href="javascript:toggle_fanart()">
										<div id="fanartshow"></div></a></li>
									<li><a id="li_person" href="javascript:ouvre_popup_person();toggle_Id('person_display')">
										<div id="personshow"></div></a></li>
								
							<!--		<li><a id="li_person_ribbon" href="javascript:ouvre_popup_person_ribbon()">
										<div id="person_ribbon"></div></a></li>	 -->
									<li><a id="li_movie" href="javascript:ouvre_popup_index('', 'ASC', indextype, '')">
										<div id="show"></div></a></li>	
									<li>
										<form><label id='li_selection'></label>
											<select id="selection_id" onchange="Movie_toSet = true;display_Id('movie_display');javascript:ouvre_popup_index('', 'ASC', indextype, document.getElementById('selection_id').value); Movie_toSet = true;">
												<option value=""></option>
												<option value="A">A</option>
												<option value="B">B</option>
												<option value="C">C</option>
												<option value="D">D</option>
												<option value="E">E</option>
												<option value="F">F</option>
												<option value="G">G</option>
												<option value="H">H</option>
												<option value="I">I</option>
												<option value="J">J</option>
												<option value="K">K</option>
												<option value="L">L</option>
												<option value="M">M</option>
												<option value="N">N</option>
												<option value="O">O</option>
												<option value="Q">Q</option>
												<option value="R">R</option>
												<option value="S">S</option>
												<option value="T">T</option>
												<option value="U">U</option>
												<option value="V">V</option>
												<option value="W">W</option>
												<option value="X">X</option>
												<option value="Y">Y</option>
												<option value="Z">Z</option>
												<option value="0">0</option>
												<option value="1">1</option>
												<option value="2">2</option>
												<option value="3">3</option>
												<option value="4">4</option>
												<option value="5">5</option>
												<option value="6">6</option>
												<option value="7">7</option>
												<option value="8">8</option>
												<option value="9">9</option>
											</select> 
											<noscript><input type="submit" value="Submit"></noscript>
										</form>
									</li>	
									<li><a id="li_remote" href="javascript:ouvre_remote()">
										<div id="remoteselect"></div></a></li>
							</ul>
						<td>
        </div>
	<!--  header for movie/series name -->
		<div class="header">
			<table>
				<tr>
	
					<td width="850px">
						<span class="header_type"></span>
						<span class="header_title"></span>
						<span class="header_text"> (</span>
						<span class="header_year"></span>
						<span class="header_text">) id:</span>
						<span class="header_id" ></span>
						</td>
				</tr>
			</table>
		</div>
		
		<div class="test">
					<td><span class="lastid"></span></td>
		</div> 
		<div class="counttest">
					<td><span class="itemcount"></span></td>
		</div> 
	<!-- just added to set the language value, shouldn't be displayed  -->
		<div class="results" style="visibility: hidden; display:none;">
			<table><tr><td class="Value"></td></tr></table>
		</div>
	<!-- just added to set the poster number value, shouldn't be displayed  -->
		<div class="poster_results" style="visibility: hidden; display:none;">
			<table><tr><td class="Poster_Value"></td></tr></table>
		</div>
	<!-- display person -->
		<div id="person_display" style="visibility: hidden; ">
		
			<iframe src="" name="person_frame" resizable="yes" id="person_frame" scrolling="yes" frameborder="1" style="overflow:auto; width:1220px; height:335px;" allowTransparency="true"></iframe>
		</div>	
	<!-- display Movie -->
		<div id="movie_display" style="visibility: hidden; ">
			<iframe src="" name="movie_frame" resizable="yes" id="movie_frame" scrolling="yes" frameborder="1" style="overflow:auto; width:1245px; height:265px;" allowTransparency="true"></iframe>
		</div>	
		
	<!-- main table for detail page -->
        <div class="template"> 
           <table>
                  <tbody>
                    <tr>    
						<!-- fanart animation, automatic every 10s, if more than one fanart -->
						<td rowspan="10">
                            <div id="slideshowFanart" class="glow">
                                <div id="imgRollFanart">
                                    <img class="fanart" src=""/>
                                </div>
                            </div>
                            <a id="nextFanart">=></a>
                            <a id="prevFanart"><=</a>
                        </td>
						<!-- poster animation, automatic every 3s, if more than one fanart, could be stopped or adjust by button  -->
						<td rowspan="10">
                            <div id="slideshowCtr" class="glow">
                                <div id="imgRoll">
                                    <img class="poster" src=""/>
                                </div>
                            </div>
						
						<!-- play button -->
							<img class="play" src=""/>
						
						<!-- next , previous button -->
                            <a id="next"><img src="./pictures/next.png" /></a>
                            <a id="prev"><img src="./pictures/previous.png" /></a>
                        </td>        
                    
					<!-- Banner animation, automatic every 10s, if more than one Banner -->
						<td rowspan="10">
                            <div id="slideshowBanner" class="glow">
                                <div id="imgRollBanner">
                                    <img class="banner" src=""/>
                                </div>
                            </div>
								<a id="nextBanner"><img src="./pictures/next.png" /></a>
								<a id="prevBanner"><img src="./pictures/previous.png" /></a>
                        </td>
					</tr>
			<!-- split table for image and text --> 
			<!-- add class for each object in the detail section of yamj-style.css -->
					<table class="moviedetail">
						<tr>
							<td><span class="filepath"></span></td>
						</tr>
						<tr>
							<td><span class="genres"></span></td>
						</tr>
						<tr >
							<td ><span class="plot"></span></td>
						</tr>
					</table>
                </tbody>
            </table> 	
		</div>

	<!-- display season box , one for each season , add scroll horizontal bar if more than 8 seasons --> 
		<div class="seasontable" id="seasontable">
			<table >
				<tr>
					<td class="season">
						<text class="season"> Id: </text>
						<span class="SeasonID"></span><span class="SeasonPoster"></span>
						<span class="SeasonYear"></span><br>
						<text class="season" id='seasonlabel'></text><span class="SeasonNb"></span><br>
						<span class="SeasonTitle"></span>
					</td>
				</tr>
			</table>
		</div>
	<!-- for episode detail section , hidden by default in other display -->	
		<div class="episode_detail">
			<div class="table_videoimage">  <!-- to map JSON return -->
				<table id="list_episode_title">	  <!-- list of episode on the right part, add scrool vertical bar if more than 20 episodes -->
					<tr>
						<td>
						 <span class="listepisode_title"></span>
						</td>
					</tr>
				</table>
				<table id="episode_title">	<!-- display title and episode number  -->
					<tr>
						<td>
						 <span class="onlyepisode_title"></span>
						</td>
					</tr>
				</table>
				<table id="tablevideoimage">	<!-- display dynamically videoimage on click on episode if available ortherwise dummy_videoimage -->
					<tr>
						<td>
						
						 <span class="totalvideoimage"></span>
						 
						</td>
					</tr>
				</table>
				<table id="listepisode_plot">	<!-- display dynamically plot on click on episode if available, add vertical scroll bar if more than 830 chars -->
					<tr>
						<td>
						 <span class="listepisode_plot"></span>
						</td>
					</tr>
				</table>
			</div>	
		</div>

		<!-- to display remote --> 
		<table id="remote" >	
						<tr align="center">
							<td><input type="button" onclick="close_remote()" id="closeremote" class="remote_button" /></td>
						</tr>					
			<tr><td height="5"></td></tr>
			<tr>
				<td valign="top">
					<table border="0" cellpadding="0" cellspacing="0">					
						<tr>
							<td align="center">
								<input type="image" 
									onclick="sendKey('power'); "
									src="./pictures/exit_on.png"
									class="remote_image"
									onblur="myStopFunction('power')"
									onmouseout="this.src='./pictures/exit_on.png';"
									onmouseover="this.src='./pictures/exit.png';"/>
								<div id="power"></div>
							</td>
							<td></td>
							<td align="center">
								<input type="image"
									onclick="sendKey('home')"
									src="./pictures/home3_on.png"
									class="remote_image"
									onblur="myStopFunction('home')"
									onmouseout="this.src='./pictures/home3_on.png';"
									onmouseover="this.src='./pictures/home3.png';"/>
								<div id="home"></div>
							</td>
							<td></td>
							<td align="center">
								<input type="image"
									onclick="sendKey('setup')"
									src="./pictures/setup_on.png"
									class="remote_image"
									onblur="myStopFunction('setup')"
									onmouseout="this.src='./pictures/setup_on.png';"
									onmouseover="this.src='./pictures/setup.png';"/>
								<div id="setup"></div>
							</td>
							<td></td>
							<td align="center">
								<input type="image"
									onclick="sendKey('info')"
									src="./pictures/info2_on.png"
									class="remote_image"
									onblur="myStopFunction('info')"
									onmouseout="this.src='./pictures/info2_on.png';"
									onmouseover="this.src='./pictures/info2.png';"/>
								<div id="info"></div>
							</td>
						</tr>
						<tr><td height="5"></td></tr>
						<tr>
							<td align="center">
								<input type="image"
									onclick="sendKey('up')"
									src="./pictures/up_on.png"
									class="remote_image"
									onblur="myStopFunction('up')"
									onmouseout="this.src='./pictures/up_on.png';"
									onmouseover="this.src='./pictures/up.png';"/>
								<div id="up"></div>
							</td>
							<td></td>
							<td align="center">
								<input type="image"
									onclick="sendKey('left')"
									src="./pictures/back_on.png"
									class="remote_image"
									onblur="myStopFunction('left')"
									onmouseout="this.src='./pictures/back_on.png';"
									onmouseover="this.src='./pictures/back.png';"/>
								<div id="left"></div>
							</td>
							<td></td>
							<td align="center">
								<input type="image"
									onclick="sendKey('right')"
									src="./pictures/fwd_on.png"
									class="remote_image"
									onblur="myStopFunction('right')"
									onmouseout="this.src='./pictures/fwd_on.png';"
									onmouseover="this.src='./pictures/fwd.png';"/>
								<div id="right"></div>
							</td>
							<td></td>
							<td align="center">
								<input type="image"
									onclick="sendKey('down')"
									src="./pictures/down_on.png"
									class="remote_image"
									onblur="myStopFunction('down')"
									onmouseout="this.src='./pictures/down_on.png';"
									onmouseover="this.src='./pictures/down.png';"/>
								<div id="down"></div>
							</td>
						</tr>
						<tr><td height="5"></td></tr>
						<tr>
							<td align="center">
								<input type="image"
									onclick="sendKey('rewind')"
									src="./pictures/rewind_on.png"
									class="remote_image"
									onblur="myStopFunction('rewind')"
									onmouseout="this.src='./pictures/rewind_on.png';"
									onmouseover="this.src='./pictures/rewind.png';" />
								<div id="rewind"></div>
							</td>
							<td></td>
							<td align="center">
								<input type="image"
									onclick="sendKey('prev')"
									src="./pictures/icon-prev_on.png"
									class="remote_image"
									onblur="myStopFunction('prev_remote')"
									onmouseout="this.src='./pictures/icon-prev_on.png';"
									onmouseover="this.src='./pictures/icon-prev.png';"/>
								<div id="prev_remote"></div>
							</td> 
							<td></td>
							<td align="center">
								<input type="image"
									onclick="sendKey('next')"
									src="./pictures/next-icon_on.png"
									class="remote_image"
									onblur="myStopFunction('next_remote')"
									onmouseout="this.src='./pictures/next-icon_on.png';"
									onmouseover="this.src='./pictures/next-icon.png';"/>
								<div id="next_remote"></div>
							</td>
							<td></td>
							<td align="center">
								<input type="image"
									onclick="sendKey('fwd')"
									src="./pictures/forward_on.png"
									class="remote_image"
									onblur="myStopFunction('fwd')"
									onmouseout="this.src='./pictures/forward_on.png';"
									onmouseover="this.src='./pictures/forward.png';"/>
								<div id="fwd"></div>
							</td>
						</tr>
						<tr><td height="5"></td></tr>
						<tr>
							<td align="center">
								<input type="image"
									onclick="sendKey('stop')"
									src="./pictures/icon-stop_on.png"
									class="remote_image" onblur="myStopFunction('stop')"
									onmouseout="this.src='./pictures/icon-stop_on.png';"
									onmouseover="this.src='./pictures/icon-stop.png';"/>
								<div id="stop"></div>
							</td>
							<td></td>
							<td align="center">
								<input type="image"
									onclick="sendKey('play')"
									src="./pictures/icon-play_on.png"
									class="remote_image" onblur="myStopFunction('play')"
									onmouseout="this.src='./pictures/icon-play_on.png';"
									onmouseover="this.src='./pictures/icon-play.png';"/>
								<div id="play"></div>
							</td>
							<td></td>
							<td align="center">
								<input type="image"
									onclick="sendKey('pause')"
									src="./pictures/icon-pause_on.png"
									class="remote_image"
									onblur="myStopFunction('pause')"
									onmouseout="this.src='./pictures/icon-pause_on.png';"
									onmouseover="this.src='./pictures/icon-pause.png';"/>
								<div id="pause"></div>
							</td>
							<td></td>
							<td align="center">
								<input type="image"
									onclick="sendKey('repeat')"
									src="./pictures/repeat_on.png"
									class="remote_image"
									onblur="myStopFunction('repeat')"
									onmouseout="this.src='./pictures/repeat_on.png';"
									onmouseover="this.src='./pictures/repeat.png';"/>
								<div id="repeat"></div>
							</td>
						</tr>
						<tr><td height="5"></td></tr>
						<tr>
							<td align="center">
								<input type="image"
									onclick="sendKey('audio')"
									src="./pictures/audio_on.png"
									class="remote_image"
									onblur="myStopFunction('audio')"
									onmouseout="this.src='./pictures/audio_on.png';"
									onmouseover="this.src='./pictures/audio.png';"/>
								<div id="audio"></div>
							</td>
							<td></td>
							<td align="center">
								<input type="image"
									onclick="sendKey('volumeup')"
									src="./pictures/audioplus_on.png"
									class="remote_image" onblur="myStopFunction('volumeup')"
									onmouseout="this.src='./pictures/audioplus_on.png';"
									onmouseover="this.src='./pictures/audioplus.png';"/>
								<div id="volumeup"></div>
							</td>
							<td></td>
							<td align="center">
								<input type="image"
									onclick="sendKey('volumedown')"
									src="./pictures/audiominus_on.png;"
									class="remote_image"
									onblur="myStopFunction('volumedown')"
									onmouseout="this.src='./pictures/audiominus_on.png';"
									onmouseover="this.src='./pictures/audiominus.png';"/>
								<div id="volumedown"></div>
							</td>
							<td></td>
							<td align="center">
								<input type="image"
									onclick="sendKey('mute')"
									src="./pictures/mute_on.png" class="remote_image" 
									onblur="myStopFunction('mute')"
									onmouseout="this.src='./pictures/mute_on.png';"
									onmouseover="this.src='./pictures/mute.png';"/>
								<div id="mute"></div>
							</td>
						</tr>
						<tr><td height="5"></td></tr>
						<tr>
							<td align="center">
								<input type="image"
									onclick="sendKey('menu')"
									src="./pictures/menu3_on.png"
									class="remote_image"
									onblur="myStopFunction('menu')"
									onmouseout="this.src='./pictures/menu3_on.png';"
									onmouseover="this.src='./pictures/menu3.png';"/>
								<div id="menu"></div>
							</td>
							<td></td>
							<td width="17%" height="25" align="center"><input type="button" onclick="sendKey('enter')" id="enter" class="button" /></td>
							<td></td>
							<td align="center">
								<input type="image"
									onclick="sendKey('return')"
									src="./pictures/returnbutton_on.png"
									class="remote_image"
									onblur="myStopFunction('return')"
									onmouseout="this.src='./pictures/returnbutton_on.png';"
									onmouseover="this.src='./pictures/returnbutton.png';"/>
								<div id="return"></div>
							</td>
							<td></td>
							<td align="center">
								<input type="image"
									onclick="sendKey('subtitle')"
									src="./pictures/subtitles_on.png"
									class="remote_image"
									onblur="myStopFunction('subtitle')"
									onmouseout="this.src='./pictures/subtitles_on.png';"
									onmouseover="this.src='./pictures/subtitles.png';"/>
								<div id="subtitle"></div>
							</td>
						</tr>
						<tr><td height="5"></td></tr>
						<tr>
							<td align="center"><input type="button" onclick="sendKey('red')" id="red" class="button" style="background-color:red;" /></td>
							<td></td>
							<td align="center"><input type="button" onclick="sendKey('green')" id="green" class="button" style="background-color:green;" /></td>
							<td></td>
							<td align="center"><input type="button" onclick="sendKey('yellow')"  id="yellow" class="button" style="background-color:yellow;" /></td>
							<td></td>
							<td align="center"><input type="button" onclick="sendKey('blue')" id="blue" class="button" style="background-color:blue;" /></td>
						</tr>
						<tr><td height="5"></td></tr>
						<tr>	
							<td align="center"><input type="button" onclick="sendKey('eject')" id="eject" class="button"/></td>
							<td></td>
							<td align="center"><input type="button" onclick="sendKey('title')" id="titleremote" class="button"/></td>
							<td></td>
							<td align="center"><input type="button" onclick="sendKey('filemode')" id="filemode" class="button"/></td>
							<td></td>
							<td align="center"><input type="button" onclick="sendKey('source')" id="source" class="button"/></td>
						</tr>
						<tr><td height="5"></td></tr>
						<tr>
							<td align="center"><input type="button" onclick="sendKey('zoom')" id="zoom" class="button"/></td>
							<td></td>
							<td align="center"><input type="button" onclick="sendKey('tvmode')" id="tvmode" class="button"/></td>
							<td></td>
							<td align="center"><input type="button" onclick="sendKey('angle')" id="angle" class="button"/></td>
							<td></td>
							<td align="center"><input  type="button" onclick="sendKey('time seek')" id="timeseek" class="button"/></td>
						</tr>
						<tr><td height="5"></td></tr>
						<table>
						<tr align="center">
							<td width="3"></td>
							<td align="center"><input type="image" onclick="sendKey('zero')" src="./pictures/00.png"  class="remote_number"/></td>							
							<td align="center"><input type="image" onclick="sendKey('one')" src="./pictures/01.png"  class="remote_number" /></td>							
							<td align="center"><input type="image" onclick="sendKey('two')" src="./pictures/02.png" class="remote_number"/></td>							
							<td align="center"><input type="image" onclick="sendKey('three')" src="./pictures/03.png" class="remote_number"/></td>							
							<td align="center"><input type="image" onclick="sendKey('four')" src="./pictures/04.png" class="remote_number"/></td>																			
							<td align="center"><input type="image" onclick="sendKey('five')" src="./pictures/05.png" class="remote_number"/></td>
							<td align="center"><input type="image" onclick="sendKey('six')" src="./pictures/06.png" class="remote_number"/></td>							
							<td align="center"><input type="image" onclick="sendKey('seven')" src="./pictures/07.png" class="remote_number"/></td>							
							<td align="center"><input type="image" onclick="sendKey('height')" src="./pictures/08.png" class="remote_number"/></td>							
							<td align="center"><input type="image" onclick="sendKey('nine')" src="./pictures/09.png" class="remote_number"/></td>
						</tr>
						</table>
					</table>
				</td>
			</tr>
		</table>
		<div id="cmd" style="visibility: hidden;"></div>
		<!-- display config -->
		<div id="target_display" style="visibility: hidden; ">		
			<iframe src="" name="target_frame" resizable="yes" id="target_frame" scrolling="no" frameborder="1" style="overflow:hidden; width:900px; height:220px;" allowTransparency="true"></iframe>
		</div>	
		<!-- display source data from API if needed  -->
        <div id="sourceData"></div>
    </body>
</html>