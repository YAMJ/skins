<!doctype html>
<html>
    <head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <title>YAMJ v3 detail page</title>
        <script src="js/jQuery.js"></script>
        <script src="js/pure.js"></script>
		<!-- Used for skin language setting -->
		<script src="js/lang.js"></script>
		<!-- Used for template -->
		<script src="js/template.js"></script>
		<script src="js/my_remote.js"></script>
		<script src="js/library.js"></script>
	
        <link rel="stylesheet" type="text/css" href="css/yamj-style.css"/>
	
        <link href="slideshow/slideshow.css" rel="stylesheet" type="text/css" />
        <script src="slideshow/slideshow.js" type="text/javascript"></script>
        <script src="slideshow/slideshowFanart.js" type="text/javascript"></script>
		<script src="slideshow/slideshowBanner.js" type="text/javascript"></script>
		<script type="text/javascript" src="js/iscroll.js"></script>
		
<!--		<object classid="clsid:9BE31822-FDAD-461B-AD51-BE1D1C159921" codebase="http://download.videolan.org/pub/videolan/vlc/last/win32/axvlc.cab"></object>
		



        
		<object classid="clsid:9BE31822-FDAD-461B-AD51-BE1D1C159921" type="application/x-vlc-plugin" codebase="http://download.videolan.org/pub/videolan/vlc/last/win32/axvlc.cab" width="640"  height="480" id="vlc" >
		
		</object>-->

        <script type="text/javascript">
		
// ******************************* ALL GENERAL VARIABLE **********************************************
			// get the id and the type asked previously, data was stored from index, detail or  index_list pages 
            var current_id = localStorage.getItem("id");
            var index_type = localStorage.getItem("indextype");
			var season = localStorage.getItem("season");
			var series_id = localStorage.getItem("SeriesId");
			var dataindex = localStorage.getItem("index-nav");
			// default general value
			var season_title = "";
			var current_title = "";
            var jsondata;
			var jsonUrl = "";
			var jsonSeasonUrl = "";
			var jsonDeleteUrl = "";
			var CurrentUrlPlay;
			var Currentfilename;
			var stage_file_Id = "";
			var countset = "-1";
			var fanart_toggle = 0;
			var menuleft_toggle = 0;
			var menuright_toggle = 0;
			var padding_season = 35;
			var Personpopup = "";
			// default value for episode 
			var current_episode_videoimage = "videoimage0";
			var	current_episode_plot = "episodeplot0";
			var	current_episode_title = "episodetitle0";
			var nbre_translate_path = 0;
			var current_file_toplay = "";
			var myVar = "";
			var Person_toSet = true;
			var Movie_toSet = true;
			
// ******************************************** COMMON RESULTS MAPPING **********************************			
			// from jsonUrl
			var DETAIL_HEADER = {
			
						
							'span.header_title': function (arg) {
								season_title = arg.context.result.title;
								current_title = arg.context.result.title;
								if (index_type.toLowerCase() == 'season')
								{
								store_SeriesId (arg.context.result.seriesId);
								return arg.context.result.title + ' '+season_label+': '+ arg.context.result.season;
								} else {
						
								return arg.context.result.title;
									}
							},
							'span.header_year': 'result.videoYear',
							'span.header_id': function (arg) {
									if (index_type.toLowerCase() == 'series')   
										{ 
										store_SeriesId (arg.context.result.id);   // store the series id for next navigation 
							
										}
								return arg.context.result.id;
								}, 
							'span.header_runtime': function (arg) {
								if (arg.context.result.files[0].runtime)
									{return   arg.context.result.files[0].runtime ;}
									else {return no_text.toUpperCase(); }
							},
							"img.watched@src": function(arg)
								{
									if (arg.context.result.watched) 
									{return "./pictures/watched.png";}
									else {return "./pictures/unwatched.png";}
							
								}, 
							"img.watched@onclick": function(arg)
								{
									if (arg.context.result.watched) 
									{return "WatchedSelection('index.html', 'true')";}
									else {return "WatchedSelection('index.html', 'false')";}
							
								},
							'span.country': function(arg)
							{
								if (arg.context.result.countries) 
								{
								return  "<a href=\"javascript:call_countryselect('" + arg.context.result.countries[0].name + "')\" ><img class='country' src='pictures/flags/" + arg.context.result.countries[0].name.toLowerCase() + ".png' alt=\"" + arg.context.result.countries[0].name + "\" /></a>";	
								}
								else {return;}
							}, 
							'img.channels@src': function(arg)
								{
									if (arg.context.result.files[0].audioCodecs[0].channels)
									{return "./pictures/audio/" + arg.context.result.files[0].audioCodecs[0].channels +".png";}
								}
						
						};
			// from jsonUrl		
            var YAMJ_DIR = {
				'span.director': function(arg)
							{	
							if (arg.context.result.cast) {
								if (arg.context.result.cast.DIRECTOR)
									{
										return "<text>" + director_label.toUpperCase() + "</text>" + "<a href=\"#\" onclick=\"open_person_popup('" + arg.context.result.cast.DIRECTOR[0].id + "', 'close')\" class=\"actors\">" + arg.context.result.cast.DIRECTOR[0].name +"</a>";
									} else { return ;}
								}
							},
				'span.writer': function(arg)
							{
							if (arg.context.result.cast) {
								if (arg.context.result.cast.WRITER)
									{
										return "<text>" + writer_label.toUpperCase() + "</text>" + "<a href=\"#\" onclick=\"open_person_popup('" + arg.context.result.cast.WRITER[0].id + "', 'close')\" class=\"actors\">" + arg.context.result.cast.WRITER[0].name +"</a>";
									}	else  { return "<text>" + writer_label.toUpperCase() + ":</text> no writer"; }
								}
							},
				'span.actors': function(arg) 
							{
							if (arg.context.result.cast) {
								if (arg.context.result.cast.ACTOR)
									{
										var Actors = arg.context.result.cast.ACTOR; 
										var output_actors = "<text>" + actor_label.toUpperCase() + "</text>";
										
										for (i = 0; i < Actors.length; i++) 
											{
											output_actors = output_actors + "<a href=\"#\" onclick=\"open_person_popup('" + arg.context.result.cast.ACTOR[i].id + "', 'close')\" class=\"actors\">" + Actors[i].name +".</a>"
											}
										
										return output_actors;
									} else { return "<text>" + actor_label.toUpperCase() + "</text> no actor"; }
								}
							},	
                'span.plot1': function(arg) {
				// check if plot is available 
					if (arg.context.result.plot) {
							return "<text>"+plot_label.toUpperCase()+"</text>" +arg.context.result.plot;
								} else {
							return "<text>"+noplot_text.toUpperCase()+"</text>";
							}
				},
                'span.genres': function(arg)
                {
                    var output = "<text>"+genre_label.toUpperCase()+"</text>";
					if (arg.context.result.genres)
					{
						var first_genres = true; 
						var genres = arg.context.result.genres;
						// loop thru the list of genres
						for (i = 0; i < genres.length; i++) {
							if (first_genres) {
								first_genres = false;
							} else {
								output += ", ";
							}
							if (genres[i].target) { output = output + "<a href=\"javascript:call_genreselect('" + genres[i].target + "')\" >" + genres[i].target + "</a>";}
								else { output = output + "<a href=\"javascript:call_genreselect('" + genres[i].name + "')\" >" + genres[i].name + "</a>";}
						}
					}
                    return output;
                },
	//			  'span.certifications': function(arg)
    //            {
	//				var output = "<text>"+certification_label.toUpperCase()+"</text>";
	//				if (arg.context.result.certifications)
	//				{
	//					var certifications = arg.context.result.certifications;
	//					
	//					var first_certifications = true;
	//					// loop thru the list of genres
	//					for (i = 0; i < certifications.length; i++) {
	//						if (first_certifications) {
	//							first_certifications = false;
	//						} else {
	//							output += ", ";
	//						}
	//						output = output + "<a href=\"javascript:call_certificationselect('" + certifications[i].country + "-" + certifications[i].certificate + "')\" ><img src='pictures/certification/" + certifications[i].country.toUpperCase() + "/" + certifications[i].certificate + ".png' width=\"20px\" style=\"vertical-align:bottom;\" /></a>";
	//					}
	//				}
    //                return output;
    //            },
				'img.image_certification@src': function(arg)
                {
					if (arg.context.result.certifications)
					{
						var certifications = arg.context.result.certifications;	
							switch (certifications[0].certificate)
								{
								case "3":
								case "6":
									output = "pictures/certification/" + certifications[0].country.toUpperCase() + "/10.png"
									break;
								
								default:
									output = "pictures/certification/" + certifications[0].country.toUpperCase() + "/" + certifications[0].certificate + ".png"
									break;
							}
						} else {
							output = "pictures/certification/dummy_certification.png"
					}
                    return output;
                },
				"img.image_certification@onclick": function(arg)
				{
					if (arg.context.result.certifications)
						{
							var certifications = arg.context.result.certifications;						
								output = "javascript:call_certificationselect('" + certifications[0].country + "-" + certifications[0].certificate + "', " + certifications[0].id + ")";
							} else {
								output = "";
							}
						return output;	
				},
				'span.studio': function(arg)
							{
								var studio = arg.context.result.studios;
								if (studio)
								{
								var output = "";
								
								// loop thru the list of studio
								for (i = 0; i < studio.length; i++) {
									output = output   + "<a href=\"#\" onclick=\"call_studioselect('" + studio[i].id + "', '" + studio[i].name + "')\" ><img src='pictures/studios/" + studio[i].name + ".png' height=\"30px\" alt=\"" + studio[i].name + "\" /></a>";
									
								}
								return output;
								} else {output = "<text>" + studio_select.toUpperCase() + "</text> No Studio";}
							},			
	//		  'span.ratings': function(arg)
    //            {
	//			//	var output = "<text>"+rating_label.toUpperCase()+"</text>";
	//				var output = "<text>RATING</text>";
	//				if (arg.context.result.ratings)
	//				{
	//					var ratings = arg.context.result.ratings;
	//					
	//					var first_ratings = true;
	//					// loop thru the list of genres
	//					for (i = 0; i < ratings.length; i++) {
	//						if (first_ratings) {
	//							first_ratings = false;
	//						} else {
	//							output += ", ";
	//						}
	//						output = output + "<a href=\"javascript:call_ratingselect('" + ratings[i].source + "', '" + Math.round(ratings[i].rating/10) + "')\" >" + ratings[i].source + ":" + "<img src='pictures/ratings/rating_" + Math.round(ratings[i].rating/10) + ".png' width=\"75px\" /></a>";
	//					}
	//				}
    //               return output;
    //            },
				'img.combined_ratings@src': function(arg)
                {
					if (arg.context.result.ratings)
					{
						var ratings = arg.context.result.ratings;						
							output = "pictures/ratings/rating_" + Math.round(ratings[0].rating/10) + ".png" ;
						} else {
							output = "pictures/ratings/dummy_rating.png"
					}
                    return output;
                },
				"img.combined_ratings@onclick": function(arg)
				{
					if (arg.context.result.ratings)
						{
							var ratings = arg.context.result.ratings;						
								output = "javascript:call_ratingselect('" + ratings[0].source + "', '" + Math.round(ratings[0].rating/10) + "')";
							} else {
								output = "";
							}
						return output;	
				},
            // display fanart   
               'img.fanart': {
                    'fanart<-result.artwork.FANART': {
                        '@src': function(arg)
                        {
						//	console.log("detail display_fanart");
							var output_fanart = "pictures/dummy_fanart.jpg";
                            // Check to see if there are fanart
                            if (arg.item) {
                                // Get fanart from the list
                                if (arg.item.generatedId) {output_fanart = arg.context.baseArtworkUrl + arg.item.filename;}
                            } 
                            return output_fanart;
                        }

                    }
                },
			// display poster 	
				  'img.poster': {
                    'poster<-result.artwork.POSTER': {
                        '@src': function(arg)
                        {
                            // Check to see if there are posters
                            if (arg.item) {
                                // Get the first poster from the list
                                if (!arg.item.generatedId) {
                                    return "pictures/dummy.jpg";
                                }
							// take the opportunity to reset the new season number, in case of next / previous move , only for season type
								if (index_type.toLowerCase() == 'season')
								{															
									season =  arg.item.season;   //  get season number
									} else {
									season = "";
									}
                                return arg.context.baseArtworkUrl + arg.item.filename;
                            } else {
                                return "pictures/dummy.jpg";
                            }
                        }

                    }
                }, 
			// display banner if season and series 	
				'img.banner': {
                    'banner<-result.artwork.BANNER': {
                        '@src': function(arg)
                        {
							if (index_type !== 'MOVIE')  // there is banner only for season and series
								{	
                            // Check to see if there are banner
                            if (arg.item) {
                                // Get the first banner from the list
                                if (!arg.item.generatedId) {
                                    return "pictures/dummy_banner.jpg";
                                }
                                return arg.context.baseArtworkUrl + arg.item.filename;
                            } else {
                                return "pictures/dummy_banner.jpg";
                            }
                        }
					}

                    }
                }, 
			// play button 
				// on click play
				"img.play_detail@onclick": function(arg)
							{
								switch(arg.context.result.videoType.toLowerCase())
									{
										case 'season':
											
											return "play_episode()";
											break;
										case 'episode':
											
											return ;
											break;
										case 'movie':
											var temp_out = arg.context.result.files[0].fileName.replace(/\\/g, "/");
											console.log("detail fileName: "+temp_out);
										return "play_to_device('" + temp_out + "')";
											break;
										case 'series':
											
											return ;
											break;	
									};
                            },
				"img.play_detail@src": function(arg)
							{
								switch(arg.context.result.videoType.toLowerCase())
									{
										case 'season':
											
											return "./pictures/tvshow-off.png";
											break;
										case 'episode':
											return "./pictures/tvshow-off.png";
											
											break;
										case 'movie':	
											return "./pictures/movie-logo.png";
											break;
										case 'series':
										return "./pictures/tvshow-off.png";
											break;	
									};
                            }, 
				'span.videosource_image': function (arg) 
							{
								switch(arg.context.result.videoType.toLowerCase())
									{
										case 'season':
											return "";
											break;
										case 'episode':
											return "";
											break;
										case 'movie':	
										if (arg.context.result.files[0].videoSource) {
											if (arg.context.result.files[0].videoSource.toLowerCase() === '3d') {
													return "<embed src='./pictures/videosource/animation_" + arg.context.result.files[0].videoSource.toLowerCase() + ".swf' width='150' height='125' />";
												} else {
													return "<img src='./pictures/videosource/videosource_" + arg.context.result.files[0].videoSource.toLowerCase() + ".png' />";}
												
											} else {return "<img src='./pictures/videosource/videosource_unknown.png' />";}
											break;
										case 'series':
										return "";
											break;	
									};
							}

            };
			// display media info
			var MEDIA_INFO = {
			
						// display the file path stored in database		
							'span.filepath': function(arg)
							{var output_filepath = "";
							for (i = 0; i < arg.context.result.files.length; i++) {
								output_filepath = output_filepath +"<tr><td id='filepath'><text>"+file_label.toUpperCase()+(i+1) + "</text> " +  arg.context.result.files[i].fileName +" (" + arg.context.result.files[i].fileSize + ")</td></tr>"}
							return output_filepath;
							},
							'span.stage_fileId': function (arg) {
							stage_file_Id = arg.context.result.files[0].fileId;
							return "<text>Stage_File Id</text>"+  arg.context.result.files[0].fileId + "&nbsp;&nbsp;&nbsp;<text>Video Id</text>"  + arg.context.result.id;
							}, 
							'span.videosource': function (arg) {
							if (arg.context.result.files[0].videoSource) {
							return "<text>"+source_label.toUpperCase()+"</text>" + "<img src='pictures/videosource/thumb-"+ arg.context.result.files[0].videoSource.toLowerCase() + ".png' alt=\""+ arg.context.result.files[0].videoSource + "\" height=\"20px\" onclick=\"javascript:call_videosourceselect('" + arg.context.result.files[0].videoSource + "')\" />";
							} else {return "<text>"+source_label.toUpperCase()+"</text><img src='pictures/videosource/thumb-unknown.png' height=\"20px\" />";}
							},
							'span.resolution': function (arg) {
							return "<text>"+format_label.toUpperCase()+"</text>"+  arg.context.result.files[0].width + "x" + arg.context.result.files[0].height;
							},
							'span.codec': function (arg) {
							return "<text>"+video_label.toUpperCase()+"</text>"+  arg.context.result.files[0].codecFormat ;
							},
							'span.fps': function (arg) {
							return "<text>"+fps_label.toUpperCase()+"</text>"+  arg.context.result.files[0].fps ;
							},
							'span.runtime': function (arg) {
							return "<text>"+runtime_label.toUpperCase()+"</text>"+  arg.context.result.files[0].runtime ;
							},
							'span.audio': function(arg)
							{
								var audio = arg.context.result.files[0].audioCodecs;
								if (audio)
								{
							//	var output = "<text>"+audio_label.toUpperCase()+"</text>";
								var output = "";
								
								// loop thru the list of audio
								for (i = 0; i < audio.length; i++) {
									output = output + "<text>"+audio_label.toUpperCase()+(i+1)+"</text>" + " " + audio[i].codecFormat + " "  + audio[i].channels + "ch ";
									if (audio[i].language != "Undefined") 
									{output = output + "<img src=\"pictures/flags/" + audio[i].language.toLowerCase() +".png\" alt=\"" + audio[i].language + "\" style=\" height:20px; position:relative; bottom:-3px;\" />&nbsp; ";}
								}
								return output;
								} else {output = "<text>" + audio_label.toUpperCase() + "</text>" + no_text.toUpperCase();}
							}, 
							'span.subtitle': function(arg)
							{
								var subtitle = arg.context.result.files[0].subtitles;
								if (subtitle)
								{
								var output = "";
								// loop thru the list of subtitle
								for (i = 0; i < subtitle.length; i++) {
									output = output + "<text>"+subtitle_label.toUpperCase()+(i+1)+"</text>" + "<img src=\"pictures/flags/" + subtitle[i].language.toLowerCase() +".png\" alt=\"" + subtitle[i].language + "\" style=\" height:20px; position:relative; bottom:-3px;\" />&nbsp; ";
								}
								return output;
								} else {return "<text>"+ subtitle_label.toUpperCase() + "</text>" + no_text.toUpperCase();}
							},
							'span.awards': function(arg)
							{
								var awards = arg.context.result.awards;
								if (awards)
								{
								var output = "<text>" + awards_label.toUpperCase() + "("+ awards.length +")</text>" ;
								// loop thru the list of awards
								for (i = 0; i < awards.length; i++) {
									output = output + awards[i].event + "(" + awards[i].year + "):" + awards[i].category +";" ;
								}
								return output;
								} else {return "<text>" + awards_label.toUpperCase() + "</text> "+ no_text.toUpperCase();}
							}
				//			'span.studio': function(arg)
				//			{
				//				var studio = arg.context.result.studios;
				//				if (studio)
				//				{
				//				var output = "";
				//				
								// loop thru the list of audio
				//				for (i = 0; i < studio.length; i++) {
				//					output = output + "<text>"+studio_select.toUpperCase()+(i+1)+"</text>" + " " + studio[i].name + "<a href=\"#\" onclick=\"call_studioselect('" + studio[i].id + "', '" + studio[i].name + "')\" ><img src='pictures/studios/" + studio[i].name + ".png'  /></a><sp>  ";
				//					
				//				}
				//				return output;
				//				} else {output = "<text>" + studio_select.toUpperCase() + "</text> No Studio";}
				//			}							
						};
					var POSTER_INFO = {
						// display poster 	
							  'img.poster_list': {
								'poster<-result.artwork.POSTER': {
									'@src': function(arg)
									{
										// Check to see if there are posters
										if (arg.item) {
											// Get the first poster from the list
											if (arg.item.generatedId === 0) {
												return "pictures/dummy.jpg";
											}
											return arg.context.baseArtworkUrl + arg.item.filename;
										} else {
											return "pictures/dummy.jpg";
										}
									}, 
									'@onclick': function(arg)
									{
										return "ouvre_popup_ignore('poster', '" + arg.item.locatedId + "')";
									}
								}
							},
						// display fanart 	
							  'img.fanart_list': {
								'poster<-result.artwork.FANART': {
									'@src': function(arg)
									{
										// Check to see if there are posters
										if (arg.item) {
											// Get the first poster from the list
											if (arg.item.generatedId === 0) {
												return "pictures/dummy_fanart.jpg";
											}
											return arg.context.baseArtworkUrl + arg.item.filename;
										} else {
											return "pictures/dummy_fanart.jpg";
										}
									}, 
									'@onclick': function(arg)
									{
										return "ouvre_popup_ignore('fanart', '" + arg.item.locatedId + "')";
									}
								}
							}
						};
				
				
					

// ***************************************************** GET DATA section ******************************************************	
				
            function getData()
            {	
				// fill all value according to language setting - from yamjv3_lang_{lang}.xml
				get_lang();
				get_style();
				get_player();
				get_alpha_list (); 
				// construct JSON request for detail movie/series/season 
				jsonUrl = "/yamj3/api/video/" + index_type.toLowerCase() + "/" + current_id + ".json?dataitems=genre,artwork,plot,country,award,files,certification,studio,rating&jobs=actor-5,director-1,writer-1";
				console.log("getData URL: " + jsonUrl);
		
					
        // main API call         
                $.ajax({
                    url: jsonUrl,
                    async: false,
                    dataType: 'jsonp',
                    'success': function(data)
                    {
                        jsondata = data;
					//	 outputJson(data); 
				 	
					$p('.header_detail').render(data, DETAIL_HEADER);
					 
					$p('.template').render(data, YAMJ_DIR); 
					
					$p('.mediainfo').render(data, MEDIA_INFO); 
					
					$p('.edit_adjust').render(data, POSTER_INFO); 
					
				
						// add slideshow for fanart
						  slideshowFanart();
						// slideshow for poster
						slideshow();
						// display fanart
						display_all ();	
						
						
						switch (index_type.toLowerCase()) 
							{
							case 'movie':
						//			nothing to do
									break;
							case 'series':
									slideshowBanner ();
									perform_season ();
									break;
							case 'season':
									slideshowBanner ();
									perform_episode ();
									break;
							}		
						
				}
                });
        

            }

  //************************ LANGUAGE LOCAL SETTING *********************************************			
		// store all value according to language setting - from yamjv3_lang_{lang}.xml - local setting
		function set_context_lang_value ()
		{
		// console.log("detail.html set_context_value");
		//	document.getElementById("fanartshow").innerHTML=fanart_show.toUpperCase();
			document.getElementById("fanartshow_icon").innerHTML=fanart_show.toUpperCase();
			document.getElementById("editshow_icon").innerHTML='EDIT';
		//	document.getElementById("personshow").innerHTML=person_show.toUpperCase();
			document.getElementById("personshow_icon").innerHTML=person_show.toUpperCase();
		//	document.getElementById("mediainfoshow").innerHTML=mediainfo_show.toUpperCase();
		//	document.getElementById("mediainfoshow").innerHTML="MEDIA-INFO";
			document.getElementById("mediainfoshow_icon").innerHTML="MEDIAINFO";
			document.getElementById("deleteshow_icon").innerHTML=delete_text.toUpperCase();
			document.getElementById("updateshow_icon").innerHTML=update_label.toUpperCase();
			
			switch (index_type.toLowerCase()) 
							{
							case 'movie':
						//		document.getElementById("show").innerHTML=show.toUpperCase() + " " + movie_select.toUpperCase();
						//		document.getElementById("show").innerHTML=movie_select.toUpperCase();
								document.getElementById("movieshow_icon").innerHTML=movie_select.toUpperCase();
									break;
							case 'series':
						//			document.getElementById("show").innerHTML=series_select.toUpperCase();
									document.getElementById("movieshow_icon").innerHTML=series_select.toUpperCase();
									break;
							case 'season':
						//			document.getElementById("show").innerHTML=season_select.toUpperCase();
									document.getElementById("movieshow_icon").innerHTML=season_select.toUpperCase();
									break;
							}		
			document.getElementById("seasonlabel").innerHTML=season_label;
			document.getElementById("movieselect").innerHTML=movie_select.toUpperCase();
			document.getElementById("serieselect").innerHTML=series_select.toUpperCase();
			document.getElementById("allselect").innerHTML=all_select.toUpperCase();
			document.getElementById("seasonselect").innerHTML=season_select.toUpperCase();
	//		document.getElementById("li_selection").innerHTML=selection_label.toUpperCase();
			document.getElementById("selectionshow_icon").innerHTML=selection_label.toUpperCase();
			document.getElementById("genreindex").innerHTML=genre_select.toUpperCase();
			document.getElementById("certificationindex").innerHTML=certification_label.toUpperCase();
			document.getElementById("studioindex").innerHTML=studio_select.toUpperCase();
			document.getElementById("personindex").innerHTML=person_select.toUpperCase();
			document.getElementById("searchindex").innerHTML=search_select.toUpperCase();
			document.getElementById("configindex").innerHTML=config_select.toUpperCase();
			document.getElementById("remoteselect").innerHTML=remote_label.toUpperCase();	
			document.getElementById("yamj3select").innerHTML="YAMJ3";
			document.getElementById("genrelistselect").innerHTML=genrelist_select.toUpperCase();
			document.getElementById("certificationindex").innerHTML=certification_label.toUpperCase();
			document.getElementById("ratingindex").innerHTML=rating_label.toUpperCase();
			document.getElementById("videosourceindex").innerHTML=source_label.toUpperCase();
			document.getElementById("boxsetindex").innerHTML=boxset_label.toUpperCase(); 
			document.getElementById("countryindex").innerHTML=country_label.toUpperCase();
			document.getElementById("awardsindex").innerHTML=awards_label.toUpperCase();
			
		}
		
  // ********************* NOW SET VARIOUS FUNCTION **********************************************  
 
	// call the JSON value of season  	
		function perform_season()
		{
		jsonSeasonUrl = "/yamj3/api/index/video.json?type=season&sortby=season&sortdir=ASC&field=series_id&search="+series_id+"&artwork=poster&dataitems=plot,files,rating";
		console.log("perform_season URL: " + jsonSeasonUrl);
					$.ajax({
                   url: jsonSeasonUrl,
                    async: false,
                    dataType: 'jsonp',
                    'success': function(dataSeason)
                   {
						jsondata = dataSeason;
					//	outputJson(dataSeason);
						updateSeason(dataSeason)
						display_Id ("seasontable");
					}
                });
		}
	// map season value 	
		function updateSeason(dataSeason)
		{
				var SEASON = {
                    "td": {
                        "season<-results": {
                           // "span.SeasonType": "season.videoType",
							"span.SeasonID": "season.id",
							"span.SeasonNb" : "season.season",
                            "span.SeasonTitle": "season.title",
                            "span.SeasonYear": "season.videoYear",
                            "span.SeasonPoster": function(arg) {
                                // Check to see if there are posters
                              if (arg.item.artwork.POSTER) {
                                   // Get the first poster from the list
                                    var poster = arg.item.artwork.POSTER[0];
                                    if (poster.generatedId === 0) {
                                        return "No Poster<br>was generated";
                                   }
						
                                    return "<a href=\"#\" onclick=\" goto_SeasonId('" + arg.item.videoType + "', " + arg.item.id + ")\"><img src=\"" + arg.context.baseArtworkUrl + poster.filename + "\" height=\"100\"></a>";
								} else {
                                    return noposter_text;
								}
							   }
							}
						}
					};
					updateItemCount (dataSeason, "Season");
					$p('.seasontable').render(dataSeason, SEASON);
		}
				
	// call the JSON value for episode 			
		function perform_episode()
		{
		jsonEpisodeUrl = "/yamj3/api/video/episodes.json?&seriesid="+series_id+"&seasonid="+current_id+"&dataitems=plot,files,rating";
	//	jsonEpisodeUrl = "/yamj3/api/video/episodes.json?&seriesid="+series_id+"&seasonid="+current_id+"&dataitems=plot";
		console.log("perform_episode URL: " + jsonEpisodeUrl);
					$.ajax({
                   url: jsonEpisodeUrl,
                    async: false,
                    dataType: 'jsonp',
                    'success': function(dataEpisode)
                   {
						jsondata = dataEpisode;
					//	outputJson(dataEpisode);
						displayEpisode(dataEpisode);
					
						$('.episode_detail').css('visibility', 'visible');
						display_Id ("list_episode_title");
					}
                });
		}
	// map episode value 
	function displayEpisode(dataEpisode)
        {
			var LIST_videoimage = {
					"span.listepisode_title": function(arg) 
						{
							var totalepisode_title = arg.context.results;
							var outputepisode_title = "";
							for (i = 0; i < totalepisode_title.length; i++) 
							{
								if (totalepisode_title[i].watched) 
							// construct an activ episode list, click on an episode will display title, videoimage, plot and prepare the filepath to play 
								{outputepisode_title +=	"<a href=\"#\" style=\"background: green;\" onclick=\"display_Episode_videoimage ('videoimage"+[i]+"','episodeplot"+[i]+"','episodetitle"+[i]+"',"+totalepisode_title.length+"); preset_episode_to_play('"+totalepisode_title[i].files[0].fileName+"')\" >"+totalepisode_title[i].episode+ " - "+totalepisode_title[i].title+"</a><img id=img_play_episode src=\"pictures/remote_play.png\"   onclick=\"episode_to_play('"+totalepisode_title[i].files[0].fileName+"')\"></img><br>";}
								else 
								{outputepisode_title +=	"<a href=\"#\" onclick=\"display_Episode_videoimage ('videoimage"+[i]+"','episodeplot"+[i]+"','episodetitle"+[i]+"',"+totalepisode_title.length+"); preset_episode_to_play('"+totalepisode_title[i].files[0].fileName+"')\" >"+totalepisode_title[i].episode+ " - "+totalepisode_title[i].title+"</a><img id=img_play_episode src=\"pictures/remote_play.png\"   onclick=\"episode_to_play('"+totalepisode_title[i].files[0].fileName+"')\"></img><br>";}
							}
							return outputepisode_title;
						},
					'span.onlyepisode_title': function(arg) 
						{
						var totalepisode_onlytitle = arg.context.results;
						var outputepisode_onlytitle = "";
							for (i = 0; i < totalepisode_onlytitle.length; i++) 
							{
								if (totalepisode_onlytitle[i].title) // test if the title is available 
								{
								// set a class and id for each title, this allow to select the right one on click 
									outputepisode_onlytitle +="<td id=\"episodetitle"+i+"\" class=\"episodetitle"+i+"\">"+totalepisode_onlytitle[i].episode+". "+totalepisode_onlytitle[i].title+"</td>";	
								} else {
								// if there is no title just disable the display 
									outputepisode_onlytitle +="<td id=\"episodetitle"+i+"\" class=\"episodetitle"+i+"\" style=\"display: none; \"></td>";	
									}
							}
							return outputepisode_onlytitle;
						}, 		
             		'span.totalvideoimage': function(arg) 
						{
						var totalvideoimage = arg.context.results;
						var outputvideoimage = "";
							for (i = 0; i < totalvideoimage.length; i++) 
							{
								if (totalvideoimage[i].videoimage) // test if there is a videoimage available 
								{
								// set a class and id for each videoimage, this allow to select the right one on click 
									outputvideoimage +="<img id=\"videoimage"+i+"\" class=\"videoimage"+i+"\" src=\"" + arg.context.baseArtworkUrl + totalvideoimage[i].videoimage + "\" ></img>";	
								} else {
								// display dummy videoimage if not available 
									outputvideoimage +="<img class=\"videoimage"+i+"\" src=\"pictures/dummy_videoimage.jpg\" ></img>";
								}
							}
							return outputvideoimage;
						}, 
					'span.listepisode_plot': function(arg) 
						{
						var totalplot = arg.context.results;
						var outputplot = "";
							for (i = 0; i < totalplot.length; i++) 
							{
								if (totalplot[i].plot)   // test if there is plot
								{
									outputplot +="<td id=\"episodeplot"+i+"\" class=\"episodeplot"+i+"\">"+totalplot[i].plot+"</td>";
								} else {
									// if there is no plot just disable the display box
									outputplot +="<td id=\"episodeplot"+i+"\" class=\"episodeplot"+i+"\" style=\"display: none; \"></td>";	
									}
							}
					
							return outputplot;
						} 	
					};	
			updateItemCount (dataEpisode, "Episode");          
			$p('.table_videoimage').render(dataEpisode, LIST_videoimage);			
        }	
	// generic function to get count and call the real treatment 	
		function updateItemCount(data, type_to_update)
        {
			var ITEM_COUNT = {
               'span.itemcount': function(arg) {
			   switch(type_to_update)
				{
					case 'Season':
						set_seasoncount (arg.context.count);
						break;
					case 'Episode':
						set_episodecount (arg.context.count);
						break;
				}
			   return arg.context.count;
			   }
            };

           $p('.counttest').render(data, ITEM_COUNT);
        }
		

	// set a new id in the last sequence
		function set_onlyId(Newid)
				{     
				current_id = Newid;
				localStorage.setItem("id", current_id);
				console.log("set_onlyId Storing value: " + index_type + "-" + current_id);
				window.location.href="detail.html";
				}	
	// prepare to change to the season select by onclick	
		function goto_SeasonId(index_type, SeasonId)
			{
				localStorage.setItem("indextype", index_type);
				localStorage.setItem("id", SeasonId);
				console.log("goto_SeasonId Storing value: " + index_type + "-" + SeasonId);
				window.location.href="detail.html";
			}
			
	// store the series Id for future use
		function store_SeriesId (Series_Id)
				{
				series_id = Series_Id;
				localStorage.setItem("SeriesId", Series_Id);
				console.log("store_SeriesId Storing Series Id value: " + Series_Id);
				}	
	// on click on episode list, display dynamicaly episode videoimage, plot, title 			
		function display_Episode_videoimage(videoId_to_display, plotId_to_display, titleId_to_display, max_videoimage_to_hidden)
					{
						console.log("display_episode_videoimage:" +videoId_to_display+", "+plotId_to_display+", "+titleId_to_display+", "+max_videoimage_to_hidden);
						// just reset what is on the screen before the right display 
						document.getElementById(current_episode_videoimage).style.visibility="hidden";
						document.getElementById(current_episode_plot).style.visibility="hidden";
						document.getElementById(current_episode_title).style.visibility="hidden";
						// now the screen is clean , display what is asked 
						document.getElementById(videoId_to_display).style.visibility="visible";
						document.getElementById(plotId_to_display).style.visibility="visible";
						document.getElementById(titleId_to_display).style.visibility="visible";
						// store the current value 
						current_episode_videoimage = videoId_to_display;
						current_episode_plot = plotId_to_display;
						current_episode_title = titleId_to_display;
						//current_target_path = episode_title;
					}
	
	
	// on - off fanart button 
		function toggle_fanart()
					{			
						if (fanart_toggle == 0)
						{ 
							fanart_toggle = 1;
							display_only_fanart ();
							$('#fanartshow').css('color', 'red');
						} else {
							fanart_toggle =  0;
							display_all ();
							$('#fanartshow').css('color', 'white');
						}
					}

				function toggle_menuright()
					{	
						
						if (menuright_toggle == 0)
						{ 
							menuright_toggle = 1;
							
							$('#li_fanart').css('visibility', 'visible');
							$('#li_person').css('visibility', 'visible');
							$('#li_person_ribbon').css('visibility', 'visible');
							$('#li_movie').css('visibility', 'visible');
							$('#li_search').css('visibility', 'visible');
							$('#li_selection').css('visibility', 'visible');
							$('#li_language').css('visibility', 'visible');	
							$('#selection_id').css('visibility', 'visible');	
							$('#detail_lang_id').css('visibility', 'visible');	
							
						} else {
							menuright_toggle =  0;
							
							$('#li_fanart').css('visibility', 'hidden');
							$('#li_person').css('visibility', 'hidden');
							$('#li_person_ribbon').css('visibility', 'hidden');
							$('#li_movie').css('visibility', 'hidden');
							$('#li_search').css('visibility', 'hidden');
							$('#li_selection').css('visibility', 'hidden');
							$('#li_language').css('visibility', 'hidden');	
							$('#selection_id').css('visibility', 'hidden');	
							$('#detail_lang_id').css('visibility', 'hidden');	
							
						}
					}
	// click on fanart only , display fanart and nothing else 
		function display_only_fanart ()
			{
				$('.plot1').css('visibility', 'hidden');
				$('.genres').css('visibility', 'hidden');
				$('.certifications').css('visibility', 'hidden');
				$('.seasontable').css('visibility', 'hidden');
				$('.mediainfo').css('visibility', 'hidden');
				$('.edit_adjust').css('visibility', 'hidden');
				$('.moviedetail').css('visibility', 'hidden');
				$('div#slideshowBanner').css('visibility', 'hidden');
				$('div#slideshowCtr').css('visibility', 'hidden');
				$('.'+current_episode_plot).css('visibility', 'hidden');
				$('.'+current_episode_videoimage).css('visibility', 'hidden');
				$('.'+current_episode_title).css('visibility', 'hidden');
				$('#list_episode_title').css('visibility', 'hidden');
				$('.episode_detail').css('visibility', 'hidden');
				$('div#slideshowFanart').css('opacity', '1');
				$('a#play_detail').css('visibility', 'hidden');
				$('.detail_label').css('visibility', 'hidden');
				$('.actors').css('visibility', 'hidden');
				$('.director').css('visibility', 'hidden');
				$('.writer').css('visibility', 'hidden');
			
			}
	// click again on fanart only redisplay the page with all the info 		
		function display_all ()
			{
				$('.plot1').css('visibility', 'visible');
				$('.genres').css('visibility', 'visible');
				$('.certifications').css('visibility', 'visible');
				$('.mediainfo').css('visibility', 'hidden');
				$('.edit_adjust').css('visibility', 'hidden');
				$('div#slideshowCtr ').css('visibility', 'visible');
				$('div#slideshowFanart').css('opacity', '0.7');
				$('.play_detail').css('visibility', 'visible');
				$('.moviedetail').css('visibility', 'visible');
				$('.detail_label').css('visibility', 'visible');
				$('.actors').css('visibility', 'visible');
				$('.director').css('visibility', 'visible');
				$('.writer').css('visibility', 'visible');
				
				switch (index_type.toLowerCase())
					{
					case 'season':
						$('div#slideshowBanner').css('visibility', 'visible');
						$('.'+current_episode_plot).css('visibility', 'visible');
						$('.'+current_episode_videoimage).css('visibility', 'visible');
						$('.'+current_episode_title).css('visibility', 'visible');
						$('.episode_detail').css('visibility', 'visible');
						$('.episode_detail').css('zIndex', '9');
						$('#list_episode_title').css('visibility', 'visible');
						$('.moviedetail').css('top', '120px');
						$('.moviedetail').css('left', '230px');
						$('.moviedetail').css('width', '1090px');
						$('.header_detail').css('top', '0px');
						$('.header_detail').css('left', '5px');
						$('.play_detail').css('top', '0px');
						$('.play_detail').css('left', '60px');
						$('.plot1').css('left', '0px');
						$('.plot1').css('max-width', '1280px');
						$('.genres').css('left', '0px');
						$('.genres').css('max-width', '1280px');
						$('.certifications').css('left', '0px');
						$('.certifications').css('max-width', '1280px');
						$('.filepath').css('max-width', '560px');
						$('div#slideshowCtr').css('top', '50px');
						$('a#next').css('top', '200px');
						$('a#prev').css('top', '200px');
						$('.play_detail').mouseover(function() {
							$('.play_detail').attr('src', './pictures/tvshow-on.png');
							});
						$('.play_detail').mouseout(function() {
							$('.play_detail').attr('src', './pictures/tvshow-off.png');
							});
						$('.mediainfo').css('left', '225px');
						$('.mediainfo').css('top', '50px');
						$('#li_mediainfo_icon').css('visibility', 'hidden');
						$('#li_poster_icon').css('left', '28px');
						$('.edit_adjust').css('left', '235px');
						$('.edit_adjust').css('top', '50px');
						$('.edit_adjust').css('width', '1094px');
			//			$('.play_detail').css('top', '65px');
						break;
					case 'movie':
						$('.moviedetail').css('top', '403px');
						$('.moviedetail').css('left', '234px');
						$('.moviedetail').css('width', '1100px');
						$('.header_detail').css('width', '1068px');
						$('.plot1').css('max-height', '165px');
						$('.play_detail').mouseover(function() {
							$('.play_detail').attr('src', './pictures/movie-logo-on.png');
							});
						$('.play_detail').mouseout(function() {
							$('.play_detail').attr('src', './pictures/movie-logo.png');
							});
						$('#infobox').css('top', '690px');
						$('#infobox').css('left', '290px');
						$('.mediainfo').css('left', '234px');
						$('.mediainfo').css('top', '404px');
						$('.mediainfo').css('width', '1094px');
						$('.edit_adjust').css('left', '234px');
						$('.edit_adjust').css('top', '404px');
						$('.edit_adjust').css('width', '1094px');
						$('.episode_detail').css('zIndex', '1');
						// nothing special 
						break;
					case 'series':
						$('.moviedetail').css('top', '568px');
						$('.moviedetail').css('left', '10px');
						$('.moviedetail').css('width', '1320px');
						$('.header_detail').css('top', '0px');
						$('.header_detail').css('left', '5px');
						$('.play_detail').css('top', '0px');
						$('.play_detail').css('left', '60px');
						$('.plot1').css('left', '0px');
						$('.plot1').css('max-width', '1280px');
						$('.genres').css('left', '0px');
						$('.genres').css('max-width', '1280px');
						$('.certifications').css('left', '0px');
						$('.certifications').css('max-width', '1280px');
						$('.filepath').css('max-width', '560px');
						$('div#slideshowBanner').css('visibility', 'visible');
						$('.mediainfo').css('visibility', 'hidden');
						$('.edit_adjust').css('visibility', 'hidden');
						$('div#slideshowCtr').css('top', '50px');
						$('.seasontable').css('visibility', 'visible');
						$('a#next').css('top', '200px');
						$('a#prev').css('top', '200px');
						$('.play_detail').mouseover(function() {
							$('.play_detail').attr('src', './pictures/tvshow-on.png');
							});
						$('.play_detail').mouseout(function() {
							$('.play_detail').attr('src', './pictures/tvshow-off.png');
							});
						$('.mediainfo').css('left', '230px');
						$('.mediainfo').css('top', '50px');
						$('#li_mediainfo_icon').css('visibility', 'hidden');
						$('#li_poster_icon').css('left', '28px');
						$('.edit_adjust').css('left', '235px');
						$('.edit_adjust').css('top', '50px');
						$('.edit_adjust').css('width', '1094px');
						$('.episode_detail').css('zIndex', '9');
					//	$('.play_detail').css('display', 'none');
						break;
					}
			}
	
	// adjust episode scroll bar 
	function set_episodecount(count_to_set)
					{
						if (count_to_set < 1)  // if no episode disable display 
						{
						nodisplay_Id('list_episode_title');
						nodisplay_Id('tablevideoimage');
						nodisplay_Id('listepisode_plot');
						} 
					}

	// adjust season scroll bar 
	function set_seasoncount(count_to_set)
					{					
						if (count_to_set)
						{					
							if (count_to_set < 1)
							{
							nodisplay_Id('seasontable');
							} else {
							if (count_to_set < 8)
								{
								padding_season += (7 - count_to_set)*100;
							//	$('.seasontable').css('overflow-x', 'hidden');
								$('.seasontable').css('padding-left', padding_season+'px');
								}
							}	
						} else {
						$('.seasontable').css('visibility', 'hidden');
						}
					}
	// open a new vertical window for index list 				
	function ouvre_popup_index(page, direction, current_type, letter_selection) 
		{
			localStorage.setItem("selection", letter_selection);
			localStorage.setItem("direction", direction);
			localStorage.setItem("indextype", current_type);
			window.localStorage.setItem("search_index", letter_selection);	
			switch (StyleValue)
					{
					case 'frame':
						{
							if (Movie_toSet) { 
								console.log("ouvre_popup_index:  navData_frame for type:" +current_type+ " with style:"+StyleValue);
								parent.frames['movie_frame'].location.href='navData_frame.html';
								
								Movie_toSet = false; 
							} 
							parent.document.getElementById('movie_frame').style.display="block";
							parent.document.getElementById('movie_display').style.visibility="visible";	
							parent.document.getElementById('movie_display').style.zIndex="11";	
						//	display_Id('movie_frame');
						//	display_Id('movie_display');}
							break;
						} 
					case 'popup':
						{
							console.log("ouvre_popup_index:  navData_frame for type:" +current_type+ " with style:"+StyleValue);
							nodisplay_Id('movie_display');
							Indexpopup = window.open('navData_frame.html', "YAMJv3 Navigation index","channelmode=no, menubar=no, status=no, scrollbars=yes, resizable=yes, menubar=no, location=no, left=2px, top=5px, width=1250px, height=270px");
							break;
						}
					case 'ribbon':
						{
							console.log("ouvre_popup_index:  navData for type:" +current_type+ " with style:"+StyleValue);
							nodisplay_Id('movie_display');
							Indexpopup = window.open('navData.html', "YAMJv3 Navigation index","channelmode=no, menubar=no, status=no, scrollbars=yes, resizable=yes, menubar=no, location=no, left=2px, top=5px, width=180px, height=1000px");
							break;
						}
					case 'page':
						{
							console.log("ouvre_popup_index:  changeindex for type:" +current_type+ " with style:"+StyleValue);
							nodisplay_Id('movie_display');
							Indexpopup = window.open("index.html", "YAMJ v3 index","");
							break;
						}
					
				}
		
		}
	// open a new vertical window for person list 
	function ouvre_popup_person_ribbon() 
		{
		//	localStorage.setItem("id", localStorage.getItem("id"));
			localStorage.setItem("indextype", index_type.toLowerCase());
			
			Personpopup = window.open("navPerson.html", "YAMJv3 Navigation Person","channelmode=no, status=no, scrollbars=no, menubar=no, location=no, resizable=yes, left=180px, top=5px, width=150px, height=1000px");

		}
	function ouvre_popup_person() 
		{
		//	var temp_id = localStorage.getItem("id");
		//	localStorage.setItem("id", localStorage.getItem("id"));
			localStorage.setItem("indextype", index_type.toLowerCase());
			console.log("ouvre_popup_person:  style:"+StyleValue+ " type:" +index_type+" id:"+localStorage.getItem('id'));
			localStorage.setItem("back_close", "close");
			switch (StyleValue)
					{
					case 'frame':
						{
							if (Person_toSet) { 
								console.log("ouvre_popup_person:  " +Person_toSet);
								parent.frames['person_frame'].location.href='navPerson_frame.html';								
								Person_toSet = false; 
								}
							parent.document.getElementById('person_frame').style.display="block";
							parent.document.getElementById('person_display').style.visibility="visible";	
							parent.document.getElementById('person_display').style.zIndex="15";
							break;
						} 
					case 'popup':
						{
							console.log("ouvre_popup_person:  open navPersonH.html:");
						//	nodisplay_Id('person_frame');
							Personpopup = window.open("navPersonH.html", "YAMJv3 H Navigation Person","channelmode=no, status=no, scrollbars=no, menubar=no, location=no, resizable=yes, left=180px, top=5px, width=1322px, height=300px");
							break;
						}
					case 'ribbon':
						{
							console.log("ouvre_popup_person:  open navPerson.html:");
						//	nodisplay_Id('person_frame');
							Personpopup = window.open("navPerson.html", "YAMJv3 Navigation Person","channelmode=no, status=no, scrollbars=no, menubar=no, location=no, resizable=yes, left=180px, top=5px, width=165px, height=1000px");
							break;
						}
					case 'page':
						{
							console.log("ouvre_popup_person:  open navPerson_page.html:");
						//	nodisplay_Id('person_frame');
							Personpopup = window.open("navPerson_page.html", "YAMJ v3 index person","");
							// window.location.href="navPerson_page.html"
							//call_person(true);
							break;
						}
					
				}
		}
		
	// close when leaving
	function close_popup()
	{
		if (Personpopup !== "") {Personpopup.close();}
	}

	// genre list is activ and open genre index menu with the genre selected 
	function call_genreselect(genrename)
        {
			localStorage.setItem("Genre_name", genrename);
            console.log("call_genreselect Storing value: Genre name: " +genrename);
			window.location.href="index_Genre.html";
		}
	// country is activ and open genre index menu with the genre selected 
	function call_countryselect(countryname)
        {
			localStorage.setItem("Country_name", countryname);
            console.log("call_countryselect Storing value: Country name: " +countryname);
			window.location.href="index_Country.html";
		}
	// certification list is activ and open certification index menu with the certification selected 
	function call_certificationselect(certificationvalue, certificationid)
        {
			localStorage.setItem("Certification_value", certificationvalue);
			localStorage.setItem("Certification_id", certificationid);
            console.log("call_certificationselect Storing value: certification value: " +certificationvalue+ " certification id:" + certificationid);
			window.location.href="index_Certification.html";
		}
	// videosource list is activ and open videosource index menu with the videosource selected 
	function call_videosourceselect(videosourcevalue)
        {
			localStorage.setItem("Videosource_value", videosourcevalue);
            console.log("call_videosourceselect Storing value: videosource value: " +videosourcevalue);
			window.location.href="index_Videosource.html";
		}
	// studio list is activ and open studio index menu with the studio selected 
	function call_studioselect(studioid, studioname)
        {
			localStorage.setItem("Studio_id", studioid);
			localStorage.setItem("Studio_name", studioname);
            console.log("call_studioselect Storing value: studio value: " +studioid+ ", " + studioname);
			window.location.href="index_Studio.html";
		}
	// rating list is activ and open rating index menu with the rating selected 
	function call_ratingselect(ratingsource, ratingvalue)
        {
			localStorage.setItem("Rating_source", ratingsource);
			localStorage.setItem("Rating_value", ratingvalue);
            console.log("detail call_ratingselect Storing value: Rating source: " + ratingsource + " Rating value: "+ ratingvalue);
			window.location.href="index_Rating.html";
			Mypopup.focus();
		}

	function ouvre_popup_mediainfo ()
		{
			console.log("detail ouvre_popup_mediainfo type:" + index_type);
			if ($('.mediainfo').css('visibility') == "hidden")
			{
			display_class ('mediainfo');
			switch (index_type.toLowerCase())
				{
					case 'season':
						{
							nodisplay_class ('genres');
							nodisplay_class ('certifications');
							nodisplay_class ('plot1');
							nodisplay_Id ('slideshowBanner');
							nodisplay_class ('moviedetail');
							nodisplay_class ('detail_label');
							nodisplay_class ('actors');
							nodisplay_class ('director');
							nodisplay_class ('writer');
							break;
						}
					case 'series':
						{
							nodisplay_Id ('slideshowBanner');
							break;
						}
					case 'movie':
						{
							nodisplay_class ('genres');
							nodisplay_class ('certifications');
							nodisplay_class ('plot1');
							nodisplay_class ('moviedetail');
							nodisplay_class ('detail_label');
							nodisplay_class ('edit_adjust');
							nodisplay_class ('actors');
							nodisplay_class ('director');
							nodisplay_class ('writer');
							nodisplay_class ('header_detail');
							nodisplay_class ('play_detail');
							break;	
						}
				}
			} else {
				nodisplay_class ('mediainfo');
				nodisplay_class ('edit_adjust');
				display_class ('genres');
				display_class ('certifications');
				display_class ('plot1');
				display_class ('moviedetail');
				display_class ('detail_label');
				display_class ('actors');
				display_class ('director');
				display_class ('writer');
				display_class ('header_detail');
				display_class ('play_detail');

				}
		}
	function ouvre_popup_poster ()
		{
		console.log("detail ouvre_popup_poster type:" + index_type);
		if ($('.edit_adjust').css('visibility') == "hidden")
		{
		display_class ('edit_adjust');
		switch (index_type.toLowerCase())
				{
				case 'season':
					{
						nodisplay_class ('genres');
						nodisplay_class ('certifications');
						nodisplay_class ('plot1');
						nodisplay_Id ('slideshowBanner');
						nodisplay_class ('moviedetail');
						nodisplay_class ('detail_label');
						nodisplay_class ('actors');
						nodisplay_class ('director');
						nodisplay_class ('writer');
						break;
					}
				case 'series':
					{
						nodisplay_Id ('slideshowBanner');
						break;
					}
				case 'movie':
					{
						nodisplay_class ('moviedetail');
						nodisplay_class ('detail_label');
						nodisplay_class ('mediainfo');
						nodisplay_class ('genres');
						nodisplay_class ('certifications');
						nodisplay_class ('plot1');
						nodisplay_class ('actors');
						nodisplay_class ('director');
						nodisplay_class ('writer');
						break;	
					}
				}
		//	
		//	nodisplay_class('seasontable');
		//	
			} else {
			if (index_type.toLowerCase() == 'series') {display_class('seasontable');}
			if (index_type.toLowerCase() == 'season') {display_Id ('slideshowBanner');;}
			nodisplay_class ('edit_adjust');
			display_class ('genres');
			display_class ('certifications');
			display_class ('plot1');
			display_class ('moviedetail');
			nodisplay_class ('mediainfo');
			display_class ('detail_label');
			display_class ('actors');
			display_class ('director');
			display_class ('writer');
			display_class ('header_detail');
			display_class ('play_detail');
			}
		}
	function ouvre_popup_delete ()
		{
		console.log("detail ouvre_popup_delete stage_file_Id:" + stage_file_Id);
		// construct JSON request to delete movie/series/season from the stage_file with stage_file_Id
		
				jsonDeleteUrl = "/yamj3/api/file/delete/" + stage_file_Id;
				console.log("getData URL: " + jsonDeleteUrl);
		PopDelete(stage_file_Id, current_title)
		}
	function ouvre_popup_update ()
		{
		console.log("detail ouvre_popup_update stage_file_Id:" + stage_file_Id);
		// construct JSON request to update movie/series/season from the stage_file with stage_file_Id
		
				jsonDeleteUrl = "/yamj3/api/file/update/" + stage_file_Id;
				console.log("getData URL: " + jsonDeleteUrl);
		PopUpdate(stage_file_Id, current_title)
		}
	function ouvre_popup_ignore (artwork_type, located_id)
		{
		console.log("detail ouvre_popup_ignore located_Id:" + located_id);
		// construct JSON request to delete movie/series/season from the stage_file with stage_file_Id
		
				jsonIgnoreUrl = "/yamj3/api/artwork/located/ignore/" + located_id;
				console.log("getData URL: " + jsonIgnoreUrl);
		PopIgnore(artwork_type, located_id)
		}
	function delete_stage_file_Id ()
		{
        // main API call         
                $.ajax({
                    url: jsonDeleteUrl,
                    async: false,
                   dataType: 'jsonp',
                   'success': function(data)
                    {
					}
				})
		}
	function update_stage_file_Id ()
		{
        // main API call         
                $.ajax({
                    url: jsonDeleteUrl,
                    async: false,
                   dataType: 'jsonp',
                   'success': function(data)
                    {
					}
				})
		}
	function ignore_located_Id ()
		{
        // main API call         
                $.ajax({
                    url: jsonIgnoreUrl,
                    async: false,
                   dataType: 'jsonp',
                   'success': function(data)
                    {
					}
				})
		}
// ******************************* get aplhabetical list of available video *********************************************
	function get_alpha_list ()
		{
				jsonUrlAlpla = "/yamj3/api/alphabetical/list.json?type=" + index_type;
				console.log("get_alpha_list jsonUrlAlpla: " + jsonUrlAlpla);
				
				var ALPHALIST = {
               'span.lastid': function(arg) {
					 var alpha_list = arg.context.results; 
					 switch (index_type.toLowerCase())
					 {
						case 'movie':
						{
							$('#selection_id_icon').append("<option value=''>" + movie_label.toLowerCase() + "</option>");	
							break;
						}
						case 'series':
						{
							$('#selection_id_icon').append("<option value=''>" + series_label.toLowerCase() + "</option>");
							break;
						}
						case 'season':
						{
							$('#selection_id_icon').append("<option value=''>" + season_label.toLowerCase() + "</option>");
							break;
						}
					}
					for (var i = 0; i < alpha_list.length; i++) {
						if (alpha_list[i].name != "") {
								// only season could have no value 
							     $('#selection_id_icon').append("<option value='" + alpha_list[i].name + "'>" + alpha_list[i].name + "</option>");
								 }
					}
					return;
				}
			};

					
        // main API call         
                $.ajax({
                    url: jsonUrlAlpla,
                    async: false,
                    dataType: 'jsonp',
                    'success': function(data)
                    {
                        jsondata = data;
					//	 outputJson(data); 
					$p('.test').render(data, ALPHALIST);
					}
                });
		
		
		
		}
	
// ****************************** id or class with iscroll **************************************************************
	var myScroll;
	function loaded_iscroll () {
	myScroll = new IScroll('#container_menu_left', { scrollX: true, scrollY: true, mouseWheel: true, click: true });
	}
	//   document.addEventListener('touchmove', function (e) { e.preventDefault(); }, false);
	
// *******************************to fix alt bug with chrome ***************************************************************************************
	function showAlt(){$(this).replaceWith(this.alt)};
	function addShowAlt(selector){$(selector).error(showAlt).attr("src", $(selector).src)};
	
      </script>
<!-- *************************************************************************************************************** -->
    </head>
    <body onload="loaded_iscroll(); getData(); addShowAlt('img');" onUnload="close_popup();" style="margin: 0px;  width: 1340px; height: 740px;"> 
	
	<!-- navigation to index -->

		<div id="logo_index">

	<!-- not needed with opacity effect
			<td><a id="home_left" onclick="javascript:toggle_Id('container_menu_left')"><img src="pictures/next-icon_on.png" width="16px" height="24px" /></a></td>
	-->
	<!-- various navigation 			
					
							<ul id="detail_home_right">
									<li><a id="li_home_right" onclick="toggle_menuright()"></a></li>
									<li><a id="li_fanart" href="javascript:toggle_fanart()">
										<div id="fanartshow"></div></a></li>
									<li><a id="li_mediainfo" href="javascript:ouvre_popup_mediainfo();">
										<div id="mediainfoshow"></div></a></li>	
									<li><a id="li_person" href="javascript:ouvre_popup_person();">
										<div id="personshow"></div></a></li>
								
							
									<li><a id="li_movie" href="javascript:ouvre_popup_index('', 'ASC', index_type, '')">
										<div id="show"></div></a></li>	
									<li>
										<form><label id='li_selection'></label>
											<select id="selection_id" onchange="Movie_toSet = true;display_Id('movie_display');javascript:ouvre_popup_index('', 'ASC', index_type, document.getElementById('selection_id').value); Movie_toSet = true;">
												<option value=""></option>
												<option value="A">A</option>
												<option value="B">B</option>
												<option value="C">C</option>
												<option value="D">D</option>
												<option value="E">E</option>
												<option value="F">F</option>
												<option value="G">G</option>
												<option value="H">H</option>
												<option value="I">I</option>
												<option value="J">J</option>
												<option value="K">K</option>
												<option value="L">L</option>
												<option value="M">M</option>
												<option value="N">N</option>
												<option value="O">O</option>
												<option value="Q">Q</option>
												<option value="R">R</option>
												<option value="S">S</option>
												<option value="T">T</option>
												<option value="U">U</option>
												<option value="V">V</option>
												<option value="W">W</option>
												<option value="X">X</option>
												<option value="Y">Y</option>
												<option value="Z">Z</option>
												<option value="0">0</option>
												<option value="1">1</option>
												<option value="2">2</option>
												<option value="3">3</option>
												<option value="4">4</option>
												<option value="5">5</option>
												<option value="6">6</option>
												<option value="7">7</option>
												<option value="8">8</option>
												<option value="9">9</option>
											</select> 
											<noscript><input type="submit" value="Submit"></noscript>
										</form>
									</li>	
								
							</ul>-->		
			
							<ul id="detail_home_right_icon">
									<li><a id="li_poster_icon" href="javascript:ouvre_popup_poster();" onmouseover="javascript:document.getElementById('editshow_icon').style.visibility='visible'"  onmouseout="javascript:document.getElementById('editshow_icon').style.visibility='hidden'">
										<img src="pictures/icon/edit.png" ></img><div id="editshow_icon"></div></a></li>
									<li><a id="li_fanart_icon" href="javascript:toggle_fanart()" onmouseover="javascript:document.getElementById('fanartshow_icon').style.visibility='visible'"  onmouseout="javascript:document.getElementById('fanartshow_icon').style.visibility='hidden'">
										<img src="pictures/icon/fanart.png" ></img><div id="fanartshow_icon"></div></a></li>
									<li><a id="li_mediainfo_icon" href="javascript:ouvre_popup_mediainfo();" onmouseover="javascript:document.getElementById('mediainfoshow_icon').style.visibility='visible'"  onmouseout="javascript:document.getElementById('mediainfoshow_icon').style.visibility='hidden'" >
										<img src="pictures/icon/overview.png"></img><div id="mediainfoshow_icon"></div></a></li>	
									<li><a id="li_person_icon" href="javascript:ouvre_popup_person();" onmouseover="javascript:document.getElementById('personshow_icon').style.visibility='visible'"  onmouseout="javascript:document.getElementById('personshow_icon').style.visibility='hidden'">
										<img src="pictures/icon/icon_person.png"></img><div id="personshow_icon"></div></a></li>	
									<li><a id="li_delete_icon" href="javascript:ouvre_popup_delete();" onmouseover="javascript:document.getElementById('deleteshow_icon').style.visibility='visible'"  onmouseout="javascript:document.getElementById('deleteshow_icon').style.visibility='hidden'">
										<img src="pictures/icon/delete.png"></img><div id="deleteshow_icon"></div></a></li>	
									<li><a id="li_update_icon" href="javascript:ouvre_popup_update();" onmouseover="javascript:document.getElementById('updateshow_icon').style.visibility='visible'"  onmouseout="javascript:document.getElementById('updateshow_icon').style.visibility='hidden'">
										<img src="pictures/icon/update.png"></img><div id="updateshow_icon"></div></a></li>	
									
							<!--		<li><a id="li_person_ribbon" href="javascript:ouvre_popup_person_ribbon()">
										<div id="person_ribbon"></div></a></li>	 -->
									<li><a id="li_movie_icon" href="javascript:ouvre_popup_index('', 'ASC', index_type, '')" onmouseover="javascript:document.getElementById('movieshow_icon').style.visibility='visible'"  onmouseout="javascript:document.getElementById('movieshow_icon').style.visibility='hidden'">
										<img src="pictures/icon/icon_tv-film.png"></img><div id="movieshow_icon"></div></a></li>
									<li>
										<form><label id='li_selection_icon'><img src="pictures/icon/title.png" onmouseover="javascript:document.getElementById('selectionshow_icon').style.visibility='visible'"  onmouseout="javascript:document.getElementById('selectionshow_icon').style.visibility='hidden'"></img><div id="selectionshow_icon"></div></label>
											<select id="selection_id_icon" onchange="Movie_toSet = true;display_Id('movie_display');javascript:ouvre_popup_index('', 'ASC', index_type, document.getElementById('selection_id_icon').value); Movie_toSet = true;" >
												<option value=""></option>
												
											</select> 
											<noscript><input type="submit" value="Submit"></noscript>
										</form>
										
									</li>	
								
							</ul>
					<button id="infobox_delete" onclick="javascript:start_delete ()"></button>	
					<button id="infobox_update" onclick="javascript:start_update ()"></button>
        </div>

	<!-- left menu with icon -->

		<img id="open_menu_left" src="pictures/icon-open_frame.png" style="position:absolute; top: 380px; left: 0px; z-index:12; visibility: visible;" height="100px" width="130px" onclick="toggle_menu_left ()" />
		<img id="close_menu_left" src="pictures/icon-close_frame.png" style="position:absolute; top: 380px; left: 78px; z-index:12; visibility: hidden;" height="110px" width="130px" onclick="toggle_menu_left ()" />
	    <div id="container_menu_left">
			<ul id="monFormMenu" style="padding-left:0px;">
	
				<li><a href="javascript:ChangeIndex('movie,series')" >
							<img src="pictures/icon/home_all_rv8.png" height="80px"  width="80px" alt="tv movie" />
						</a><div id="allselect"></div>
				</li>
				<li><a href="javascript:ChangeIndex('movie')" >
							<img src="pictures/icon/home_movies_rv8.png" height="80px"  width="80px" alt="movie" align="top" />
						</a><div id="movieselect"></div>
				</li>
				<li><a href="javascript:ChangeIndex('series')" >
							<img src="pictures/icon/home_tv shows_rv8.png" height="80px"  width="80px" alt="tv" />
						</a><div id="serieselect"></div>
				</li>
				<li><a href="javascript:ChangeIndex('season')" >
							<img src="pictures/icon/home_apps_rv8.png" height="100px"  width="100px" style="position: relative; left:-10px" alt="season" />
						</a><div id="seasonselect"></div>
				</li>
				<li><a href="javascript:call_personindex('false')" >
							<img src="pictures/icon/home_person_rv8.png" height="80px"  width="80px" alt="person"  />
						</a><div id="personindex"></div>
				</li>
				<li><a href="javascript:call_genreindex(index_type, 'false')">
							<img src="pictures/icon/home_genres2_rv8.png" height="80px"  width="80px" alt="genre" />
						</a><div id="genreindex"></div>
				</li>
				<li><a href="javascript:call_countryindex(index_type, 'false')">
							<img src="pictures/icon/home_country_rv8.png" height="80px"  width="80px" alt="country" />
						</a><div id="countryindex"></div>
				</li>
				<li><a href="javascript:call_awardsindex(index_type, 'false')">
							<img src="pictures/icon/home_awards_rv8.png" height="80px"  width="80px" alt="awards" />
						</a><div id="awardsindex"></div>
				</li>
				<li><a href="javascript:ouvre_popup_search(StyleValue)">
							<img src="pictures/icon/find.png" height="60px" width="65px" style="padding-left:10px" alt="find" />
						</a><div id="searchindex"></div>
				</li>
				<li><a href="javascript:call_studioindex(index_type, 'false')">
							<img src="pictures/icon/Studio.png" height="60px"  width="60px" style="position: relative; left:10px" alt="studio"  />
						</a><div id="studioindex"></div><br />
				</li>

				<li><a href="javascript:call_ratingindex(index_type, 'false')" >
							<img src="pictures/icon/home_rating_rv8.png" height="80px"  width="80px" alt="rating"  />
						</a><div id="ratingindex"></div>
				</li>
				<li><a href="javascript:call_certificationindex(index_type, 'false')" >
							<img src="pictures/icon/home_certification_rv8.png" height="90px"  width="100px"  style="position: relative; left:-10px" alt="certification"  />
						</a><div id="certificationindex"></div>
				</li>
				<li><a href="javascript:call_videosourceindex(index_type, 'false')" >
							<img src="pictures/icon/home_videosource_rv8.png" height="80px"  width="80px" style="position: relative; left:0px" alt="videosource"  />
						</a><div id="videosourceindex"></div>
				</li>
				<li><a href="javascript:call_boxsetindex(index_type, 'false')">
							<img src="pictures/icon/home_set_rv8.png" height="100px"  width="100px" style="position: relative; left:-10px" alt="set"  />
						</a><div id="boxsetindex"></div>
				</li>
				<li><a href="javascript:ouvre_config(StyleValue)">
							<img src="pictures/icon/settings.png" height="80px" width="100px" style="padding-left:5px" alt="setting" />
						</a><div id="configindex"></div>
				</li>
				<li><a href="javascript:ouvre_yamj3(); ">
							<img src="pictures/icon/home.png" height="80px"  width="80px" alt="home" />
						</a><div id="yamj3select"></div>
				</li>
				<li><a href="javascript:ouvre_genrelist(); ">
							<img src="pictures/icon/list_genre.png" height="80px"  width="80px" alt="liste fenre" />
						</a><div id="genrelistselect"></div>
				</li>
				<li><a href="javascript:ouvre_remote(); ">
							<img src="pictures/icon/remote.png" height="70px"  width="70px" style="position: relative; left:6px" alt="remote" />
						</a><div id="remoteselect"></div>
				</li>
		</ul>
		
	</div>          	
	<!--  footer for movie/series name -->
		<div class="header_detail">
			<table>
				<tr>
					<td>
						<span class="header_title" ></span>
				
						<img src="pictures/icon/year.png" width="30px" style="position:relative; top: 0px; "/>
						<span class="header_year" ></span>
						<span class="header_id" ></span>
						<img src="pictures/icon/duration.png" width="30px" style="position:relative; top: 0px; left: -10px;"/>
						<span class="header_runtime" ></span>
						<span class="header_text"> </span>
						<a href="#"><img class="watched" src="" onclick=""/></a>
						<span class="country" ></span>
						<img class="channels" src=""></img>
					</td>
				</tr>
			</table>
		</div>
		<!-- display infobox -->
		<button id="infobox" onclick="javascript:start_playing ()"></button>

		<div class="test">
					<td><span class="lastid"></span></td>
		</div> 
		<div class="counttest">
					<td><span class="itemcount"></span></td>
		</div> 
	<!-- just added to set the language value, shouldn't be displayed  -->
		<div class="results" style="visibility: hidden; display:none;">
			<table><tr><td class="Value"></td></tr></table>
		</div>
	<!-- just added to set the poster number value, shouldn't be displayed  -->
		<div class="poster_results" style="visibility: hidden; display:none;">
			<table><tr><td class="Poster_Value"></td></tr></table>
		</div>
	<!-- display person -->
		<div id="person_display" style="visibility: hidden; ">	
			<iframe src="" name="person_frame" resizable="yes" id="person_frame" scrolling="yes" frameborder="1" style="overflow:auto; width:1220px; height:335px;" allowTransparency="true"></iframe>
		</div>	
	<!-- display Movie -->
		<div id="movie_display" style="visibility: hidden; ">
			<iframe src="" name="movie_frame" resizable="yes" id="movie_frame" scrolling="yes" frameborder="1" style="overflow:auto; width:1245px; height:265px;" allowTransparency="true"></iframe>
		</div>	
	<!-- display Remote -->
		<div id="remote" style="visibility: hidden; ">
			<iframe src="" name="remote_frame" resizable="yes" id="remote_frame" scrolling="yes" frameborder="0" style="overflow:auto; width:430px; height:660px;" allowTransparency="true"></iframe>
		</div>		
	<!-- main table for detail page -->
        <div class="template"> 
           <table>
                  <tbody>
                    <tr>    
						<!-- fanart animation, automatic every 10s, if more than one fanart -->
						<td rowspan="1">
                            <div id="slideshowFanart" class="glow">
                                <div id="imgRollFanart">
                                    <img class="fanart" src="" />
                                </div>
                            </div>
                            <a id="nextFanart"> </a>
                            <a id="prevFanart"> </a>
                        </td>
						<!-- poster animation, automatic every 3s, if more than one fanart, could be stopped or adjust by button  -->
						<td rowspan="10">
                            <div id="slideshowCtr" class="glow">
                                <div id="imgRoll">
                                    <img class="poster" src="" />
									
                                </div>
                            </div>
						
						<!-- play button -->
							<img class="play_detail" src="" />
			
				
						
						<!-- next , previous button -->
                            <a id="next"><img src="./pictures/next.png" /></a>
                            <a id="prev"><img src="./pictures/previous.png" /></a>
                        </td>        
                    
					<!-- Banner animation, automatic every 10s, if more than one Banner -->
						<td rowspan="10">
                            <div id="slideshowBanner" class="glow">
                                <div id="imgRollBanner">
                                    <img class="banner" src="" />
                                </div>
                            </div>
								<a id="nextBanner"><img src="./pictures/next.png" /></a>
								<a id="prevBanner"><img src="./pictures/previous.png" /></a>
                        </td>
						
					<!-- source image -->
							<span class="videosource_image"></span>
					</tr>
			<!-- split table for image and text --> 
			<!-- add class for each object in the detail section of yamj-style.css -->
					<table class="moviedetail">
						
					<!--		<td><span class="detail_label"><text>DETAIL</text></span></td> -->
						
						<!-- short perso list -->

							<tr>
								<td>
									<span class="director"></span>
									<span class="writer"></span>
								</td>
							</tr>
							<tr>
								<td>
									<span class="actors"></span>
									<a id="all_person" href="#" onclick="ouvre_popup_person()"> ...</a>
								</td>
								
							</tr>
						<tr>
							<td><span class="studio"></span></td>
						</tr>
						<tr>
							<td><span class="genres"></span></td>
						</tr>
						<tr >
							<td ><span class="plot1"></span></td>
						</tr>
			<!--			<tr>
							<td><span class="ratings"></span></td>
						</tr> -->
						<tr>
							<td><a href="#"><img class="combined_ratings" src="" onclick=""/></a></td>
						</tr>
				<!--		<tr>
							<td><span class="certifications"></span></td>
						</tr> -->
						<tr>
							<td><a href="#"><img class="image_certification" src="" onclick=""/></a></td>
						</tr>
						
						
					</table>
	
				

					
						
                </tbody>
            </table> 	
		</div>
		<div class="mediainfo">
			<table class="media">
				<tr>
					<td><span class="media_label"><text>MEDIA</text></span></td>
				</tr>
				<tr>
					<td><span class="filepath"></span></td>
				</tr>
				<tr>
					<td><span class="stage_fileId"></span></td>
				</tr>
				<tr>
					<td><span class="videosource"><img src="" /></span></td>
				</tr>
				<tr>
					<td><span class="resolution"></span></td>
				</tr>
				<tr>
					<td><span class="codec"></span></td>
				</tr>
				<tr>
					<td><span class="fps"></span></td>
				</tr>
				<tr>
					<td><span class="runtime"></span></td>
				</tr>
				<tr>
					<td><span class="audio"></span></td>
				</tr>
				<tr>
					<td><span class="subtitle"></span></td>
				</tr>
				<tr>
					<td><span class="awards"></span></td>
				</tr>
			</table>
					
		
		</div>
		<div class="edit_adjust">
			<table class="posteradjust">
			<tr>
					<td>
                         
                                <div>
									<text style="vertical-align: top;">click on poster to Remove: </text><br><br>
                                    <img class="poster_list" src="" height="90px" width="60px" align="bottom" style="padding:2px;" onclick="" />
									<button id="infobox_ignore_poster" onclick="javascript:start_ignore ('infobox_ignore_poster')"></button>
                                </div>
					</td>
				</tr>
                      
			</table>
			<table class="fanartadjust">
			<tr>
					<td>
                         
                                <div>
									<text style="vertical-align: top;">click on fanart to Remove: </text><br><br>
                                    <img class="fanart_list" src="" height="72px" width="128px" align="bottom" style="padding:2px;" onclick="" />
									<button id="infobox_ignore_fanart" onclick="javascript:start_ignore ('infobox_ignore_fanart')"></button>
                                </div>
					</td>
				</tr>
                      
			</table>
		</div>
		
	<!-- display season box , one for each season , add scroll horizontal bar if more than 8 seasons --> 
		<div class="seasontable" id="seasontable">
			<table >
				<tr>
					<td class="season">
						<text class="season"> Id: </text>
						<span class="SeasonID"></span><span class="SeasonPoster"></span>
						<span class="SeasonYear"></span><br>
						<text class="season" id='seasonlabel'></text><span class="SeasonNb"></span><br>
						<span class="SeasonTitle"></span>
					</td>
				</tr>
			</table>
		</div>
	<!-- for episode detail section , hidden by default in other display -->	
		<div class="episode_detail">
			<div class="table_videoimage">  <!-- to map JSON return -->
				<table id="list_episode_title">	  <!-- list of episode on the right part, add scrool vertical bar if more than 20 episodes -->
					<tr>
						<td>
						 <span class="listepisode_title"></span>
						</td>
					</tr>
				</table>
				<table id="episode_title">	<!-- display title and episode number  -->
					<tr>
						<td>
						 <span class="onlyepisode_title"></span>
						</td>
					</tr>
				</table>
				<table id="tablevideoimage">	<!-- display dynamically videoimage on click on episode if available ortherwise dummy_videoimage -->
					<tr>
						<td>
						
						 <span class="totalvideoimage"></span>
						 
						</td>
					</tr>
				</table>
				<table id="listepisode_plot">	<!-- display dynamically plot on click on episode if available, add vertical scroll bar if more than 830 chars -->
					<tr>
						<td>
						 <span class="listepisode_plot"></span>
						</td>
					</tr>
				</table>
			</div>	
		</div>

		

		<!-- display config -->
		<div id="target_display" style="visibility: hidden;">		
			<iframe src="" name="target_frame" resizable="yes" id="target_frame" scrolling="no" frameborder="1" style="overflow:hidden; width:1050px; height:320px;" allowTransparency="true"></iframe>
		</div>	
		<!-- display source data from API if needed  -->
        <div id="sourceData"></div>
    </body>
</html>