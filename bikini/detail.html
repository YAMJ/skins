<!doctype html>
<html>
    <head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <title>YAMJ v3 detail page</title>
        <script src="js/jquery.js"></script>
        <script src="js/pure.js"></script>
		<!-- Used for skin language setting -->
		<script src="js/lang.js"></script>
		<!-- Used for template -->
		<script src="js/template.js"></script>
		<script src="js/my_remote.js"></script>
		<script src="js/library2.js"></script>
	
        <link rel="stylesheet" type="text/css" href="css/yamj-style.css"/>
	
        <link href="slideshow/slideshow.css" rel="stylesheet" type="text/css" />
        <script src="slideshow/slideshow.js" type="text/javascript"></script>
        <script src="slideshow/slideshowFanart.js" type="text/javascript"></script>
		<script src="slideshow/slideshowBanner.js" type="text/javascript"></script>
		<script type="text/javascript" src="js/iscroll.js"></script>
		
<!--		<object classid="clsid:9BE31822-FDAD-461B-AD51-BE1D1C159921" codebase="http://download.videolan.org/pub/videolan/vlc/last/win32/axvlc.cab"></object>
		



        
		<object classid="clsid:9BE31822-FDAD-461B-AD51-BE1D1C159921" type="application/x-vlc-plugin" codebase="http://download.videolan.org/pub/videolan/vlc/last/win32/axvlc.cab" width="640"  height="480" id="vlc" >
		
		</object>-->

        <script type="text/javascript">
		
// ******************************* ALL GENERAL VARIABLE **********************************************
			// get the id and the type asked previously, data was stored from index, detail or  index_list pages 
			var first_director = true; 
			var first_writer = true; 
			var first_actor = true;
			var season_count = '';
            var current_id = localStorage.getItem("id");
            var index_type = localStorage.getItem("indextype");
			var season = localStorage.getItem("season");
			var series_id = localStorage.getItem("SeriesId");
			var dataindex = localStorage.getItem("index-nav");
			// default general value
			var season_title = "";
			var current_title = "";
            var jsondata;
			var jsonUrl = "";
			var jsonSeasonUrl = "";
			var jsonDeleteUrl = "";
			var CurrentUrlPlay;
			var Currentfilename;
			var current_episode_selected = "";
			var stage_file_Id = "";
			var countset = "-1";
			var fanart_toggle = 0;
			var menuleft_toggle = 0;
			var menuright_toggle = 0;
			var padding_season = 35;
			var Personpopup = "";
			// default value for episode 
			var current_episode_videoimage = "videoimage0";
			var	current_episode_plot = "episodeplot0";
			var	current_episode_title = "episodetitle0";
			var nbre_translate_path = 0;
			var current_file_toplay = "";
			var myVar = "";
			var Person_toSet = true;
			var Movie_toSet = true;
			var _index_url = "wall"
			if (window.localStorage.getItem('display_type') == "wall")
			{_index_url = "index.html";} else {_index_url = "index_list2.html";}
			
// ******************************************** COMMON RESULTS MAPPING **********************************			
			// from jsonUrl
			var DETAIL_HEADER = {
			
						
							'span.header_title': function (arg) {
								season_title = arg.context.result.title;
								current_title = arg.context.result.title;
								if (index_type.toLowerCase() == 'season')
								{
								store_SeriesId (arg.context.result.seriesId);
								return arg.context.result.title + ' '+window.localStorage.getItem('season_label')+': '+ arg.context.result.season;
								} else {
								
								return arg.context.result.title.toLowerCase(); ;
									}
							},
							'span.header_title@style': function (arg) {
								var temp_style = "font-size: 2.5vw;"
								
								if (arg.context.result.title.length > 28)	{temp_style = "font-size: 2.1vw;";}
								if (arg.context.result.title.length > 35)	{temp_style = "font-size: 2.0vw;";}
								if (arg.context.result.title.length > 39)	{temp_style = "font-size: 1.8vw;";}
								if (arg.context.result.title.length > 42)	{temp_style = "font-size: 1.7vw;";}
								if (arg.context.result.title.length > 45)	{temp_style = "font-size: 1.6vw;";}
								if (arg.context.result.title.length > 49)	{temp_style = "font-size: 1.5vw;";}
								if (arg.context.result.title.length > 52)	{temp_style = "font-size: 1.4vw;";}
								if (arg.context.result.title.length > 56)	{temp_style = "font-size: 1.3vw;";}
								if (arg.context.result.title.length > 60)	{temp_style = "font-size: 1.2vw;";}
									
								return temp_style;
							},
							'span.header_year': function (arg)
								{
										return  "<a title=\" " + window.localStorage.getItem("click_to_display_with") + " " + window.localStorage.getItem("year_label") + " : " + arg.context.result.videoYear + "\" href=\"javascript:call_yearselect('" + arg.context.result.videoYear + "')\" >" + arg.context.result.videoYear + "</a>";
								},
							'span.header_id': function (arg) {
									if (index_type.toLowerCase() == 'series')   
										{ 
										store_SeriesId (arg.context.result.id);   // store the series id for next navigation 
							
										}
								return arg.context.result.id;
								}, 
							'span.header_runtime': function (arg) {
								if (arg.context.result.files[0].runtime)
									{return   arg.context.result.files[0].runtime ;}
									else {return "<img src='./pictures/icon/unknown.png' style='position:relative; top:3px; left:-6px; width:2.7vw'/>"; }
							},
							"img.watched@src": function(arg)
								{
									if (arg.context.result.watched) 
									{return "./pictures/watched.png";}
									else {return "./pictures/unwatched.png";}
							
								}, 
							"img.watched@onclick": function(arg)
								{
									if (arg.context.result.watched) 
									{return "WatchedSelection('" + _index_url + "', 'true')";}
									else {return "WatchedSelection('" + _index_url + "', 'false')";}
							
								},
							"img.watched@title": function(arg)
								{
									if (arg.context.result.watched) 
									{return  window.localStorage.getItem("click_to_display_with") + " " + window.localStorage.getItem('watched_select');}
									else {return window.localStorage.getItem("click_to_display_with") + " " + window.localStorage.getItem('unwatched_select');}
							
								},
							'span.country': function(arg)
							{
								if (arg.context.result.countries) 
								{
								return  "<a href=\"javascript:open_country_index('" + arg.context.result.countries[0].countryCode
								+ "')\" ><img class='country' src='pictures/flags/" + arg.context.result.countries[0].countryCode.toLowerCase()
								+ ".png' alt=\"" + arg.context.result.countries[0].country + "\" /></a>";	
								}
								else {return;}
							}, 
							'span.country@title': function(arg)
							{
								if (arg.context.result.countries) 
								{
								return window.localStorage.getItem("click_to_display_with") + " " + window.localStorage.getItem("country_label") + " : " + arg.context.result.countries[0].country ;
								}
								else {return;}
							}, 
							'img.channels@src': function(arg)
								{
									if (arg.context.result.files[0].audioCodecs) {
										if (arg.context.result.files[0].audioCodecs[0].channels)
										{return "./pictures/audio/" + arg.context.result.files[0].audioCodecs[0].channels +".png";}
									} else {return "./pictures/icon/empty.png";}
								}
						
						};
			// from jsonUrl		
            var YAMJ_DIR = {
			
                'span.plot1': function(arg) {
				// check if plot is available 
					if (arg.context.result.plot) {
							return "<text>"+window.localStorage.getItem('plot_label').toUpperCase()+"</text>" +arg.context.result.plot;
								} else {
							return "<text>"+window.localStorage.getItem('noplot_text').toUpperCase()+"</text>";
							}
				},
                'span.genres': function(arg)
                {
                    var output = "<text>"+window.localStorage.getItem('genre_label').toUpperCase()+"</text>";
					if (arg.context.result.genres)
					{
						var first_genres = true; 
						var genres = arg.context.result.genres;
						// loop thru the list of genres
						for (i = 0; i < genres.length; i++) {
							if (first_genres) {
								first_genres = false;
							} else {
								output += ", ";
							}
							if (genres[i].target) { output = output + "<a title=\" " + window.localStorage.getItem("click_to_display_with") + " " + window.localStorage.getItem("genre_label") + ": " + genres[i].target + "\" href=\"javascript:open_genre_index('" + genres[i].target + "')\" >" + genres[i].target + "</a>";}
								else { output = output + "<a title=\" "+ window.localStorage.getItem("click_to_display_with")+ " " + window.localStorage.getItem("genre_label") + ": " + genres[i].name + "\" href=\"javascript:open_genre_index('" + genres[i].name + "')\" >" + genres[i].name + "</a>";}
						}
					}
                    return output;
                },
				'img.image_certification@src': function(arg)
                {
					if (arg.context.result.certifications)
					{
						certifications = arg.context.result.certifications;
						var boucle = true;
						for (i = 0; boucle &&  i < certifications.length; i++) {
								if ( certifications[i].countryCode.toUpperCase() == window.localStorage.getItem('prefered_certification').toUpperCase())
								{
									boucle = false;
									output = "pictures/certification/" + window.localStorage.getItem('prefered_certification').toUpperCase() + "/" + certifications[i].certificate + ".png";
								} else {output = "pictures/certification/dummy_certification.png" ;}
							}
					} else {
							output = "pictures/certification/dummy_certification.png"
					}
                    return output;
                },
				"img.image_certification@onclick": function(arg)
				{
					if (arg.context.result.certifications)
						{
							var certifications = arg.context.result.certifications;	
							var boucle = true;
								for (i = 0; boucle &&  i < certifications.length; i++) {
									if (certifications[i].countryCode.toUpperCase() == window.localStorage.getItem('prefered_certification').toUpperCase())
									{
										boucle = false;
										output = "javascript:open_certification_index("+ certifications[i].id + ", '" + window.localStorage.getItem('prefered_certification').toUpperCase() 
										+ "-" + certifications[i].certificate + "')";
									}
								}
						} else {
							output = "";
						}
						return output;	
				},
				"img.image_certification@title": function(arg)
				{
					if (arg.context.result.certifications)
						{
							var certifications = arg.context.result.certifications;	
							var boucle = true;
								for (i = 0; boucle &&  i < certifications.length; i++) {
									if (certifications[i].countryCode.toUpperCase() == window.localStorage.getItem('prefered_certification').toUpperCase())
									{
										boucle = false;
										output = window.localStorage.getItem('click_to_display_with').toLowerCase() + " " 
										+ window.localStorage.getItem('certification_label').toLowerCase() + ": " 
										+ window.localStorage.getItem('prefered_certification').toUpperCase() + "-" 
										+ certifications[i].certificate + " " + certifications[i].id;
									}
								}
						} else {
							output = "no certification available";
						}
						return output;	
				},
				'span.studio': function(arg)
							{
								if (arg.context.result.studios)															
								{
									var studio = arg.context.result.studios;
									var output = "";
									// loop thru the list of studio
									for (i = 0; i < studio.length; i++) {
										output = output   + "<a title='" + window.localStorage.getItem('click_to_display_with').toLowerCase() + " "
										+ window.localStorage.getItem('studio_select').toLowerCase() + ": "
										+ studio[i].name + "' href=\"#\" onclick=\"open_studio_index('" + studio[i].name + "', '"
										+ studio[i].id + "')\" ><img src='pictures/studios/";
										if (studio[i].name.length > 12)
											{ output += studio[i].name + ".png' style=\"height: 2.5vw;\" alt=\"" + studio[i].name.substring(0,10) + "..,\" /></a>";}
										else { output += studio[i].name + ".png' style=\"height: 2.5vw;\" alt=\"" + studio[i].name + ",\" /></a>";}
									}
								
								} else {output = "<text>" + window.localStorage.getItem('studio_select').toUpperCase() + "</text> No Studio";}
							return output;
							},	
				'img.combined_ratings@src': function(arg)
                {
					if (arg.context.result.ratings)
					{
						var ratings = arg.context.result.ratings;						
							output = "pictures/ratings/rating_" + Math.round(ratings[0].rating/10) + ".png" ;
						} else {
							output = "pictures/ratings/dummy_rating.png"
					}
                    return output;
                },
				'img.combined_ratings@title': function(arg)
                {
					if (arg.context.result.ratings)
					{
						var ratings = arg.context.result.ratings;						
							output = window.localStorage.getItem('click_to_display_with').toLowerCase() + " "
							+ window.localStorage.getItem('rating_label').toLowerCase() + ": "
							+ Math.round(ratings[0].rating/10) ;
						} else {
							output = "no rating available"
					}
                    return output;
                },
				"img.combined_ratings@onclick": function(arg)
				{
					if (arg.context.result.ratings)
						{
							var ratings = arg.context.result.ratings;						
								output = "javascript:open_rating_index('" + ratings[0].source + "', '" + Math.round(ratings[0].rating/10) + "')";
							} else {
								output = "";
							}
						return output;	
				},
            // display fanart   
               'img.fanart': {
                    'fanart<-result.artwork.FANART': {
                        '@src': function(arg)
                        {
						//	console.log("detail display_fanart");
							var output_fanart = "pictures/dummy_fanart.jpg";
                            // Check to see if there are fanart
                            if (arg.item) {
                                // Get fanart from the list
                                if (arg.item.generatedId) {output_fanart = arg.context.baseArtworkUrl + arg.item.filename;}
                            } 
                            return output_fanart;
                        }

                    }
                },
			// display poster 	
				  'img.poster': {
                    'poster<-result.artwork.POSTER': {
                        '@src': function(arg)
                        {
                            // Check to see if there are posters
                            if (arg.item) {
                                // Get the first poster from the list
                                if (!arg.item.generatedId) {
                                    return "pictures/dummy.jpg";
                                }
							// take the opportunity to reset the new season number, in case of next / previous move , only for season type
								if (index_type.toLowerCase() == 'season')
								{															
									season =  arg.item.season;   //  get season number
									} else {
									season = "";
									}
                                return arg.context.baseArtworkUrl + arg.item.filename;
                            } else {
                                return "pictures/dummy.jpg";
                            }
                        }

                    }
                }, 
			// display banner if season and series 	
				'img.banner': {
                    'banner<-result.artwork.BANNER': {
                        '@src': function(arg)
                        {
							if (index_type !== 'MOVIE')  // there is banner only for season and series
								{	
                            // Check to see if there are banner
                            if (arg.item) {
                                // Get the first banner from the list
                                if (!arg.item.generatedId) {
                                    return "pictures/dummy_banner.jpg";
                                }
                                return arg.context.baseArtworkUrl + arg.item.filename;
                            } else {
                                return "pictures/dummy_banner.jpg";
                            }
                        }
					}

                    }
                }, 
			// play button 
				// on click play
				"img.play_detail@onclick": function(arg)
							{
								switch(arg.context.result.videoType.toLowerCase())
									{
										case 'season':
											
											return "play_episode()";
											break;
										case 'episode':
											
											return ;
											break;
										case 'movie':
											var temp_out = arg.context.result.files[0].fileName.replace(/\\/g, "/");
											console.log("detail fileName: "+temp_out);
										return "play_to_device('" + temp_out + "')";
											break;
										case 'series':
											
											return ;
											break;	
									};
                            },
				"img.play_detail@src": function(arg)
							{
								switch(arg.context.result.videoType.toLowerCase())
									{
										case 'season':
											
											return "./pictures/tvshow-off.png";
											break;
										case 'episode':
											return "./pictures/tvshow-off.png";
											
											break;
										case 'movie':	
											return "./pictures/movie-logo.png";
											break;
										case 'series':
										return "./pictures/tvshow-off.png";
											break;	
									};
                            }, 
				'span.videosource_image': function (arg) 
							{
								switch(arg.context.result.videoType.toLowerCase())
									{
										case 'season':
											return "";
											break;
										case 'episode':
											return "";
											break;
										case 'movie':	
										if (arg.context.result.files[0].videoSource) {
											if (arg.context.result.files[0].videoSource.toLowerCase() === '3d') {
													return "<embed src='./pictures/videosource/animation_" + arg.context.result.files[0].videoSource.toLowerCase() + ".swf' width='150' height='125' />";
												} else {
													return "<img src='./pictures/videosource/videosource_" + arg.context.result.files[0].videoSource.toLowerCase() + ".png' />";}
												
											} else {return "<img src='./pictures/videosource/videosource_unknown.png' />";}
											break;
										case 'series':
										return "";
											break;	
									};
							}

            };
			// display media info
			var MEDIA_INFO = {
							'span.originalTitle': function(arg) {
								return "<text>" + window.localStorage.getItem('title_original_label').toUpperCase() + "</text>" + arg.context.result.originalTitle;
							},
							'span.sortTitle': function(arg) {
								return "<text>" + window.localStorage.getItem('title_sort_label').toUpperCase() + "</text>" + arg.context.result.sortTitle;
							},
							'span.status': function(arg) {
								return "<text>STATUS</text>" + arg.context.result.status;
							},
						// display the file path stored in database		
							'span.filepath': function(arg)
							{
							var output_filepath = '' ;
							switch (arg.context.result.videoType.toLowerCase())
							{
								case 'series':
								case 'episode':
									break;
								case 'movie':
									for (i = 0; i < arg.context.result.files.length; i++) 
										{
											output_filepath += "<tr><td id='filepath'><text>"
											+ window.localStorage.getItem('file_label').toUpperCase()+(i+1) + "</text> "
											+  arg.context.result.files[i].fileName 
											+ " (" + arg.context.result.files[i].fileSize 
											+ ") - ("
											+ arg.context.result.files[i].fileDate
											+ ")";
										if (arg.context.result.files[i].extra == "true")
											{output_filepath += " - EXTRA</td></tr>";}
											else {output_filepath += "</td></tr>";}
										}
									break;
								case 'season':
									for (i = 0; i < arg.context.result.files.length; i++) 
										{
											output_filepath += "<tr style='display: none; position: relative; left: 6px; top: -1vw; font-size:1.1vw;' class='episode_"
											+ arg.context.result.files[i].id +"'><td><text>"+window.localStorage.getItem('file_label').toUpperCase()+(i+1) + "</text> " 
											+  arg.context.result.files[i].fileName +" (" + arg.context.result.files[i].fileSize + ")</td></tr>";
										}
									break;
							}
							return output_filepath;
							
							},
							'span.stage_fileId': function (arg) {
							var output_stage_fileId = '' ;
							if (arg.context.result.videoType.toLowerCase() == "season")
								{
									for (i = 0; i < arg.context.result.files.length; i++) 
									{
										stage_file_Id = arg.context.result.files[i].fileId;
										output_stage_fileId += "<tr class='episode_" 
										+ arg.context.result.files[i].id 
										+ "' style='display: none; width: auto; max-width: 100vw; text-align: left; background-color:rgba(0, 0, 0, 0.3); border: 1px solid gray; border-right: 5px solid gray; padding: 1px 10px 0px 10px; position: realtive; font-size:1.1vw;' >"
										+ "<td><text>Stage_File Id</text>"
										+  stage_file_Id + "&nbsp;&nbsp;&nbsp;<text>Video Id</text>"
										+ arg.context.result.files[i].id + "</td></tr>";
									}
								}
							else 
								{
									stage_file_Id = arg.context.result.files[0].fileId;
									output_stage_fileId =  "<text>Stage_File Id</text>"+  stage_file_Id + "&nbsp;&nbsp;&nbsp;<text>Video Id</text>"  + arg.context.result.id;
								}
								return output_stage_fileId;
							}, 
							'span.videosource': function (arg) {
							var output_videosource = '' ;
							if (arg.context.result.videoType.toLowerCase() == "season")
								{
									for (i = 0; i < arg.context.result.files.length; i++) 
									{
										if (arg.context.result.files[i].videoSource) 
											{
												output_videosource += "<tr class='episode_" 
												+ arg.context.result.files[i].id 
												+ "' style='display: none; width: auto; max-width: 100vw; text-align: left; background-color:rgba(0, 0, 0, 0.3); border: 1px solid gray; border-right: 5px solid gray; padding: 1px 10px 0px 10px; position: relative; font-size:1.1vw;' ><td><text>"
												+ window.localStorage.getItem('source_label').toUpperCase()
												+ "</text>" + "<img src='pictures/videosource/thumb-"
												+ arg.context.result.files[i].videoSource.toLowerCase() + ".png' alt=\""
												+ arg.context.result.files[i].videoSource 
												+ "\" height=\"20px\" onclick=\"javascript:call_videosourceselect('" 
												+ arg.context.result.files[i].videoSource + "')\" /></td></tr>";
											} 
											else 
											{
												output_videosource += "<tr><td class='episode_" 
												+ arg.context.result.files[i].id 
												+ "' style='display: none; width: auto; max-width: 100vw; text-align: left; background-color:rgba(0, 0, 0, 0.3); border: 1px solid gray; border-right: 5px solid gray; padding: 1px 10px 0px 10px; position: relative; font-size:1.1vw;' ><text>"
												+ window.localStorage.getItem('source_label').toUpperCase()
												+ "</text><img src='pictures/videosource/thumb-unknown.png' height=\"20px\" /></td></tr>";
											}
									}
								}
							else 
								{
									if (arg.context.result.files[0].videoSource) 
									{
										output_videosource += "<text>"+window.localStorage.getItem('source_label').toUpperCase()+"</text>" 
										+ "<img src='pictures/videosource/thumb-"+ arg.context.result.files[0].videoSource.toLowerCase() 
										+ ".png' alt=\""+ arg.context.result.files[0].videoSource + "\" height=\"20px\" onclick=\"javascript:call_videosourceselect('" 
										+ arg.context.result.files[0].videoSource + "')\" />";
									} 
									else 
									{
										output_videosource += "<text>"
										+ window.localStorage.getItem('source_label').toUpperCase()
										+ "</text><img src='pictures/videosource/thumb-unknown.png' height=\"20px\" />";
									}
								}
								return output_videosource;
							},
							'span.resolution': function (arg) {
							var output_format_ratio = ""; 
							if (arg.context.result.videoType.toLowerCase() == "season")
								{
									for (i = 0; i < arg.context.result.files.length; i++) 
									{
										if (arg.context.result.files[i].width)
										{
											output_format_ratio +=  "<tr class='episode_" + arg.context.result.files[i].id 
											+ "' style='display: none; width: auto; max-width: 100vw; text-align: left; background-color:rgba(0, 0, 0, 0.3); border: 1px solid gray; border-right: 5px solid gray; padding: 1px 10px 0px 10px; position: relative; font-size:1.1vw;' ><td>"
											+ "<text>"
											+ window.localStorage.getItem('format_label').toUpperCase()
											+ "</text>"+  arg.context.result.files[0].width 
											+ "x" + arg.context.result.files[i].height + "&nbsp;&nbsp;&nbsp;";
										}
										else { 
												output_format_ratio += "<tr class='episode_" + arg.context.result.files[i].id 
												+ "' style='display: none; width: auto; max-width: 100vw; text-align: left; background-color:rgba(0, 0, 0, 0.3); border: 1px solid gray; border-right: 5px solid gray;	padding: 1px 10px 0px 10px;	position: relative; font-size:1.1vw;' ><td><text>"
												+ window.localStorage.getItem('format_label').toUpperCase()+"</text>"
												+ window.localStorage.getItem('no_text').toLowerCase() 
												+ " " + window.localStorage.getItem('format_label').toLowerCase() + "&nbsp;&nbsp;&nbsp;";
											}
										if (arg.context.result.files[i].aspectRatio)
											{output_format_ratio +=  "<text>RATIO</text>"+  arg.context.result.files[i].aspectRatio + "</td></tr>";}
										else { output_format_ratio += "<text>RATIO</text>"+  + window.localStorage.getItem('no_text').toLowerCase() + " ratio </td></tr>";}
									}
								}
							else 
								{
									if (arg.context.result.files[0].width)
										{
											output_format_ratio =  "<text>"+window.localStorage.getItem('format_label').toUpperCase()
											+ "</text>"+  arg.context.result.files[0].width 
											+ "x" + arg.context.result.files[0].height + "&nbsp;&nbsp;&nbsp;";
										}
									else {
											output_format_ratio = "<text>" 
											+ window.localStorage.getItem('format_label').toUpperCase()+"</text>"
											+ window.localStorage.getItem('no_text').toLowerCase() 
											+ " " + window.localStorage.getItem('format_label').toLowerCase() + "&nbsp;&nbsp;&nbsp;";
										}
									if (arg.context.result.files[0].aspectRatio)
										{output_format_ratio +=  "<text>RATIO</text>"+  arg.context.result.files[0].aspectRatio;}
									else { output_format_ratio += "<text>RATIO</text>"+  + window.localStorage.getItem('no_text').toLowerCase() + " ratio";}
								}
							return output_format_ratio;
							},
							'span.codec': function (arg) {
							var output_codec_format = ""; 
							if (arg.context.result.videoType.toLowerCase() == "season")
								{
									for (i = 0; i < arg.context.result.files.length; i++) 
									{
										if (arg.context.result.files[i].codec)
											{
												output_codec_format +=  "<tr class='episode_" + arg.context.result.files[i].id 
												+ "' style='display: none; width: auto; max-width: 100vw; text-align: left; background-color:rgba(0, 0, 0, 0.3); border: 1px solid gray; border-right: 5px solid gray; padding: 1px 10px 0px 10px; position: relative; font-size:1.1vw;' ><td>"
												output_codec_format +=  "<text>"+window.localStorage.getItem('video_label').toUpperCase()
												+" CODEC</text>"+ arg.context.result.files[i].codec + "&nbsp;&nbsp;&nbsp; ";
											}
										else {
												output_codec_format +=  "<tr class='episode_" + arg.context.result.files[i].id 
												+ "' style='display: none; width: auto; max-width: 100vw; text-align: left; background-color:rgba(0, 0, 0, 0.3); border: 1px solid gray; border-right: 5px solid gray; padding: 1px 10px 0px 10px; position: relative; font-size:1.1vw;' ><td>"
												output_codec_format +=  "<text>"+ window.localStorage.getItem('video_label').toUpperCase() 
												+ " CODEC</text>" + window.localStorage.getItem('no_text').toLowerCase() + " codec &nbsp;&nbsp;&nbsp;";
											}
										if (arg.context.result.files[i].codecFormat)
											{
												output_codec_format += "<text>"+ window.localStorage.getItem('video_label').toUpperCase() 
												+ " " + window.localStorage.getItem('format_label').toUpperCase() 
												+ "</text>" + arg.context.result.files[i].codecFormat + " &nbsp;&nbsp;&nbsp;";
											}
										else {
												output_codec_format += "<text>"+ window.localStorage.getItem('video_label').toUpperCase() 
												+ " " + window.localStorage.getItem('format_label').toUpperCase() 
												+ "</text>" + window.localStorage.getItem('no_text').toLowerCase() 
												+ " codec format  &nbsp;&nbsp;&nbsp;";
											}
										if (arg.context.result.files[i].codecProfile)
											{
												output_codec_format += "<text>"
												+ window.localStorage.getItem('video_label').toUpperCase() 
												+ " PROFILE</text>" + arg.context.result.files[i].codecProfile + "</td></tr>";
											}
										else {
												output_codec_format += "<text>"+ window.localStorage.getItem('video_label').toUpperCase() 
												+ " PROFILE</text>" + window.localStorage.getItem('no_text').toLowerCase() 
												+ " codec profile</td></tr>";
											}
									}
								}
							else 
								{
									if (arg.context.result.files[0].codec)
										{
											output_codec_format =  "<text>"+window.localStorage.getItem('video_label').toUpperCase()
											+ " CODEC</text>"+ arg.context.result.files[0].codec + "&nbsp;&nbsp;&nbsp; ";
										}
									else {
											output_codec_format =  "<text>"+ window.localStorage.getItem('video_label').toUpperCase() 
											+ " CODEC</text>" + window.localStorage.getItem('no_text').toLowerCase() 
											+ " codec &nbsp;&nbsp;&nbsp;";
										}
									if (arg.context.result.files[0].codecFormat)
										{
											output_codec_format += "<text>"+ window.localStorage.getItem('video_label').toUpperCase() 
											+ " " + window.localStorage.getItem('format_label').toUpperCase() + "</text>" 
											+ arg.context.result.files[0].codecFormat + " &nbsp;&nbsp;&nbsp;";
										}
									else {
											output_codec_format += "<text>"+ window.localStorage.getItem('video_label').toUpperCase() 
											+ " " + window.localStorage.getItem('format_label').toUpperCase() 
											+ "</text>" + window.localStorage.getItem('no_text').toLowerCase() 
											+ " codec format  &nbsp;&nbsp;&nbsp;";
										}
									if (arg.context.result.files[0].codecProfile)
										{
											output_codec_format += "<text>"+ window.localStorage.getItem('video_label').toUpperCase() 
											+ " PROFILE</text>" 
											+ arg.context.result.files[0].codecProfile ;
										}
									else {
											output_codec_format += "<text>"+ window.localStorage.getItem('video_label').toUpperCase() 
											+ " PROFILE</text>" + window.localStorage.getItem('no_text').toLowerCase() 
											+ " codec profile";
										}
							}
							return output_codec_format;
							},
							'span.fps': function (arg) {
							var output_fps_bitrate = "";
							if (arg.context.result.videoType.toLowerCase() == "season")
								{
									for (i = 0; i < arg.context.result.files.length; i++) 
									{	
										output_fps_bitrate +=  "<tr class='episode_" 
										+ arg.context.result.files[i].id
										+ "' style='display: none; width: auto; max-width: 100vw; text-align: left; background-color:rgba(0, 0, 0, 0.3); border: 1px solid gray; border-right: 5px solid gray; padding: 1px 10px 0px 10px; position: relative; font-size:1.1vw;' ><td>"
											
										if (arg.context.result.files[i].fps)
										{
											output_fps_bitrate += "<text>"+window.localStorage.getItem('fps_label').toUpperCase()
											+ "</text>"+  arg.context.result.files[i].fps + "&nbsp;&nbsp;&nbsp; ";
										}
										else {
												output_fps_bitrate +=  "<text>"+ window.localStorage.getItem('fps_label').toUpperCase() 
												+ "</text>" + window.localStorage.getItem('no_text').toLowerCase() 
												+ " " + window.localStorage.getItem('fps_label').toLowerCase() 
												+ "&nbsp;&nbsp;&nbsp;";
											}
										if (arg.context.result.files[i].bitrate)
											{output_fps_bitrate += "<text>BITRATE</text>"+  arg.context.result.files[i].bitrate + "</td></tr>" ;}
										else {output_fps_bitrate +=  "<text>BITRATE</text>" + window.localStorage.getItem('no_text').toLowerCase() + " bitrate</td></tr>" ;}
									}
								}
							else 
								{
									if (arg.context.result.files[0].fps)
										{
											output_fps_bitrate = "<text>"+window.localStorage.getItem('fps_label').toUpperCase()
											+ "</text>"+  arg.context.result.files[0].fps + "&nbsp;&nbsp;&nbsp; ";
										}
									else {
											output_fps_bitrate =  "<text>"+ window.localStorage.getItem('fps_label').toUpperCase() 
											+ "</text>" + window.localStorage.getItem('no_text').toLowerCase()
											+ " " + window.localStorage.getItem('fps_label').toLowerCase() 
											+ "&nbsp;&nbsp;&nbsp;";
										}
									if (arg.context.result.files[0].bitrate)
										{output_fps_bitrate += "<text>BITRATE</text>"+  arg.context.result.files[0].bitrate ;}
									else {output_fps_bitrate +=  "<text>BITRATE</text>" + window.localStorage.getItem('no_text').toLowerCase() + " bitrate" ;}
								}
							return output_fps_bitrate;
							},
							'span.runtime': function (arg) {
							var output_runtime = "";
							if (arg.context.result.videoType.toLowerCase() == "season")
								{
									for (i = 0; i < arg.context.result.files.length; i++) 
									{
										if (arg.context.result.files[i].runtime)
										{
											output_runtime += "<tr class='episode_" + arg.context.result.files[i].id 
											+ "' style='display: none; width: auto; max-width: 100vw; text-align: left; background-color:rgba(0, 0, 0, 0.3); border: 1px solid gray; border-right: 5px solid gray; padding: 1px 10px 0px 10px; position: relative; font-size:1.1vw;' ><td>"
											output_runtime += "<text>"+window.localStorage.getItem('runtime_label').toUpperCase()
											+ "</text>"+  arg.context.result.files[i].runtime + "</td></tr>" ;
										}
										else {
												output_runtime +=  "<tr class='episode_" + arg.context.result.files[i].id
												+ "' style='display: none; width: auto; max-width: 100vw; text-align: left; background-color:rgba(0, 0, 0, 0.3); border: 1px solid gray; border-right: 5px solid gray; padding: 1px 10px 0px 10px; position: relative; font-size:1.1vw;' ><td>"
												output_runtime +=  "<text>"+ window.localStorage.getItem('runtime_label').toUpperCase() 
												+ "</text>" + window.localStorage.getItem('no_text').toLowerCase() + "</td></tr>";
											}
									}
								}
							else 
								{
									if (arg.context.result.files[0].runtime)
										{output_runtime += "<text>"+window.localStorage.getItem('runtime_label').toUpperCase()+"</text>"+  arg.context.result.files[0].runtime ;}
									else {
											output_runtime += "<text>"+ window.localStorage.getItem('runtime_label').toUpperCase() 
											+ "</text>" + window.localStorage.getItem('no_text').toLowerCase() + " " 
											+ window.localStorage.getItem('runtime_label').toLowerCase();
										}
								}
							return output_runtime;
							},
							'span.audio': function(arg)
							{
							var output_audio = "";
							var audio = arg.context.result.files[0].audioCodecs;
							if (arg.context.result.videoType.toLowerCase() == "season")
								{
									for (i = 0; i < arg.context.result.files.length; i++) 
									{
										audio = arg.context.result.files[i].audioCodecs;
										output_audio += "<tr class='episode_" + arg.context.result.files[i].id 
										+ "' style='display: none; width: auto; max-width: 100vw; text-align: left; background-color:rgba(0, 0, 0, 0.3); border: 1px solid gray; border-right: 5px solid gray; padding: 1px 10px 0px 10px; position: relative; font-size:1.1vw;' ><td>"
											
										if (audio)
										{
										
											// loop thru the list of audio
											for (j = 0; j < audio.length; j++) 
											{
												output_audio += "<text>"+window.localStorage.getItem('audio_label').toUpperCase()+(j+1)
												+"</text>" + " " + audio[j].codecFormat + " "  + audio[j].channels + "ch ";
												if (audio[j].bitrate != "Undefined") 
													{output_audio += "(bitrate: " + audio[j].bitrate + ")&nbsp;&nbsp;";}
												if (audio[j].language != "Undefined") 
													{output_audio += "<img src=\"pictures/flags/" + audio[j].languageCode.toLowerCase() +".png\" alt=\"" 
													+ audio[j].language + "\" style=\" height:20px; position:relative; bottom:-3px;\" />&nbsp;";}
											}
										}
										else
											{
												output_audio += "<text>" + window.localStorage.getItem('audio_label').toUpperCase() 
												+ "</text>" + window.localStorage.getItem('no_text').toLowerCase() + " " 
												+ window.localStorage.getItem('audio_label').toLowerCase() 
												+ "</td></tr>";
											}								
										output_audio += "</td></tr>"
									}
								}
							else 
								{
									
									if (audio)
									{
									// loop thru the list of audio
										for (i = 0; i < audio.length; i++)
										{
											output_audio += "<text>"+window.localStorage.getItem('audio_label').toUpperCase()+(i+1)
											+ "</text>" + " " + audio[i].codecFormat + " "  + audio[i].channels + "ch ";
											if (audio[i].bitrate != "Undefined") 
											{output_audio += "(bitrate: " + audio[i].bitrate + ")&nbsp;&nbsp;";}
											if (audio[i].languageCode != "und") 
											{
												output_audio += "<img src=\"pictures/flags/" + audio[i].languageCode.toLowerCase() +".png\" alt=\""
												+ audio[i].language + "\" style=\" height:20px; position:relative; bottom:-3px;\" />&nbsp; ";
											}
										}
									}
									else {
											output_audio = "<text>" + window.localStorage.getItem('audio_label').toUpperCase() 
											+ "</text>" + window.localStorage.getItem('no_text').toLowerCase()
											+ " " + window.localStorage.getItem('audio_label').toLowerCase();
										}
								}
							return output_audio;
							}, 
							'span.subtitle': function(arg)
							{
								var output_subtitle = "";
								if (arg.context.result.videoType.toLowerCase() == "season")
								{
									for (i = 0; i < arg.context.result.files.length; i++) 
									{
										subtitle = arg.context.result.files[i].subtitles;
										output_subtitle += "<tr class='episode_" + arg.context.result.files[i].id 
										+ "' style='display: none; width: auto; max-width: 100vw; text-align: left; background-color:rgba(0, 0, 0, 0.3); border: 1px solid gray; border-right: 5px solid gray; padding: 1px 10px 0px 10px; position: relative; font-size:1.1vw;' ><td>";
										if (subtitle)
										{
											// loop thru the list of subtitle
											for (j = 0; j < subtitle.length; j++) 
											{
												output_subtitle += "<text>"+window.localStorage.getItem('subtitle_label').toUpperCase()+(j+1)
												+"</text>" + "<img src=\"pictures/flags/" + subtitle[j].languageCode.toLowerCase() +".png\" alt=\"" 
												+ subtitle[j].language + "\" style=\" height:20px; position:relative; bottom:-3px;\" />&nbsp; ";
											}
										} 
										else {
												output_subtitle += "<text>"+ window.localStorage.getItem('subtitle_label').toUpperCase() 
												+ "</text>" + window.localStorage.getItem('no_text').toLowerCase() 
												+ " " + window.localStorage.getItem('subtitle_label').toLowerCase() ;
											}
									}
									output_subtitle += "</td></tr>"
								}
							else 
								{
									subtitle = arg.context.result.files[0].subtitles;
									if (subtitle)
									{
									// loop thru the list of subtitle
										for (i = 0; i < subtitle.length; i++) 
											{
												output_subtitle += "<text>"+window.localStorage.getItem('subtitle_label').toUpperCase()+(i+1)
												+ "</text>" + "<img src=\"pictures/flags/" + subtitle[i].languageCode.toLowerCase() +".png\" alt=\"" 
												+ subtitle[i].language 
												+ "\" style=\" height:20px; position:relative; bottom:-3px;\" />&nbsp; ";
											}
									} 
									else {
											output_subtitle += "<text>"+ window.localStorage.getItem('subtitle_label').toUpperCase() 
											+ "</text>" + window.localStorage.getItem('no_text').toLowerCase() 
											+ " " + window.localStorage.getItem('subtitle_label').toLowerCase();
										}
								}
								return output_subtitle;
							},
							'span.awards': function(arg)
							{
								var awards = arg.context.result.awards;
								if (awards)
								{
								var output = "<text>" + window.localStorage.getItem('awards_label').toUpperCase() + "("+ awards.length +")</text><br>" ;
								// loop thru the list of awards
								for (i = 0; i < awards.length; i++) {
									output = output + "<text>"+ (i+1) + "</text>"+awards[i].event + "(" + awards[i].year + "):" + awards[i].category +";<br>" ;
								}
								return output;
								} 
								else {
										return "<text>" + window.localStorage.getItem('awards_label').toUpperCase() 
										+ "</text> "+ window.localStorage.getItem('no_text').toLowerCase()
										+ " " + window.localStorage.getItem('awards_label').toLowerCase();
									}
							}, 
							'span.external_Id': function(arg) {
								var output_externalid = ''; 
								if (arg.context.result.externalIds)
								{
									var external_list = arg.context.result.externalIds; 
									for (var i = 0; i < external_list.length; i++) {
										switch (external_list[i].sourcedb.toLowerCase())
											{
											case 'allocine':
												{	
													if (external_list[i].skipped) 
													{ 
														output_externalid += "<span>&nbsp;&nbsp;</span><text>"+window.localStorage.getItem('source_label')
														+ " "+external_list[i].sourcedb
														+ "<img src=\"./pictures/icon/delete.png\" style=\"height: 20px; position : relative; vertical-align: bottom;\"  onclick=\"toggle_display_Id('delete_"
														+ external_list[i].sourcedb 
														+ "'); toggle_display_class('externalId_delete_form')\" /><img src=\"./pictures/open2.png\" style=\"height: 17px; position : relative; vertical-align: bottom; top: -1px;\"  onclick=\"enable_external_source('"
														+ external_list[i].sourcedb +"')\" /></text>";
														switch(arg.context.result.videoType.toLowerCase())
																{
																	case 'movie':	
																		output_externalid += "<a title=\" " + window.localStorage.getItem("click_to_display_with") + " " + external_list[i].sourcedb +" : " + arg.context.result.sortTitle + "\" class='external_href' style='text-decoration: line-through; color: red;' href='http://www.allocine.fr/film/fichefilm_gen_cfilm=" 
																		+ external_list[i].externalId + ".html' target='_blank' >"
																		+ external_list[i].externalId + "</a>";		
																		break;
																	case 'season':
																	output_externalid += "<a title=\" " + window.localStorage.getItem("click_to_display_with") + " " + external_list[i].sourcedb +" : " + arg.context.result.sortTitle + "\" class='external_href' style='text-decoration: line-through; color: red;' href='http://www.allocine.fr/series/ficheserie-" 
																	+ window.localStorage.getItem('Series_externalid_allocine') + "/saison-" 
																	+ external_list[i].externalId + "/' target='_blank' >"+ "series:"
																	+ window.localStorage.getItem('Series_externalid_allocine') + " " + window.localStorage.getItem('season_label')+ ":" 
																	+ external_list[i].externalId + "</a>";
																		break;
																	case 'episode':
																	case 'series':
																	output_externalid += "<a title=\" " + window.localStorage.getItem("click_to_display_with") + " " + external_list[i].sourcedb +" : " + arg.context.result.sortTitle + "\" class='external_href' style='text-decoration: line-through; color: red;' href='http://www.allocine.fr/series/ficheserie_gen_cserie=" 
																	+ external_list[i].externalId + ".html' target='_blank' >"
																	+ external_list[i].externalId + "</a>";
																		break;	
																};
													}
													else 
													{ 
														output_externalid += "<span>&nbsp;&nbsp;</span><text>"
														+ window.localStorage.getItem('source_label')+" "
														+ external_list[i].sourcedb
														+ "<img src=\"./pictures/icon/delete.png\" style=\"height: 20px; position : relative; vertical-align: bottom;\"  onclick=\"toggle_display_Id('delete_"
														+ external_list[i].sourcedb 
														+"'); toggle_display_class('externalId_delete_form')\" /><img src=\"./pictures/close2.png\" style=\"height: 17px; position : relative; vertical-align: bottom; top: -1px;\"  onclick=\"disable_external_source('"
														+ external_list[i].sourcedb 
														+"')\" /></text>";
														switch(arg.context.result.videoType.toLowerCase())
																{
																	case 'movie':	
																		output_externalid += "<a title=\" " + window.localStorage.getItem("click_to_display_with") + " " + external_list[i].sourcedb +" : " + arg.context.result.sortTitle + "\" class='external_href' href='http://www.allocine.fr/film/fichefilm_gen_cfilm="
																		+ external_list[i].externalId + ".html' target='_blank' >"
																		+ external_list[i].externalId + "</a>";		
																		break;
																	case 'season':
																	output_externalid += "<a title=\" " + window.localStorage.getItem("click_to_display_with") + " " + external_list[i].sourcedb +" : " + arg.context.result.sortTitle + "\" class='external_href'  href='http://www.allocine.fr/series/ficheserie-"
																	+ window.localStorage.getItem('Series_externalid_allocine') + "/saison-"
																	+ external_list[i].externalId + "/' target='_blank' >"+ "series:" 
																	+ window.localStorage.getItem('Series_externalid_allocine') +  " " 
																	+ window.localStorage.getItem('season_label')+ ":" 
																	+ external_list[i].externalId + "</a>";
																		break;
																	case 'episode':
																	case 'series':
																	output_externalid += "<a title=\" " + window.localStorage.getItem("click_to_display_with") + " " + external_list[i].sourcedb +" : " + arg.context.result.sortTitle + "\" class='external_href' href='http://www.allocine.fr/series/ficheserie_gen_cserie=" 
																	+ external_list[i].externalId + ".html' target='_blank' >"
																	+ external_list[i].externalId + "</a>";
																		break;	
																};
													}	
													break;
												}
											case 'tvdb':
												{	
													if (external_list[i].skipped) 
													{ 
														output_externalid += "<span>&nbsp;&nbsp;</span><text>"
														+ window.localStorage.getItem('source_label')
														+ " "+external_list[i].sourcedb
														+ "<img src=\"./pictures/icon/delete.png\" style=\"height: 20px; position : relative; vertical-align: bottom;\"  onclick=\"toggle_display_Id('delete_"
														+ external_list[i].sourcedb 
														+ "'); toggle_display_class('externalId_delete_form')\" /><img src=\"./pictures/open2.png\" style=\"height: 17px; position : relative; vertical-align: bottom; top: -1px;\"  onclick=\"enable_external_source('"
														+ external_list[i].sourcedb +"')\" /></text>";
														switch(arg.context.result.videoType.toLowerCase())
																{
																	case 'movie':	
																		output_externalid += "<a title=\" " + window.localStorage.getItem("click_to_display_with") + " " + external_list[i].sourcedb +" : " + arg.context.result.sortTitle + "\" class='external_href' style='text-decoration: line-through; color: red;' href='#' >"+ external_list[i].externalId + "</a>";		
																		break;
																	case 'season':
																	output_externalid += "<a title=\" " + window.localStorage.getItem("click_to_display_with") + " " + external_list[i].sourcedb +" : " + arg.context.result.sortTitle + "\" class='external_href' style='text-decoration: line-through; color: red;' href='http://thetvdb.com/?tab=season&seriesid=" 
																	+ window.localStorage.getItem('Series_externalid_tvdb') + "&seasonid="
																	+ external_list[i].externalId + "' target='_blank' >"+ "series:" 
																	+ window.localStorage.getItem('Series_externalid_tvdb') +  " "
																	+ window.localStorage.getItem('season_label')+ ":"
																	+  external_list[i].externalId + "</a>";
																		break;
																	case 'episode':
																	case 'series':
																	output_externalid += "<a title=\" " + window.localStorage.getItem("click_to_display_with") + " " + external_list[i].sourcedb +" : " + arg.context.result.sortTitle + "\" class='external_href' style='text-decoration: line-through; color: red;' href='http://thetvdb.com/?tab=series&id=" 
																	+ external_list[i].externalId + "' target='_blank' >"
																	+ external_list[i].externalId + "</a>";
																		break;	
																};
													}
													else 
													{ 
														output_externalid += "<span>&nbsp;&nbsp;</span><text>"+window.localStorage.getItem('source_label')
														+ " "+external_list[i].sourcedb
														+ "<img src=\"./pictures/icon/delete.png\" style=\"height: 20px; position : relative; vertical-align: bottom;\"  onclick=\"toggle_display_Id('delete_"
														+ external_list[i].sourcedb 
														+ "'); toggle_display_class('externalId_delete_form')\" /><img src=\"./pictures/close2.png\" style=\"height: 17px; position : relative; vertical-align: bottom; top: -1px;\"  onclick=\"disable_external_source('"
														+ external_list[i].sourcedb +"')\" /></text>";
														switch(arg.context.result.videoType.toLowerCase())
																{
																	case 'movie':	
																		output_externalid += "<a title=\" " + window.localStorage.getItem("click_to_display_with") + " " + external_list[i].sourcedb +" : " + arg.context.result.sortTitle + "\" class='external_href' href='#' >"+ external_list[i].externalId + "</a>";		
																		break;
																	case 'season':
																	output_externalid += "<a title=\" " + window.localStorage.getItem("click_to_display_with") + " " + external_list[i].sourcedb +" : " + arg.context.result.sortTitle + "\" class='external_href' href='http://thetvdb.com/?tab=season&seriesid="
																	+ window.localStorage.getItem('Series_externalid_tvdb') 
																	+ "&seasonid=" + external_list[i].externalId + "' target='_blank' >"
																	+ "series:" + window.localStorage.getItem('Series_externalid_tvdb') +  " " 
																	+ window.localStorage.getItem('season_label')+ ":" 
																	+  external_list[i].externalId + "</a>";
																		break;
																	case 'episode':
																	case 'series':
																	output_externalid += "<a title=\" " + window.localStorage.getItem("click_to_display_with") + " " + external_list[i].sourcedb +" : " + arg.context.result.sortTitle + "\" class='external_href' href='http://thetvdb.com/?tab=series&id=" 
																	+ external_list[i].externalId + "' target='_blank' >"
																	+ external_list[i].externalId + "</a>";
																		break;	
																};
													}	
													break;
												}
											case 'tmdb':
												{	
													if (external_list[i].skipped) 
													{ 
														output_externalid += "<span>&nbsp;&nbsp;</span><text>"
														+ window.localStorage.getItem('source_label')
														+ " "+external_list[i].sourcedb
														+ "<img src=\"./pictures/icon/delete.png\" style=\"height: 20px; position : relative; vertical-align: bottom;\"  onclick=\"toggle_display_Id('delete_"
														+ external_list[i].sourcedb
														+ "'); toggle_display_class('externalId_delete_form')\" /><img src=\"./pictures/open2.png\" style=\"height: 17px; position : relative; vertical-align: bottom; top: -1px;\"  onclick=\"enable_external_source('"
														+ external_list[i].sourcedb +"')\" /></text>";
														switch(arg.context.result.videoType.toLowerCase())
																{
																	case 'movie':	
																		output_externalid += "<a title=\" " + window.localStorage.getItem("click_to_display_with") + " " + external_list[i].sourcedb +" : " + arg.context.result.sortTitle + "\" class='external_href' style='text-decoration: line-through; color: red;' href='https://www.themoviedb.org/movie/"
																		+ external_list[i].externalId + ".html' target='_blank' >"
																		+ external_list[i].externalId + "</a>";	
																		break;
																	case 'season':
																	case 'episode':
																	case 'series':
																	output_externalid += "<a title=\" " + window.localStorage.getItem("click_to_display_with") + " " + external_list[i].sourcedb +" : " + arg.context.result.sortTitle + "\" class='external_href' style='text-decoration: line-through; color: red;' href='https://www.themoviedb.org/tv/" 
																	+ external_list[i].externalId + ".html' target='_blank' >"
																	+ external_list[i].externalId + "</a>";
																		break;	
																};
													}
													else 
													{ 
														output_externalid += "<span>&nbsp;&nbsp;</span><text>"+window.localStorage.getItem('source_label')+" "
														+ external_list[i].sourcedb
														+ "<img src=\"./pictures/icon/delete.png\" style=\"height: 20px; position : relative; vertical-align: bottom;\"  onclick=\"toggle_display_Id('delete_"
														+ external_list[i].sourcedb 
														+ "'); toggle_display_class('externalId_delete_form')\" /><img src=\"./pictures/close2.png\" style=\"height: 17px; position : relative; vertical-align: bottom; top: -1px;\"  onclick=\"disable_external_source('"
														+ external_list[i].sourcedb +"')\" /></text>";
														
														switch(arg.context.result.videoType.toLowerCase())
																{
																	case 'movie':	
																		output_externalid += "<a title=\" " + window.localStorage.getItem("click_to_display_with") + " " + external_list[i].sourcedb +" : " + arg.context.result.sortTitle + "\" class='external_href' href='https://www.themoviedb.org/movie/"
																		+ external_list[i].externalId + ".html' target='_blank' >"
																		+ external_list[i].externalId + "</a>";		
																		break;
																	case 'season':
																	case 'episode':
																	case 'series':
																	output_externalid += "<a title=\" " + window.localStorage.getItem("click_to_display_with") + " " + external_list[i].sourcedb +" : " + arg.context.result.sortTitle + "\" class='external_href' href='https://www.themoviedb.org/tv/" 
																	+ external_list[i].externalId + ".html' target='_blank' >"
																	+ external_list[i].externalId + "</a>";
																		break;	
																};
														break;
													}
												}
											case 'imdb':
												{	
													if (external_list[i].skipped) 
													{ 
														output_externalid += "<span>&nbsp;&nbsp;</span><text>"+window.localStorage.getItem('source_label')+" "
														+ external_list[i].sourcedb
														+ "<img src=\"./pictures/icon/delete.png\" style=\"height: 20px; position : relative; vertical-align: bottom;\"  onclick=\"toggle_display_Id('delete_"
														+ external_list[i].sourcedb 
														+ "'); toggle_display_class('externalId_delete_form')\" /><img src=\"./pictures/open2.png\" style=\"height: 17px; position : relative; vertical-align: bottom; top: -1px;\"  onclick=\"enable_external_source('"
														+ external_list[i].sourcedb 
														+ "')\" /></text>";
														switch(arg.context.result.videoType.toLowerCase())
																{
																		
																	case 'season':
																		output_externalid += "&nbsp;<a title=\" " + window.localStorage.getItem("click_to_display_with") + " " + external_list[i].sourcedb +" : " + arg.context.result.sortTitle + "\" class='external_href' style='text-decoration: line-through; color: red;' href='http://www.imdb.com/title/" 
																		+ Series_externalid_imdb + "/episodes?season=" +arg.context.result.season + "' target='_blank' >"
																		+ external_list[i].externalId + "</a>";
																		break;
																	case 'movie':
																	case 'episode':
																	case 'series':
																		output_externalid += "&nbsp;<a title=\" " + window.localStorage.getItem("click_to_display_with") + " " + external_list[i].sourcedb +" : " + arg.context.result.sortTitle + "\" class='external_href' style='text-decoration: line-through; color: red;' href='http://www.imdb.com/title/"
																		+ external_list[i].externalId + ".html' target='_blank' >"
																		+ external_list[i].externalId + "</a>";
																}
																		break;
													}
												else 
													{ 
														output_externalid += "<span>&nbsp;&nbsp;</span><text>"+window.localStorage.getItem('source_label')+" "
														+ external_list[i].sourcedb
														+ "<img src=\"./pictures/icon/delete.png\" style=\"height: 20px; position : relative; vertical-align: bottom;\"  onclick=\"toggle_display_Id('delete_"
														+ external_list[i].sourcedb 
														+ "'); toggle_display_class('externalId_delete_form')\" /><img src=\"./pictures/close2.png\" style=\"height: 17px; position : relative; vertical-align: bottom; top: -1px;\"  onclick=\"disable_external_source('"
														+ external_list[i].sourcedb +"')\" /></text>";
														switch(arg.context.result.videoType.toLowerCase())
																{
																		
																	case 'season':
																		output_externalid += "<a title=\" " + window.localStorage.getItem("click_to_display_with") + " " + external_list[i].sourcedb +" : " + arg.context.result.sortTitle + "\" class='external_href' href='http://www.imdb.com/title/" 
																		+ Series_externalid_imdb + "/episodes?season="
																		+ arg.context.result.season + "' target='_blank' >"
																		+ external_list[i].externalId + "</a>";
																		break;
																	case 'movie':
																	case 'episode':
																	case 'series':
																		output_externalid += "<a title=\" " + window.localStorage.getItem("click_to_display_with") + " " + external_list[i].sourcedb +" : " + arg.context.result.sortTitle + "\" class='external_href' href='http://www.imdb.com/title/"
																		+ external_list[i].externalId + "/' target='_blank' >"
																		+ external_list[i].externalId + "</a>";
																}
																		break;
													}
													break;
												}
											default: 
												{
													output_externalid += "<span>&nbsp;&nbsp;</span><text>"
													+ window.localStorage.getItem('source_label')
													+ " "+external_list[i].sourcedb
													+ "<img src=\"./pictures/icon/delete.png\" style=\"height: 20px; position : relative; vertical-align: bottom;\"  onclick=\"toggle_display_Id('delete_"
													+ external_list[i].sourcedb 
													+ "'); toggle_display_class('externalId_delete_form')\" /><img src=\"./pictures/close2.png\" style=\"height: 17px; position : relative; vertical-align: bottom; top: -1px;\"  onclick=\"disable_external_source('"
													+ external_list[i].sourcedb 
													+ "')\" /></text>" 
													+ external_list[i].externalId + "&nbsp; ";
													break;
												}
											}
										}
								}
								return output_externalid + "<span>&nbsp;&nbsp;</span><text><img src=\"./pictures/add.png\" style=\"height: 20px; position : relative; vertical-align: bottom;\"  onclick=\"toggle_class('externalId_add')\" /></text>";
							
							}, 
							'span.externalId_delete_form': function (arg) {
								var output_externalid_form = ''; 
								if (arg.context.result.externalIds)
								{
									var external_list_form = arg.context.result.externalIds; 
									for (var i = 0; i < external_list_form.length; i++) {
										
													output_externalid_form = output_externalid_form
													+ "<form id='delete_"+ external_list_form[i].sourcedb 
													+ "' style='position: absolute; top:0.1vw; left: 2vw; display: none; width: 20vw;' action=\"javascript:open_delete_externalId ('"
													+ external_list_form[i].sourcedb + "')\" method='post'>"
													+ "<label for='delete_"+ external_list_form[i].sourcedb +"'>"+window.localStorage.getItem('source_label')+" "
													+ external_list_form[i].sourcedb + " </label>"
													+ "<INPUT type='submit' value='"+window.localStorage.getItem('delete_text')+"'></input>"
													+ "</form>"	;
									
											}
								}
								return output_externalid_form;
							}						
						};
					var POSTER_INFO = {
						// display poster 	
							  'img.poster_list': {
								'poster<-result.artwork.POSTER': {
									'@src': function(arg)
									{
										// Check to see if there are posters
										if (arg.item) {
											// Get the first poster from the list
											if (arg.item.generatedId === 0) {
												return "pictures/dummy.jpg";
											}
											return arg.context.baseArtworkUrl + arg.item.filename;
										} else {
											return "pictures/dummy.jpg";
										}
									}, 
									'@onclick': function(arg)
									{
										return "ouvre_popup_ignore('poster', '" + arg.item.locatedId + "')";
									}
								}
							},
						// display fanart 	
							  'img.fanart_list': {
								'poster<-result.artwork.FANART': {
									'@src': function(arg)
									{
										// Check to see if there are posters
										if (arg.item) {
											// Get the first poster from the list
											if (arg.item.generatedId === 0) {
												return "pictures/dummy_fanart.jpg";
											}
											return arg.context.baseArtworkUrl + arg.item.filename;
										} else {
											return "pictures/dummy_fanart.jpg";
										}
									}, 
									'@onclick': function(arg)
									{
										return "ouvre_popup_ignore('fanart', '" + arg.item.locatedId + "')";
									}
								}
							},
						// display banner 	
							  'img.banner_list': {
								'poster<-result.artwork.BANNER': {
									'@src': function(arg)
									{
										// Check to see if there are posters
										if (arg.item) {
											// Get the first poster from the list
											if (arg.item.generatedId === 0) {
												return "pictures/dummy_banner.jpg";
											}
											return arg.context.baseArtworkUrl + arg.item.filename;
										} else {
											return "pictures/dummy_banner.jpg";
										}
									}, 
									'@onclick': function(arg)
									{
										return "ouvre_popup_ignore('banner', '" + arg.item.locatedId + "')";
									}
								}
							}
				
						};
						
				var TRAILER_INFO = {
						// display poster 	
							  'span.trailer_href':  function(arg)
									{
										var output_trailer = "";
										var trailer_item = arg.context.result.trailers;
										var first = true; 
										// Check to see if there are trailer
										if (trailer_item) 
										{ 
											console.log('detail TRAILER_INFO');
											for (i = 0; i < trailer_item.length; i++) 
											{
												if (first)
													{output_trailer = "<img style='visibility:visible;' src='pictures/trailer.png' onmouseover=\"this.src='pictures/TrailerSelect.png'\" onmouseout=\"this.src='pictures/trailer.png'\" onclick='javascript:toggle_Id(\"trailer_td\")'></img><td id='trailer_td' style='visibility: hidden;'>";
													first = false;}
												output_trailer = output_trailer + "<a href=\"" + trailer_item[i].url.replace('watch?v=', '/v/') + '&rel=0&autoplay=1' 
												+ "\" target=\"_blank\">" 
												+ trailer_item[i].source + ":" 
												+ trailer_item[i].title + "</a>" 
												+ "<img title='" + window.localStorage.getItem('delete_text').toLowerCase() 
												+ "' id='trailer_delete' src='pictures/icon/delete.png' onclick=\"delete_trailer('" 
												+ arg.context.result.trailers[i].id + "')\" />"
												+ "<img title='" + window.localStorage.getItem('download_text').toLowerCase() 
												+ "' id='trailer_download' src='pictures/download_trailers.png' onclick=\"download_trailer('" 
												+ arg.context.result.trailers[i].id + "')\" />"
												+ "<img title='" + window.localStorage.getItem('ignore_text').toLowerCase()
												+ "' id='trailer_ignore' src='pictures/close2.png' onclick=\"ignore_trailer('"
												+ arg.context.result.trailers[i].id + "')\" />"
												+ "<br>";
											} 
											} else {output_trailer = "";}
										
										return output_trailer + "</td>";
									}
								};
				
	
			var CAST_INFO = {
			
                     "span.director": function(arg) {
							var output_director = "<text>" + window.localStorage.getItem('director_label').toUpperCase() + "</text>";
							if (arg.context.results) {
								var total_director = arg.context.results;
									for (i = 0; i < total_director.length; i++) 
									{
										if (total_director[i].job == "DIRECTOR")
											{
												console.log (total_director[i].job + " name:" + total_director[i].name);
												output_director += "<a title=\" " + window.localStorage.getItem("click_to_display_with") + " " + window.localStorage.getItem("director_label") + ": " + total_director[i].name + "\" href=\"#\" onclick=\"open_person_popup('" 
												+ total_director[i].id + "', 'close')\" class=\"actors\">"
												+ total_director[i].name + "</a>";
											return output_director;
											}
									}
								}
							return output_director;
						},
						
                     "span.writer": function(arg) {
							var output_writer = "<text>" + window.localStorage.getItem('writer_label').toUpperCase() + "</text>";
							if (arg.context.results) {
								var total_writer = arg.context.results;
								for (j = 0; (j < total_writer.length); j++) 
								{
									if (total_writer[j].job == "WRITER")
										{
											console.log (total_writer[j].job + " name:" + total_writer[j].name);
											output_writer += "<a title=\" "+ window.localStorage.getItem("click_to_display_with")+ " " + window.localStorage.getItem("writer_label") + ": " + total_writer[j].name + "\" href=\"#\" onclick=\"open_person_popup('" 
											+ total_writer[j].id + "', 'close')\" class=\"actors\">"
											+ total_writer[j].name + "</a>";
											return output_writer +"<br>";
										}
								}
							}
							return output_writer +"<br>";
						},
					
					"span.actors": function(arg) {
							var output_actors = "<text>" + window.localStorage.getItem('actor_label').toUpperCase() + "</text>";
							if (arg.context.results) {
								var total_actors = arg.context.results;
								var actors_count = 0; 
								for (k = 0; k < total_actors.length ; k++) 
								{
									if (total_actors[k].job == "ACTOR")
										{
											actors_count = (actors_count + 1);
											console.log (total_actors[k].job + " name:" + total_actors[k].name);
											output_actors += "<a title=\" "+ window.localStorage.getItem("click_to_display_with")+ " " + window.localStorage.getItem("actor_label") + ": " + total_actors[k].name + "\" href=\"#\" onclick=\"open_person_popup('" 
											+ total_actors[k].id + "', 'close')\" class=\"actors\">"
											+ total_actors[k].name + ", " + "</a>";
											if (actors_count == 4) {return output_actors;}
										}
								}
							}
							return output_actors;
						}
					};
				
			

 
	
				
				

// ***************************************************** GET DATA section ******************************************************	
				
            function getData()
            {	
				// fill all value according to language setting - from yamjv3_lang_{lang}.xml
				get_lang();
				get_style();
				get_player();
		//		get_alpha_list (); 
				// construct JSON request for detail movie/series/season 
				jsonUrl = "/yamj3/api/video/" 
				+ index_type.toLowerCase() + "/" 
		//		+ current_id + ".json?dataitems=status,trailer,externalid,genre,artwork,plot,country,award,files,certification,studio,rating&jobs=actor-5,director-1,writer-1";
				+ current_id + ".json?dataitems=status,trailer,externalid,genre,artwork,plot,country,award,files,certification,studio,rating";
				
				console.log("getData URL: " + jsonUrl);
		
					
        // main API call         
                $.ajax({
                    url: jsonUrl,
                    async: false,
                    dataType: 'jsonp',
                    'success': function(data)
                    {
                        jsondata = data;
					//	 outputJson(data); 
				 	
					$p('.header_detail').render(data, DETAIL_HEADER);
					 
					$p('.template').render(data, YAMJ_DIR); 
					
					$p('.mediainfo').render(data, MEDIA_INFO); 
					
					$p('.edit_adjust').render(data, POSTER_INFO); 
					
					$p('.trailer_list').render(data, TRAILER_INFO); 
					
				//	$p('.cast_list').render(data, CAST_INFO);
				
						// add slideshow for fanart
						slideshowFanart();
						// slideshow for poster
						slideshow();
						// display fanart
						display_all ();	
						// add external id 
						//	get_externalId ();
						
						switch (index_type.toLowerCase()) 
							{
							case 'movie':
									perform_cast ();					
									break;
							case 'series':
									slideshowBanner ();
									perform_season ();
									perform_cast ();
									break;
							case 'season':
									slideshowBanner ();
									perform_episode ();
									perform_cast ();
									break;
							}		
						
				}
                });
        

            }

  //************************ LANGUAGE LOCAL SETTING *********************************************			
		// store all value according to language setting - from yamjv3_lang_{lang}.xml - local setting
		function set_context_lang_value ()
		{

			document.getElementById("fanartshow_icon").innerHTML=window.localStorage.getItem('fanart_show').toUpperCase();
			document.getElementById("editshow_icon").innerHTML='EDIT';
			document.getElementById("personshow_icon").innerHTML=window.localStorage.getItem('person_show').toUpperCase();
			document.getElementById("mediainfoshow_icon").innerHTML="MEDIAINFO";
			document.getElementById("deleteshow_icon").innerHTML=window.localStorage.getItem('delete_text').toUpperCase();
		//	document.getElementById("updateshow_icon").innerHTML=window.localStorage.getItem('update_label').toUpperCase() + " STAGEFILE";
			document.getElementById("updatepostershow_icon").innerHTML=window.localStorage.getItem('update_label').toUpperCase() + " ARTWORK";
			document.getElementById("updateinfoshow_icon").innerHTML=window.localStorage.getItem('update_label').toUpperCase() + " MEDIAINFO";
			switch (index_type.toLowerCase()) 
							{
							case 'movie':
								document.getElementById("movieshow_icon").innerHTML=window.localStorage.getItem('movie_select').toUpperCase();
								document.getElementById("updateshow_icon").innerHTML=window.localStorage.getItem('update_label').toUpperCase() 
								+ " " + window.localStorage.getItem('movie_label').toUpperCase();
									break;
							case 'series':
									document.getElementById("movieshow_icon").innerHTML=window.localStorage.getItem('series_select').toUpperCase();
									document.getElementById("updateshow_icon").innerHTML=window.localStorage.getItem('update_label').toUpperCase() 
									+ " " +  window.localStorage.getItem('series_label').toUpperCase();
									break;
							case 'season':
									document.getElementById("movieshow_icon").innerHTML=window.localStorage.getItem('season_select').toUpperCase();
									document.getElementById("updateshow_icon").innerHTML=window.localStorage.getItem('update_label').toUpperCase() 
									+ " " +  window.localStorage.getItem('season_label').toUpperCase();
									break;
							}		
		//	document.getElementById("seasonlabel").innerHTML=window.localStorage.getItem('season_label');
			document.getElementById("movieselect").innerHTML=window.localStorage.getItem('movie_select').toUpperCase();
			document.getElementById("serieselect").innerHTML=window.localStorage.getItem('series_select').toUpperCase();
			document.getElementById("allselect").innerHTML=window.localStorage.getItem('all_select').toUpperCase();
			document.getElementById("seasonselect").innerHTML=window.localStorage.getItem('season_select').toUpperCase();
			document.getElementById("titleindex").innerHTML=window.localStorage.getItem('title_label').toUpperCase();
			document.getElementById("search_icon").innerHTML=window.localStorage.getItem('search_select').toUpperCase();
			document.getElementById("genreindex").innerHTML=window.localStorage.getItem('genre_select').toUpperCase();
			document.getElementById("certificationindex").innerHTML=window.localStorage.getItem('certification_label').toUpperCase();
			document.getElementById("studioindex").innerHTML=window.localStorage.getItem('studio_select').toUpperCase();
			document.getElementById("personindex").innerHTML=window.localStorage.getItem('person_select').toUpperCase();
			document.getElementById("searchindex").innerHTML=window.localStorage.getItem('search_select').toUpperCase();
			document.getElementById("configindex").innerHTML=window.localStorage.getItem('config_select').toUpperCase();
			document.getElementById("remoteselect").innerHTML=window.localStorage.getItem('remote_label').toUpperCase();	
			document.getElementById("yamj3select").innerHTML="YAMJ3";
			document.getElementById("genrelistselect").innerHTML=window.localStorage.getItem('genrelist_select').toUpperCase();
			document.getElementById("certificationindex").innerHTML=window.localStorage.getItem('certification_label').toUpperCase();
			document.getElementById("ratingindex").innerHTML=window.localStorage.getItem('rating_label').toUpperCase();
			document.getElementById("videosourceindex").innerHTML=window.localStorage.getItem('source_label').toUpperCase();
			document.getElementById("boxsetindex").innerHTML=window.localStorage.getItem('boxset_label').toUpperCase(); 
			document.getElementById("countryindex").innerHTML=window.localStorage.getItem('country_label').toUpperCase();
			document.getElementById("awardsindex").innerHTML=window.localStorage.getItem('awards_label').toUpperCase();
			document.getElementById("clickremovebanner").innerHTML=window.localStorage.getItem('remove_banner_text').toUpperCase();
			document.getElementById("clickremovefanart").innerHTML=window.localStorage.getItem('remove_fanart_text').toUpperCase();
			document.getElementById("clickremoveposter").innerHTML=window.localStorage.getItem('remove_poster_text').toUpperCase();
			document.getElementById("clickremovevideoimage").innerHTML=window.localStorage.getItem('remove_videoimage_text').toUpperCase();
			document.getElementById("sourcelabel").innerHTML=window.localStorage.getItem('source_label').toLowerCase();
			document.getElementById("updatelabel").innerHTML=window.localStorage.getItem('update_label').toLowerCase();
			document.getElementById("all_person").title=localStorage.getItem('list_text').toLowerCase() + " " + localStorage.getItem('person_label').toLowerCase();
			document.getElementById("open_menu_left").title=localStorage.getItem('open_navigation_menu').toLowerCase();
			document.getElementById("close_menu_left").title=localStorage.getItem('close_navigation_menu').toLowerCase();
			switch (window.localStorage.getItem('prefered_page').toLowerCase())
			{
				case 'certification':
				{
					document.getElementById("li_home_left").attributes.getNamedItem("data-tip-detail_home").value=window.localStorage.getItem('prefered_comment').toLowerCase() + ": " 
					+ window.localStorage.getItem('certification_label').toLowerCase();
				break;
				}
				case 'index_all':
				{
					document.getElementById("li_home_left").attributes.getNamedItem("data-tip-detail_home").value=window.localStorage.getItem('prefered_comment').toLowerCase() 
					+ ": " + window.localStorage.getItem('all_label').toLowerCase();
				break;
				}
				case 'index_movie':
				{
					document.getElementById("li_home_left").attributes.getNamedItem("data-tip-detail_home").value=window.localStorage.getItem('prefered_comment').toLowerCase() 
					+ ": " + window.localStorage.getItem('movie_label').toLowerCase();
				break;
				}
				case 'index_series':
				{
					document.getElementById("li_home_left").attributes.getNamedItem("data-tip-detail_home").value=window.localStorage.getItem('prefered_comment').toLowerCase()
					+ ": " + window.localStorage.getItem('series_label').toLowerCase();
				break;
				}
				case 'new':
				{
					document.getElementById("li_home_left").attributes.getNamedItem("data-tip-detail_home").value=window.localStorage.getItem('prefered_comment').toLowerCase()
					+ ": " + window.localStorage.getItem('new_').toLowerCase();
				break;
				}
				case 'person':
				{
					document.getElementById("li_home_left").attributes.getNamedItem("data-tip-detail_home").value=window.localStorage.getItem('prefered_comment').toLowerCase()
					+ ": " + window.localStorage.getItem('person_label').toLowerCase();
				break;
				}
				case 'rating':
				{
					document.getElementById("li_home_left").attributes.getNamedItem("data-tip-detail_home").value=window.localStorage.getItem('prefered_comment').toLowerCase() 
					+ ": " + window.localStorage.getItem('rating_label').toLowerCase();
				break;
				}
				case 'source':
				{
					document.getElementById("li_home_left").attributes.getNamedItem("data-tip-detail_home").value=window.localStorage.getItem('prefered_comment').toLowerCase() 
					+ ": " + window.localStorage.getItem('source_label').toLowerCase();
				break;
				}
			}
			
			document.getElementById("play_button").attributes.getNamedItem("data-tip-detail_play").value=window.localStorage.getItem('play_label').toLowerCase();
			document.getElementById("add_poster_submit").attributes.getNamedItem("value").value=window.localStorage.getItem('add_text').toLowerCase();
			document.getElementById("add_fanart_submit").attributes.getNamedItem("value").value=window.localStorage.getItem('add_text').toLowerCase();
			document.getElementById("add_banner_submit").attributes.getNamedItem("value").value=window.localStorage.getItem('add_text').toLowerCase();
			document.getElementById("add_videoimage_submit").attributes.getNamedItem("value").value=window.localStorage.getItem('add_text').toLowerCase();
			document.getElementById("add_poster_show_icon").innerHTML=window.localStorage.getItem('add_poster_text');
			document.getElementById("add_fanart_show_icon").innerHTML=window.localStorage.getItem('add_fanart_text');
			document.getElementById("add_banner_show_icon").innerHTML=window.localStorage.getItem('add_banner_text');
			document.getElementById("add_videoimage_show_icon").innerHTML=window.localStorage.getItem('add_videoimage_text');
			document.getElementById("put_submit").value=localStorage.getItem('modify_text').toLowerCase();
			document.getElementById("overwrite_field_title").innerHTML=localStorage.getItem('title_label').toLowerCase();
			document.getElementById("overwrite_field_plot").innerHTML=localStorage.getItem('plot_label').toLowerCase();
			document.getElementById("overwrite_field_year").innerHTML=localStorage.getItem('year_label').toLowerCase();
			document.getElementById("overwrite_field_outline").innerHTML="outline";
			document.getElementById("overwrite_field_tagline").innerHTML="tagline";
			document.getElementById("overwrite_field_releaseDate").innerHTML="releaseDate";
			document.getElementById("overwrite_field_titleOriginal").innerHTML="titleOriginal";
			document.getElementById("overwrite_field_topRank").innerHTML="topRank";
			document.getElementById("libraryindex").innerHTML=window.localStorage.getItem('library_select').toUpperCase();
		}
		
  // ********************* NOW SET VARIOUS FUNCTION **********************************************  
 
		// call JSON value for CAST
		function perform_cast()
		{
		jsonCastUrl = "/yamj3/api/person/movie.json?id="+current_id+"&job=actor,director,writer";
		console.log("perform_cast URL: " + jsonCastUrl);
					$.ajax({
                   url: jsonCastUrl,
                    async: false,
                    dataType: 'jsonp',
                    'success': function(dataCast)
                   {
						jsondata = dataCast;
					//	outputJson(dataSeason);
					$p('.cast_list').render(dataCast, CAST_INFO);
					}
                });
		}
	// call the JSON value of season  	
		function perform_season()
		{
		jsonSeasonUrl = "/yamj3/api/video/seriesinfo.json?id="+series_id+"&dataitems=artwork&artwork=poster";
		// jsonSeasonUrl = "/yamj3/api/index/video.json?type=season&sortby=season&sortdir=ASC&field=series_id&search="+series_id+"&artwork=poster&dataitems=plot,files,rating";
		console.log("perform_season URL: " + jsonSeasonUrl);
					$.ajax({
                   url: jsonSeasonUrl,
                    async: false,
                    dataType: 'jsonp',
                    'success': function(dataSeason)
                   {
						jsondata = dataSeason;
					//	outputJson(dataSeason);
						updateSeason(dataSeason);
						set_seasoncount (localStorage.getItem("season_count"));
						display_Id ("seasontable");
					}
                });
		}
	// map season value 	
	
	function updateSeason(dataSeason)
		{
		var SEASON = {
                    "td": {
                        'season<-results': {
							"span.Season": function(arg) {
							output_season = '';
							localStorage.setItem("season_count", arg.item.seasonList.length + 1);
							 for (i = 0; i < arg.item.seasonList.length; i++)
								{
									var season_item = arg.item.seasonList[i];
								//	console.log ('season['+ i +'].Id:' + season_item.seasonId + " arg.item.seasonList.length " + arg.item.seasonList.length);
									
									output_season += "<td class=season><a href=\"#\" style=\"color: white;\" onclick=\" goto_SeasonId('season', " 
									+ season_item.seasonId + ")\">"									
									output_season += "<span class=SeasonTitle>" + season_item.title + "</span></br>"
									output_season += "<span class=SeasonNb>" + localStorage.getItem('season_label') + ":" 
									+ season_item.season + "</span>"
									output_season += "<span class=SeasonYear> (" + season_item.year + ")</span></br>"
									output_season += "<span class=SeasonId> (Id:" + season_item.seasonId + ")</span></br>"
									
									output_season += "<span class=SeasonPoster>"
										 // Check to see if there are posters
										if (season_item.artwork.POSTER) {
										   // Get the first poster from the list
											var poster = season_item.artwork.POSTER[0];
											if (poster.generatedId === 0) {output_season += "No Poster<br>was generated";}
											else {
													output_season += "<span class=SeasonPoster>"
													output_season += "<a href=\"#\" onclick=\" goto_SeasonId('" + poster.source.toLowerCase()
													+ "', " + season_item.seasonId + ")\">"
													output_season += "<img src=\"" + arg.context.baseArtworkUrl + poster.filename + "\" height=\"100\"></a>";
												}
										} else { output_season +=  noposter_text;}
										output_season += "</span></td>"
								}
								return output_season;
							}
						}
					}
				}; // end SEASON

//				updateItemCount (season_count, "Season");
				$p('.seasontable').render(dataSeason, SEASON);

}

	
	// call the JSON value for episode 			
		function perform_episode()
		{
		jsonEpisodeUrl = "/yamj3/api/video/episodes.json?&seriesid="+series_id+"&seasonid="+current_id+"&dataitems=plot,files,rating";
	//	jsonEpisodeUrl = "/yamj3/api/video/episodes.json?&seriesid="+series_id+"&seasonid="+current_id+"&dataitems=plot";
		console.log("perform_episode URL: " + jsonEpisodeUrl);
					$.ajax({
                   url: jsonEpisodeUrl,
                    async: false,
                    dataType: 'jsonp',
                    'success': function(dataEpisode)
                   {
						jsondata = dataEpisode;
					//	outputJson(dataEpisode);
						displayEpisode(dataEpisode);
						displayVideoimage(dataEpisode);
						$('.episode_detail').css('visibility', 'visible');
						display_Id ("list_episode_title");
						$('.videoimage_list').css('visibility', 'hidden');
						$('.icon_videoimage').css('visibility', 'hidden');
						nodisplay_Id ("videoimage_list");
					}
                });
		}
	// map episode value 
	function displayEpisode(dataEpisode)
        {
			var LIST_videoimage = {
					"span.listepisode_title": function(arg) 
						{
							var totalepisode_title = arg.context.results;
							var outputepisode_title = "";
							var prev_episode_id = "";
							var prev_episode_season_id = "";
							var prev_episode_number = "";
							for (i = 0; i < totalepisode_title.length; i++) 
							{
								if (totalepisode_title[i].files[0].id == prev_episode_id && totalepisode_title[i].files[0].season == prev_episode_season_id && totalepisode_title[i].files[0].episode == prev_episode_number)
									{console.log ('skip same episode:' + totalepisode_title[i].files[0].fileName + " id:" + totalepisode_title[i].files[0].id);}
								else {
								prev_episode_id = totalepisode_title[i].files[0].id;
								prev_episode_season_id = totalepisode_title[i].files[0].season;
								prev_episode_number = totalepisode_title[i].files[0].episode;
								if (i == 0)
								{
									preset_episode_to_play(encodeURIComponent(totalepisode_title[i].files[0].fileName),totalepisode_title[i].files[0].id); 
									set_current_episode(totalepisode_title[i].id);
								}
							
						//	console.log("detail listepisode_title preset_episode_to_play: " +totalepisode_title[i].files[0].fileName); 
							for (j = 0; j < totalepisode_title[i].files.length; j++) 	
								{
						// construct an activ episode list, click on an episode will display title, videoimage, plot and prepare the filepath to play 		
									outputepisode_title +=	" <a href=\"#\" " 
									if (totalepisode_title[i].watched) 
									{outputepisode_title +=	" style=\"background: green;\" "}
										outputepisode_title +=	" onclick=\"ferme_popup_mediainfo ();" 
										if (totalepisode_title[i].files[j].subtitles)
										{
											
											for (k = 0; k < totalepisode_title[i].files[j].subtitles.length; k++)
											{
												outputepisode_title +=	"show_subtitles (\'" 
												+ totalepisode_title[i].files[j].subtitles[k].languageCode.toLowerCase() +"', " + k + ");"
											}
										}
										else {
												outputepisode_title += "show_subtitles ('none', " + j + " );"
											}
										if (totalepisode_title[i].files[j].audioCodecs)
										{
											
											for (k = 0; k < totalepisode_title[i].files[j].audioCodecs.length; k++)
											{
												outputepisode_title +=	"show_audiocodec (\'" 
												+ totalepisode_title[i].files[j].audioCodecs[k].languageCode.toLowerCase() +"', " + k + ");"
											}
										}
										else {
												outputepisode_title += "show_audiocodec ('none', " + j + " );"
											}
										outputepisode_title +=	" display_Episode_videoimage ('videoimage"+[i]
										+"','episodeplot" + [i] + "','episodetitle" + [i] + "'," + totalepisode_title.length + ");"
										outputepisode_title +=	" preset_episode_to_play('" + encodeURIComponent(totalepisode_title[i].files[j].fileName) 
										+ "', " + totalepisode_title[i].files[j].id + ");"
										outputepisode_title +=	" set_current_episode('"  + totalepisode_title[i].id + "')"
										outputepisode_title +=	" \" >"
										outputepisode_title +=	totalepisode_title[i].episode + " - " + totalepisode_title[i].title 
										outputepisode_title +=	"</a>"
										outputepisode_title +=	"<img id=img_play_episode src=\"pictures/remote_play.png\""
										outputepisode_title +=	" onclick=\"episode_to_play('"
										outputepisode_title +=	encodeURIComponent(totalepisode_title[i].files[j].fileName)
										outputepisode_title +=	" ', "
										outputepisode_title +=	totalepisode_title[i].files[j].episode
										outputepisode_title +=	" )\"></img><br>";
								}
								
							}
							}
							return outputepisode_title;
						},
					'span.onlyepisode_title': function(arg) 
						{
						var totalepisode_onlytitle = arg.context.results;
						var outputepisode_onlytitle = "";
							for (i = 0; i < totalepisode_onlytitle.length; i++) 
							{
								if (totalepisode_onlytitle[i].title) // test if the title is available 
								{
								// set a class and id for each title, this allow to select the right one on click 
									outputepisode_onlytitle +="<td id=\"episodetitle"+i
									+ "\" class=\"episodetitle"+i+"\">"+totalepisode_onlytitle[i].episode+". "+totalepisode_onlytitle[i].title+"</td>";	
								} else {
								// if there is no title just disable the display 
									outputepisode_onlytitle +="<td id=\"episodetitle"+i+"\" class=\"episodetitle"+i+"\" style=\"display: none; \"></td>";	
									}
							}
							return outputepisode_onlytitle;
						}, 		
             		'span.totalvideoimage': function(arg) 
						{
						var totalvideoimage = arg.context.results;
						var outputvideoimage = "";
							for (i = 0; i < totalvideoimage.length; i++) 
							{
								if (totalvideoimage[i].videoimage) // test if there is a videoimage available 
								{
								// set a class and id for each videoimage, this allow to select the right one on click 
									outputvideoimage +="<img id=\"videoimage"+i+"\" class=\"videoimage"+i
									+ "\" src=\"" + arg.context.baseArtworkUrl + totalvideoimage[i].videoimage + "\" ></img>";	
								} else {
								// display dummy videoimage if not available 
									outputvideoimage +="<img class=\"videoimage"+i+"\" src=\"pictures/dummy_videoimage.jpg\" ></img>";
								}
							}
							return outputvideoimage;
						}, 
					'span.listepisode_plot': function(arg) 
						{
						var totalplot = arg.context.results;
						var outputplot = "";
							for (i = 0; i < totalplot.length; i++) 
							{
								if (totalplot[i].plot)   // test if there is plot
								{
									outputplot +="<td id=\"episodeplot"+i+"\" class=\"episodeplot"+i+"\">"+totalplot[i].plot+"</td>";
								} else {
									// if there is no plot just disable the display box
									outputplot +="<td id=\"episodeplot"+i+"\" class=\"episodeplot"+i+"\" style=\"display: none; \"></td>";	
									}
							}
					
							return outputplot;
						}
					
					};	
			updateItemCount (dataEpisode, "Episode");          
			$p('.table_videoimage').render(dataEpisode, LIST_videoimage);			
        }	
	// map videoimage for update  
	function displayVideoimage(dataEpisode)
        {
			var EDIT_videoimage = {
					
				
             		'span.editvideoimage': function(arg) 
						{
						var editvideoimage = arg.context.results;
						var outputvideoimage = "";
							for (i = 0; i < editvideoimage.length; i++) 
							{
								if (editvideoimage[i].videoimage) // test if there is a videoimage available 
								{
								// set a class and id for each videoimage, this allow to select the right one on click 
									outputvideoimage += "<img id='videoimage_list' class='videoimage_list'"
									+ " src='" + arg.context.baseArtworkUrl + editvideoimage[i].videoimage + "' "
									+ " onclick=\"ouvre_popup_ignore('videoimage', "  + editvideoimage[i].locatedId + ")\"></img>";	
								} else {
								// display dummy videoimage if not available 
									outputvideoimage +="<img class='videoimage_list' src='pictures/dummy_videoimage.jpg' ></img>";
								}
							}
							return outputvideoimage;
						}
					};
					

			// updateItemCount (dataEpisode, "Episode");          
			$p('.videoimage_list').render(dataEpisode, EDIT_videoimage);			
        }
	    function show_subtitles (language_code, i)
		
		{
			if (language_code == 'none')
			{document.getElementById("episode_subtitles").style.visibility = "hidden";}
			else {
			if (i == 0) {document.getElementById("episode_subtitles").innerHTML = '';}
			document.getElementById("episode_subtitles").innerHTML += "<text>"+window.localStorage.getItem('subtitle_label').toUpperCase()+(i+1)
			+ "</text>" + "<img src=\"pictures/flags/" + language_code.toLowerCase() 
			+ ".png\" alt=\"" + language_code + "\" style=\" height:20px; position:relative; bottom:-3px;\" />&nbsp; ";
			document.getElementById("episode_subtitles").style.visibility = "visible";}
		}
		
		function show_audiocodec (language_code, i)
		
		{
			if (language_code == 'none')
			{document.getElementById("episode_audiocodec").style.visibility = "hidden";}
			else {
			if (i == 0) {document.getElementById("episode_audiocodec").innerHTML = '';}
			document.getElementById("episode_audiocodec").innerHTML += "<text>"+window.localStorage.getItem('audio_label').toUpperCase()+(i+1)
			+ "</text>" + "<img src=\"pictures/flags/" + language_code.toLowerCase()
			+ ".png\" alt=\"" + language_code + "\" style=\" height:20px; position:relative; bottom:-3px;\" />&nbsp; ";
			document.getElementById("episode_audiocodec").style.visibility = "visible";}
		}
	// generic function to get count and call the real treatment 	
		function updateItemCount(data, type_to_update)
        {
			var ITEM_COUNT = {
               'span.itemcount': function(arg) {
			   switch(type_to_update)
				{
					case 'Season':
						set_seasoncount (arg.context.count);
						break;
					case 'Episode':
						set_episodecount (arg.context.count);
						break;
				}
			   return arg.context.count;
			   }
            };

           $p('.counttest').render(data, ITEM_COUNT);
        }
		

	// set a new id in the last sequence
		function set_onlyId(Newid)
				{     
				current_id = Newid;
				localStorage.setItem("id", current_id);
				console.log("set_onlyId Storing value: " + index_type + "-" + current_id);
				window.location.href="detail.html";
				}	
	// prepare to change to the season select by onclick	
		function goto_SeasonId(index_type, SeasonId)
			{
				localStorage.setItem("indextype", index_type);
				localStorage.setItem("id", SeasonId);
				console.log("goto_SeasonId Storing value: " + index_type + "-" + SeasonId);
				window.location.href="detail.html";
			}
			
	// store the series Id for future use
		function store_SeriesId (Series_Id)
				{
				series_id = Series_Id;
				localStorage.setItem("SeriesId", Series_Id);
				console.log("store_SeriesId Storing Series Id value: " + Series_Id);
				store_series_externalID (Series_Id);
				}
	// store for the series Id selected the exernal id corresponding
		function store_series_externalID (Series_Id)
				{
				
				console.log("store_series_externalID Storing externalId for Series Id value: " + Series_Id);
				jsonUrlseriesExternalId = "/yamj3/api/video/series/" + Series_Id + ".json?dataitems=externalid";
				console.log("jsonUrlseriesExternalId jsonUrlUpdateExternalId: " + jsonUrlseriesExternalId);
				
					var SERIES_EXTERNALID = {
					   'span.series_externalid': function(arg) {
							 var external_list = arg.context.result; 
							 if (external_list.externalIds)
							 {
								for (var i = 0; i < external_list.externalIds.length; i++) 
									{localStorage.setItem("Series_externalid_" + external_list.externalIds[i].sourcedb, external_list.externalIds[i].externalId);}
								
							}
							return;
						}
					}
    //  series externalId store API call         
					$.ajax({
						url: jsonUrlseriesExternalId,
						async: false,
						dataType: 'jsonp',
						'success': function(data)
						{
							jsondata = data;
						//	 outputJson(data); 
						$p('.test_external').render(data, SERIES_EXTERNALID); 
						}
					});
				}	
	// on click on episode list, display dynamicaly episode videoimage, plot, title 			
		function display_Episode_videoimage(videoId_to_display, plotId_to_display, titleId_to_display, max_videoimage_to_hidden)
					{
						console.log("display_episode_videoimage:" +videoId_to_display+", "+plotId_to_display+", "
						+ titleId_to_display+", "+max_videoimage_to_hidden);
						// just reset what is on the screen before the right display 
						if (document.getElementById(current_episode_videoimage))
							{document.getElementById(current_episode_videoimage).style.visibility="hidden";}
						document.getElementById(current_episode_plot).style.visibility="hidden";
						document.getElementById(current_episode_title).style.visibility="hidden";
						// now the screen is clean , display what is asked 
						if (document.getElementById(videoId_to_display))
							{document.getElementById(videoId_to_display).style.visibility="visible";}
						document.getElementById(plotId_to_display).style.visibility="visible";
						document.getElementById(titleId_to_display).style.visibility="visible";
						// store the current value 
						current_episode_videoimage = videoId_to_display;
						current_episode_plot = plotId_to_display;
						current_episode_title = titleId_to_display;
						//current_target_path = episode_title;
					}
	
	
	// on - off fanart button 
		function toggle_fanart()
					{			
						if (fanart_toggle == 0)
						{ 
							fanart_toggle = 1;
							display_only_fanart ();
							$('#fanartshow').css('color', 'red');
						} else {
							fanart_toggle =  0;
							display_all ();
							$('#fanartshow').css('color', 'white');
						}
					}

				function toggle_menuright()
					{	
						
						if (menuright_toggle == 0)
						{ 
							menuright_toggle = 1;
							
							$('#li_fanart').css('visibility', 'visible');
							$('#li_person').css('visibility', 'visible');
							$('#li_person_ribbon').css('visibility', 'visible');
							$('#li_movie').css('visibility', 'visible');
							$('#li_search').css('visibility', 'visible');
							$('#li_selection').css('visibility', 'visible');
							$('#li_language').css('visibility', 'visible');	
							$('#selection_id').css('visibility', 'visible');	
							$('#detail_lang_id').css('visibility', 'visible');	
							
						} else {
							menuright_toggle =  0;
							
							$('#li_fanart').css('visibility', 'hidden');
							$('#li_person').css('visibility', 'hidden');
							$('#li_person_ribbon').css('visibility', 'hidden');
							$('#li_movie').css('visibility', 'hidden');
							$('#li_search').css('visibility', 'hidden');
							$('#li_selection').css('visibility', 'hidden');
							$('#li_language').css('visibility', 'hidden');	
							$('#selection_id').css('visibility', 'hidden');	
							$('#detail_lang_id').css('visibility', 'hidden');	
							
						}
					}
	// click on fanart only , display fanart and nothing else 
		function display_only_fanart ()
			{
				$('.plot1').css('visibility', 'hidden');
				$('.genres').css('visibility', 'hidden');
				$('.certifications').css('visibility', 'hidden');
				$('.seasontable').css('visibility', 'hidden');
				$('.mediainfo').css('visibility', 'hidden');
				$('.edit_adjust').css('visibility', 'hidden');
				$('.videoimage_list').css('visibility', 'hidden');
				$('.icon_videoimage').css('visibility', 'hidden');
				$('.moviedetail').css('visibility', 'hidden');
				$('div#slideshowBanner').css('visibility', 'hidden');
				$('div#slideshowCtr').css('visibility', 'hidden');
				$('.'+current_episode_plot).css('visibility', 'hidden');
				$('.'+current_episode_videoimage).css('visibility', 'hidden');
				$('.'+current_episode_title).css('visibility', 'hidden');
				$('#list_episode_title').css('visibility', 'hidden');
				$('.episode_detail').css('visibility', 'hidden');
				$('div#slideshowFanart').css('opacity', '1');
				$('.play_detail').css('visibility', 'hidden');
				$('.detail_label').css('visibility', 'hidden');
				$('.actors').css('visibility', 'hidden');
				$('.director').css('visibility', 'hidden');
				$('.writer').css('visibility', 'hidden');
			
			}
	// click again on fanart only redisplay the page with all the info 		
		function display_all ()
			{
				$('.plot1').css('visibility', 'visible');
				$('.genres').css('visibility', 'visible');
				$('.certifications').css('visibility', 'visible');
				$('.mediainfo').css('visibility', 'hidden');
				$('.edit_adjust').css('visibility', 'hidden');
				$('.videoimage_list').css('visibility', 'hidden');
				$('.icon_videoimage').css('visibility', 'hidden');
				$('div#slideshowCtr ').css('visibility', 'visible');
				$('div#slideshowFanart').css('opacity', '0.7');
				$('.play_detail').css('visibility', 'visible');
				$('.moviedetail').css('visibility', 'visible');
				$('.detail_label').css('visibility', 'visible');
				$('.actors').css('visibility', 'visible');
				$('.director').css('visibility', 'visible');
				$('.writer').css('visibility', 'visible');
				
				switch (index_type.toLowerCase())
					{
					case 'season':
						$('div#slideshowBanner').css('visibility', 'visible');
						$('.'+current_episode_plot).css('visibility', 'visible');
						$('.'+current_episode_videoimage).css('visibility', 'visible');
						$('.'+current_episode_title).css('visibility', 'visible');
						$('.episode_detail').css('visibility', 'visible');
						$('.episode_detail').css('zIndex', '9');
						$('#list_episode_title').css('visibility', 'visible');
						$('.moviedetail').css('top', '122px');
						$('.moviedetail').css('left', '18vw');
						$('.plot1').css('left', '0px');
					//	$('.plot1').css('max-width', '1280px');
						$('.genres').css('left', '0px');
						$('.genres').css('max-width', '100vw');
						$('.certifications').css('left', '0px');
						$('.certifications').css('max-width', '1280px');
						$('.filepath').css('max-width', '560px');
						$('div#slideshowCtr').css('bottom', 'inherit');
						$('div#slideshowCtr').css('top', '50px');
						$('div#slideshowBanner').css('width', '18vw');
						$('div#slideshowBanner').css('height', '3vw');
						$('a#next').css('top', '200px');
						$('a#prev').css('top', '200px');
						$('.play_detail').mouseover(function() {
							$('.play_detail').attr('src', './pictures/tvshow-on.png');
							});
						$('.play_detail').mouseout(function() {
							$('.play_detail').attr('src', './pictures/tvshow-off.png');
							});
						$('.mediainfo').css('left', '250px');
						$('.mediainfo').css('top', '52px');
						$('.mediainfo').css('width', '81%');
						$('.mediainfo').css('bottom', 'auto');
						$('.mediainfo').css('background-color', 'rgba(0, 0, 0, 0.9)');
						$('.mediainfo').css('z-index', '12');
					//	$('#li_mediainfo_icon').css('visibility', 'hidden');
					//	$('#li_poster_icon').css('left', '28px');
						$('.edit_adjust').css('left', '18vw');
						$('.edit_adjust').css('top', '50px');
						$('.edit_adjust').css('width', '81.5vw');
						$('.play_detail').css('display', 'none');
						$('#person_display').css('top', '52px');
						$('#infobox').css('top', '95vh');
						$('#infobox').css('left', '5px');
						
						break;
					case 'movie':
						$('.moviedetail').css('font-size', '1.15vw');
						$('.moviedetail').css('right', '0.1vw');
						$('.moviedetail').css('max-width', '81.5vw');
						$('.moviedetail').css('width', 'auto');
						$('.plot1').css('max-height', '15vw');
						$('.plot1').css('max-width', 'inherit');
						$('.play_detail').mouseover(function() {
							$('.play_detail').attr('src', './pictures/movie-logo-on.png');
							});
						$('.play_detail').mouseout(function() {
							$('.play_detail').attr('src', './pictures/movie-logo.png');
							});
						$('#infobox').css('top', '55px');
						$('#infobox').css('left', '5px');
						$('.mediainfo').css('left', '19vw');
						$('.mediainfo').css('bottom', '1vw');
						$('.mediainfo').css('width', '80vw');
						$('.edit_adjust').css('left', '19vw');
						$('.edit_adjust').css('bottom', '1vw');
						$('.edit_adjust').css('width', '80vw');
						$('.edit_adjust').css('top', 'inherit');
						$('.episode_detail').css('zIndex', '1');
						$('.videoimage_list').css('visibility', 'hidden');
						$('.icon_videoimage').css('visibility', 'hidden');
						// nothing special 
						break;
					case 'series':
						$('.moviedetail').css('font-size', '1.20vw');
						$('.moviedetail').css('left', '4px');
						$('.moviedetail').css('width', '99.5vw');
						$('.moviedetail').css('max-width', '99.5vw');
						$('.plot1').css('left', '0px');
						$('.plot1').css('max-width', '100vw');
						$('.genres').css('left', '0px');
						$('.genres').css('max-width', '100vw');
						$('.certifications').css('left', '0px');
						$('.certifications').css('max-width', '1280px');
						$('.filepath').css('max-width', '560px');
						$('div#slideshowBanner').css('visibility', 'visible');
						$('div#slideshowBanner').css('width', '18vw');
						$('div#slideshowBanner').css('height', '3vw');
						$('.mediainfo').css('visibility', 'hidden');
						$('.edit_adjust').css('visibility', 'hidden');
						$('.videoimage_list').css('visibility', 'hidden');
						$('.icon_videoimage').css('visibility', 'hidden');
						$('div#slideshowCtr').css('bottom', 'inherit');
						$('div#slideshowCtr').css('top', '50px');
						$('.seasontable').css('visibility', 'visible');
						$('a#next').css('top', '200px');
						$('a#prev').css('top', '200px');
						$('.play_detail').mouseover(function() {
							$('.play_detail').attr('src', './pictures/tvshow-on.png');
							});
						$('.play_detail').mouseout(function() {
							$('.play_detail').attr('src', './pictures/tvshow-off.png');
							});
						$('.mediainfo').css('left', '28vh');
						$('.mediainfo').css('top', '52px');
						$('.mediainfo').css('width', '81%');
						$('.mediainfo').css('bottom', 'auto');
						$('.edit_adjust').css('left', '18vw');
						$('.edit_adjust').css('top', '50px');
						$('.edit_adjust').css('width', '81.5vw');
						$('.episode_detail').css('zIndex', '9');
						$('.play_detail').css('display', 'none');
						$('#person_display').css('top', '52px');
						
						break;
					}
			}
	
	// adjust episode scroll bar 
	function set_episodecount(count_to_set)
					{
						if (count_to_set < 1)  // if no episode disable display 
						{
						nodisplay_Id('list_episode_title');
						nodisplay_Id('tablevideoimage');
						nodisplay_Id('listepisode_plot');
						} 
					}

	// adjust season scroll bar 
	function set_seasoncount(count_to_set)
					{
						
						if (count_to_set)
						{
					//		console.log ("count_to_set: " + count_to_set);
							if (count_to_set < 1)
							{
							nodisplay_Id('seasontable');
							} else {
							if (count_to_set < 8)
								{
								padding_season += (7 - count_to_set)*100;
								$('.seasontable').css('padding-left', padding_season+'px');
					//			console.log ("padding_season: " + padding_season);
								}
							}	
						} else {
						$('.seasontable').css('visibility', 'hidden');
						}
					}
	// open a new vertical window for index list 				
	function ouvre_popup_index(page, direction, current_type, letter_selection) 
		{
			localStorage.setItem("selection", letter_selection);
			localStorage.setItem("direction", direction);
			localStorage.setItem("indextype", current_type);
			window.localStorage.setItem("search_index", letter_selection);	
			switch (StyleValue)
					{
					case 'frame':
						{
							if (Movie_toSet) { 
								console.log("ouvre_popup_index:  navData_frame for type:" +current_type+ " with style:"+StyleValue);
								parent.frames['movie_frame'].location.href='navData_frame.html';
								
								Movie_toSet = false; 
							} 
							parent.document.getElementById('movie_frame').style.display="block";
							parent.document.getElementById('movie_display').style.visibility="visible";	
							parent.document.getElementById('movie_display').style.zIndex="11";	
							break;
						} 
					case 'popup':
						{
							console.log("ouvre_popup_index:  navData_frame for type:" +current_type+ " with style:"+StyleValue);
							nodisplay_Id('movie_display');
							Indexpopup = window.open('navData_frame.html', "YAMJv3 Navigation index","channelmode=no, menubar=no, status=no, scrollbars=yes, resizable=yes, menubar=no, location=no, left=2px, top=5px, width=1250px, height=270px");
							break;
						}
					case 'ribbon':
						{
							console.log("ouvre_popup_index:  navData for type:" +current_type+ " with style:"+StyleValue);
							nodisplay_Id('movie_display');
							Indexpopup = window.open('navData.html', "YAMJv3 Navigation index","channelmode=no, menubar=no, status=no, scrollbars=yes, resizable=yes, menubar=no, location=no, left=2px, top=5px, width=180px, height=1000px");
							break;
						}
					case 'page':
						{
							console.log("ouvre_popup_index:  changeindex for type:" +current_type+ " with style:"+StyleValue);
							nodisplay_Id('movie_display');
							Indexpopup = window.open(_index_url, "YAMJ v3 index","");
							break;
						}
					
				}
		
		}
	// open a new vertical window for person list 
	function ouvre_popup_person_ribbon() 
		{
			localStorage.setItem("indextype", index_type.toLowerCase());
			
			Personpopup = window.open("navPerson.html", "YAMJv3 Navigation Person","channelmode=no, status=no, scrollbars=no, menubar=no, location=no, resizable=yes, left=180px, top=5px, width=150px, height=1000px");

		}
	function ouvre_popup_person() 
		{
			localStorage.setItem("indextype", index_type.toLowerCase());
			console.log("ouvre_popup_person:  style:"+StyleValue+ " type:" +index_type+" id:"+localStorage.getItem('id'));
			localStorage.setItem("back_close", "close");
			switch (StyleValue)
					{
					case 'frame':
						{
							if (localStorage.getItem('Person_all-in-one') == 'true')
							{
							console.log("ouvre_popup_person all-in-one:  " +Person_toSet);
							parent.frames['person_frame'].location.href='navPersonH.html';	
								if (Person_toSet) { 								
									Person_toSet = false; 
									}
								if (parent.document.getElementById('person_display').style.visibility =="visible")  // click toggle the frame  
								{
									parent.document.getElementById('person_frame').style.display="none";
									parent.document.getElementById('person_display').style.visibility="hidden";
									parent.document.getElementById('person_display').style.zIndex="2";
								} else 
								{	// adjust window						
									parent.document.getElementById('person_display').style.height="90vh";  
									parent.document.getElementById('person_display').style.top="52px";
									parent.document.getElementById('person_display').style.left="2vw";  
									parent.document.getElementById('person_display').style.width="100vw"; 
									parent.document.getElementById('person_display').style.visibility="visible";	
									parent.document.getElementById('person_display').style.zIndex="15";
									parent.document.getElementById('person_display').style.bottom="";
									// adjust frame
									parent.document.getElementById('person_frame').style.height="30vh";    // adjust frame inside windows
									parent.document.getElementById('person_frame').style.width="96vw";
									parent.document.getElementById('person_frame').style.display="block";
									
								}
							} else {
									console.log("ouvre_popup_person:  " +Person_toSet);
									parent.frames['person_frame'].location.href='navPerson_frame.html';
									if (Person_toSet) { 							
										Person_toSet = false; 
										}
									if (parent.document.getElementById('person_display').style.visibility =="visible")  // click toggle the frame  
									{
										parent.document.getElementById('person_frame').style.display="none";
										parent.document.getElementById('person_display').style.visibility="hidden";
										parent.document.getElementById('person_display').style.zIndex="2";
									} else 
									{							
										parent.document.getElementById('person_display').style.height="300px";  // adjust window
										parent.document.getElementById('person_frame').style.height="260px";    // adjust frame inside windows
										parent.document.getElementById('person_frame').style.display="block";
										parent.document.getElementById('person_frame').style.width="81vw";
										parent.document.getElementById('person_display').style.bottom="0px";
										parent.document.getElementById('person_display').style.top="";
										parent.document.getElementById('person_display').style.left="18.1vw";
										parent.document.getElementById('person_display').style.visibility="visible";	
										parent.document.getElementById('person_display').style.zIndex="15";
									}
								}
							break;
						} 
					case 'popup':
						{
							console.log("ouvre_popup_person:  open navPersonH.html:");
							Personpopup = window.open("navPersonH.html", "YAMJv3 H Navigation Person","channelmode=no, status=no, scrollbars=no, menubar=no, location=no, resizable=yes, left=180px, top=5px, width=1322px, height=300px");
							break;
						}
					case 'ribbon':
						{
							console.log("ouvre_popup_person:  open navPerson.html:");
							Personpopup = window.open("navPerson.html", "YAMJv3 Navigation Person","channelmode=no, status=no, scrollbars=no, menubar=no, location=no, resizable=yes, left=180px, top=5px, width=165px, height=1000px");
							break;
						}
					case 'page':
						{
							console.log("ouvre_popup_person:  open navPerson_page.html:");
							Personpopup = window.open("navPerson_page.html", "YAMJ v3 index person","");
							break;
						}
					
				}
		}
		function ouvre_popup_person_all_in_one() 
		{
			localStorage.setItem("indextype", index_type.toLowerCase());
			console.log("ouvre_popup_person:  style:"+StyleValue+ " type:" +index_type+" id:"+localStorage.getItem('id'));
			localStorage.setItem("back_close", "close");
			
							if (Person_toSet) { 
								console.log("ouvre_popup_person:  " +Person_toSet);
								parent.frames['person_frame'].location.href='navPersonH.html';								
								Person_toSet = false; 
								}
							if (parent.document.getElementById('person_display').style.visibility =="visible")  // click toggle the frame  
							{
								parent.document.getElementById('person_frame').style.display="none";
								parent.document.getElementById('person_display').style.visibility="hidden";
								parent.document.getElementById('person_display').style.zIndex="2";
							} else 
							{							
								parent.document.getElementById('person_display').style.height="300px";  // adjust window
								parent.document.getElementById('person_frame').style.height="290px";    // adjust frame inside windows
								parent.document.getElementById('person_frame').style.display="block";
								parent.document.getElementById('person_display').style.visibility="visible";	
								parent.document.getElementById('person_display').style.zIndex="15";
							}
		}	
	// close when leaving
	function close_popup()
	{
		if (Personpopup !== "") {Personpopup.close();}
	}

	
	// year is activ and open year index menu with the year selected 
	function call_yearselect(yearvalue)
        {
			localStorage.setItem("yearselected", 'true');
			localStorage.setItem("selection", yearvalue);
            console.log("call_yearselect Storing value: Year value " +yearvalue);
			window.location.href=_index_url;
		}

	// videosource list is activ and open videosource index menu with the videosource selected 
	function call_videosourceselect(videosourcevalue)
        {
			localStorage.setItem("Videosource_value", videosourcevalue);
			localStorage.setItem("Videosource_name", videosourcevalue);
            console.log("call_videosourceselect Storing value: videosource value: " +videosourcevalue);
			window.location.href="index_Videosource.html";
		}


	function ouvre_popup_mediainfo ()
		{
			console.log("detail ouvre_popup_mediainfo type:" + index_type);
			if ($('.mediainfo').css('visibility') == "hidden")
			{
			display_class ('mediainfo');
			switch (index_type.toLowerCase())
				{
					case 'season':
						{
							nodisplay_class ('genres');
							nodisplay_class ('certifications');
							nodisplay_class ('plot1');
							nodisplay_Id ('slideshowBanner');
							nodisplay_class ('moviedetail');
							nodisplay_class ('detail_label');
							nodisplay_class ('actors');
							nodisplay_class ('director');
							nodisplay_class ('writer');
							display_none_class ('media_tr');
							display_block_class ('episode_' + window.localStorage.getItem('episode'));
							break;
						}
					case 'series':
						{	
							nodisplay_Id ('slideshowBanner');
							break;
						}
					case 'movie':
						{
							nodisplay_class ('genres');
							nodisplay_class ('certifications');
							nodisplay_class ('plot1');
							nodisplay_class ('moviedetail');
							nodisplay_class ('detail_label');
							nodisplay_class ('edit_adjust');
							nodisplay_class ('videoimage_list');
							nodisplay_class ('icon_videoimage');
							nodisplay_class ('actors');
							nodisplay_class ('director');
							nodisplay_class ('writer');
							display_block_class ('media_tr');
							break;	
						}
				}
			} else { ferme_popup_mediainfo () }
				
				
		}
	function ferme_popup_mediainfo ()
		{
			console.log("detail ferme_popup_mediainfo type:" + index_type);
			if ($('.mediainfo').css('visibility') == "visible")
			{
			
				nodisplay_class ('mediainfo');
				nodisplay_class ('edit_adjust');
				nodisplay_class ('videoimage_list');
				nodisplay_class ('icon_videoimage');
				display_class ('genres');
				display_class ('certifications');
				display_class ('plot1');
				display_class ('moviedetail');
				display_class ('detail_label');
				display_class ('actors');
				display_class ('director');
				display_class ('writer');
				display_class ('header_detail');
				display_class ('play_detail');
				display_none_class ('episode_' + window.localStorage.getItem('episode'));
			}
		}
	function ouvre_popup_poster ()
		{
		console.log("detail ouvre_popup_poster type:" + index_type);
		if ($('.edit_adjust').css('visibility') == "hidden")
		{
		display_class ('edit_adjust');
		
		switch (index_type.toLowerCase())
				{
				case 'season':
					{
						nodisplay_class ('genres');
						nodisplay_class ('certifications');
						nodisplay_class ('plot1');
						nodisplay_Id ('slideshowBanner');
						nodisplay_class ('moviedetail');
						nodisplay_class ('detail_label');
						nodisplay_class ('actors');
						nodisplay_class ('director');
						nodisplay_class ('writer');
						display_class ('videoimage_list');
						display_class ('icon_videoimage');
						break;
					}
				case 'series':
					{
						nodisplay_Id ('slideshowBanner');
						break;
					}
				case 'movie':
					{
						nodisplay_class ('moviedetail');
						nodisplay_class ('detail_label');
						nodisplay_class ('mediainfo');
						nodisplay_class ('genres');
						nodisplay_class ('certifications');
						nodisplay_class ('plot1');
						nodisplay_class ('actors');
						nodisplay_class ('director');
						nodisplay_class ('writer');
						nodisplay_class ('videoimage_list');
						nodisplay_class ('icon_videoimage');
						break;	
					}
				}
			} else {
			if (index_type.toLowerCase() == 'series') {display_class('seasontable');}
			if (index_type.toLowerCase() == 'season') {display_Id ('slideshowBanner');;}
			nodisplay_class ('edit_adjust');
			nodisplay_class ('videoimage_list');
			nodisplay_class ('icon_videoimage');
			display_class ('genres');
			display_class ('certifications');
			display_class ('plot1');
			display_class ('moviedetail');
			nodisplay_class ('mediainfo');
			display_class ('detail_label');
			display_class ('actors');
			display_class ('director');
			display_class ('writer');
			display_class ('header_detail');
			display_class ('play_detail');
			}
		}
	function ouvre_popup_delete ()
		{
		console.log("detail ouvre_popup_delete stage_file_Id:" + stage_file_Id);
		// construct JSON request to delete movie/series/season from the stage_file with stage_file_Id
		
				jsonDeleteUrl = "/yamj3/api/file/delete/" + stage_file_Id;
				console.log("ouvre_popup_delete URL: " + jsonDeleteUrl);
		PopDelete(stage_file_Id, current_title)
		}
	function ouvre_popup_update_mediainfo ()
		{
		console.log("detail ouvre_popup_ouvre_popup_update_mediainfo stage_file_Id:" + stage_file_Id);
		// construct JSON request to update movie/series/season from the stage_file with stage_file_Id
		
				jsonUpdateInfoUrl = "/yamj3/api/file/update/" + stage_file_Id;
				console.log("ouvre_popup_update_mediainfo URL: " + jsonUpdateInfoUrl);
		PopUpdateInfo(stage_file_Id, current_title)
		}
	function ouvre_popup_update (update_type)
		{
			console.log("detail ouvre_popup_update video_id:" + current_id + " index_type:"+ index_type + " update_type: "+ update_type);
		// construct JSON request to update movie/series/season/artwork from the file with file_Id
		
		//		jsonDeleteUrl = "/yamj3/api/file/update/" + stage_file_Id;
			if (update_type == 'artwork') 
				{jsonDeleteUrl = "/yamj3/api/rescan/" + index_type.toLowerCase() + "/artwork/" + current_id;}
				
				else {jsonDeleteUrl = "/yamj3/api/rescan/" + index_type.toLowerCase() + "/" + current_id;}
				
				console.log("getData URL: " + jsonDeleteUrl);
		// PopUpdate(stage_file_Id, current_title)
			PopUpdate(update_type, current_id, current_title)
		}
	function set_current_episode (current_episode_selected_to_set)
		{
			current_episode_selected = current_episode_selected_to_set;
		}
	function ouvre_popup_add_artwork (update_type)
		{
			if (update_type == "videoimage")
			{
				console.log("detail ouvre_popup_add_artwork video_id:" + current_id + " index_type: episode update_type: "+ update_type + " current_episode_selected: " +current_episode_selected);
				toggle_display_Id ('edit_add_' + update_type);
				$('#edit_add_' + update_type).attr('action', '/yamj3/api/artwork/add/' + update_type + '/episode/' + current_episode_selected );	
				toggle_display_Id (update_type + '_image');
			}
			else 
			{
				console.log("detail ouvre_popup_add_artwork video_id:" + current_id + " index_type:"+ index_type + " update_type: "+ update_type);
				toggle_display_Id ('edit_add_' + update_type);
				$('#edit_add_' + update_type).attr('action', '/yamj3/api/artwork/add/' + update_type + '/' + index_type + '/' + current_id );	
				toggle_display_Id (update_type + '_image');
			}
		}
	function display_image(update_type)
		{
			var tmppath = URL.createObjectURL(event.target.files[0]);
			console.log (tmppath);
			$('#' + update_type + '_image').attr('src', tmppath);	
		}
	function ouvre_popup_ignore (artwork_type, located_id)
		{
		console.log("detail ouvre_popup_ignore located_Id:" + located_id);
		// construct JSON request to delete movie/series/season from the stage_file with stage_file_Id
		
				jsonIgnoreUrl = "/yamj3/api/artwork/located/ignore/" + located_id;
				console.log("getData URL: " + jsonIgnoreUrl);
		PopIgnore(artwork_type, located_id)
		}
// ********************* trailer sequence ****************************
	function delete_trailer (trailer_id)
		{
		console.log("detail delete_trailer trailer_id:" + trailer_id);
		// construct JSON request to delete movie/series/season from the stage_file with stage_file_Id
		
				jsonDeleteUrl = "/yamj3/api/trailer/delete/" + trailer_id;
				console.log("getData URL: " + jsonDeleteUrl);
				PopAction('delete', 'trailer', trailer_id, '' );
		}
	function download_trailer (trailer_id)
		{
			console.log("detail download_trailer trailer_id:" + trailer_id );
		// construct JSON request to update movie/series/season/artwork from the file with file_Id
		
			jsonDownloadUrl = "/yamj3/api/trailer/download/" + trailer_id;
			console.log("getData URL: " + jsonDownloadUrl);
		// PopUpdate(stage_file_Id, current_title)
			PopAction('download','trailer', trailer_id, '');
		}
	function ignore_trailer (trailer_id)
		{
		console.log("detail ignore_trailer trailer_id:" + trailer_id);
		// construct JSON request to delete movie/series/season from the stage_file with stage_file_Id
		
				jsonIgnoreUrl = "/yamj3/api/trailer/ignore/" + trailer_id;
				console.log("getData URL: " + jsonIgnoreUrl);
				PopAction('ignore', 'trailer', trailer_id, '');
		}
// ******************** update, delete, ignore real API call .json 
	function delete_stage_file_Id ()
		{
        // main API call         
                $.ajax({
                    url: jsonDeleteUrl,
                    async: false,
                   dataType: 'jsonp',
                   'success': function(data)
                    {
					}
				})
		}
	function update_stage_file_Id ()
		{
        // main API call         
                $.ajax({
                    url: jsonDeleteUrl,
                    async: false,
                   dataType: 'jsonp',
                   'success': function(data)
                    {
					}
				})
		}
	function updateinfo_stage_file_Id ()
		{
        // main API call         
                $.ajax({
                    url: jsonUpdateInfoUrl,
                    async: false,
                   dataType: 'jsonp',
                   'success': function(data)
                    {
					}
				})
		}
	function ignore_located_Id ()
		{
        // main API call         
                $.ajax({
                    url: jsonIgnoreUrl,
                    async: false,
                   dataType: 'jsonp',
                   'success': function(data)
                    {
					}
				})
		}
// ******************************* get aplhabetical list of available video *********************************************
	function get_alpha_list ()
		{
				jsonUrlAlpla = "/yamj3/api/alphabetical/list.json?type=" + index_type;
				console.log("get_alpha_list jsonUrlAlpla: " + jsonUrlAlpla);
				
				var ALPHALIST = {
               'span.lastid': function(arg) {
					 var alpha_list = arg.context.results; 
					 switch (index_type.toLowerCase())
					 {
						case 'movie':
						{
							$('#selection_id_icon').append("<option value=''>" + window.localStorage.getItem('movie_label').toLowerCase() + "</option>");	
							break;
						}
						case 'series':
						{
							$('#selection_id_icon').append("<option value=''>" + window.localStorage.getItem('series_label').toLowerCase() + "</option>");
							break;
						}
						case 'season':
						{
							$('#selection_id_icon').append("<option value=''>" + window.localStorage.getItem('season_label').toLowerCase() + "</option>");
							break;
						}
					}
					for (var i = 0; i < alpha_list.length; i++) {
						if (alpha_list[i].name != "") {
								// only season could have no value 
							     $('#selection_id_icon').append("<option value='" + alpha_list[i].name + "'>" + alpha_list[i].name + "</option>");
								 }
					}
					return;
				}
			};

					
        // main API call         
                $.ajax({
                    url: jsonUrlAlpla,
                    async: false,
                    dataType: 'jsonp',
                    'success': function(data)
                    {
                        jsondata = data;
					//	 outputJson(data); 
					$p('.test').render(data, ALPHALIST);
					}
                });
		
		
		
		}
	
		function open_update_externalId (source_to_set, id_to_set)
		{
				jsonUrlUpdateExternalId = "/yamj3/api/video/" + index_type.toLowerCase() 
				+ "/updateexternalid.json?id=" + current_id + "&sourcedb="
				+ source_to_set + "&externalid=" + id_to_set;
				console.log("open_update_externalId jsonUrlUpdateExternalId: " + jsonUrlUpdateExternalId);
			
        //  externalId update API call         
                $.ajax({
                    url: jsonUrlUpdateExternalId,
                    async: false,
                    dataType: 'jsonp',
                    'success': function(data)
                    {
                        jsondata = data;
					//	 outputJson(data); 
					location.reload(); 
				
					}
                });
		}
		function open_delete_externalId (source_to_set)
		{
				jsonUrlDeleteExternalId = "/yamj3/api/video/" + index_type.toLowerCase() + "/removeexternalid.json?id=" 
				+ current_id + "&sourcedb=" + source_to_set ;
				console.log("open_delete_externalId jsonUrlDeleteExternalId: " + jsonUrlDeleteExternalId);
			
        //  externalId update API call         
                $.ajax({
                    url: jsonUrlDeleteExternalId,
                    async: false,
                    dataType: 'jsonp',
                    'success': function(data)
                    {
                        jsondata = data;
					//	 outputJson(data); 
					
					location.reload(); 
				
					}
                });
		}
		function enable_external_source (source_to_set)
		{
				jsonUrlEnable_external_source = "/yamj3/api/video/" + index_type.toLowerCase() + "/enableonlinescan.json?id=" 
				+ current_id + "&sourcedb=" + source_to_set ;
				console.log("enable_external_source jsonUrlEnable_external_source: " + jsonUrlEnable_external_source);
			
        //  external_source enable API call         
                $.ajax({
                    url: jsonUrlEnable_external_source,
                    async: false,
                    dataType: 'jsonp',
                    'success': function(data)
                    {
                        jsondata = data;
					//	 outputJson(data); 
					
					location.reload(); 
				
					}
                });
		}
		function disable_external_source (source_to_set)
		{
				jsonUrlDisable_external_source = "/yamj3/api/video/" + index_type.toLowerCase() + "/disableonlinescan.json?id=" 
				+ current_id + "&sourcedb=" + source_to_set ;
				console.log("disable_external_source jsonUrlDisable_external_source: " + jsonUrlDisable_external_source);
			
        //  external_source enable API call         
                $.ajax({
                    url: jsonUrlDisable_external_source,
                    async: false,
                    dataType: 'jsonp',
                    'success': function(data)
                    {
                        jsondata = data;
					//	 outputJson(data); 
					
					location.reload(); 
				
					}
                });
		}
		
		function PutData(field_type, field_value, id_to_update){
		var data_to_proceed = new Object();
		data_to_proceed = "{ \"" + field_type + "\": \"" + field_value + "\"}" ;
		var jsonUrlUpdate_video = "/yamj3/api/video/" + index_type.toLowerCase() + "/" + current_id ;
		console.log ("jsonUrlUpdate_video:" + jsonUrlUpdate_video + " data_to_proceed:" + data_to_proceed);
            $.ajax({
                url: jsonUrlUpdate_video,
                type: 'PUT',
                dataType: 'json',
				contentType: "application/json",
                data: data_to_proceed,
                success: function (data, textStatus, xhr) {
                console.log("jsonUrlUpdate_video: success textStatus : " + textStatus);
                },
                error: function (jqxhr, textStatus, errorThrown) {
					var contentType   = jqxhr.getResponseHeader("Content-Type");
					var responseBody  = jqxhr.responseText;
					var contentServer   = jqxhr.getResponseHeader("Server");
					var contentLenght   = jqxhr.getResponseHeader("Content-Length");
					var contentEncoding   = jqxhr.getResponseHeader("Content-Encoding");
                    console.log("jsonUrlUpdate_video:  Error textStatus : " + textStatus 
					+ " contentType:" + contentType  
					+ ' responseBody:' + responseBody 
					+ ' contentServer:' + contentServer 
					+ ' contentLenght: ' + contentLenght 
					+ ' contentEncoding:' + contentEncoding );
                }
            });
		}
		function ouvre_popup_add_data (id)
		{
			console.log("detail ouvre_popup_add_artwork video_id:" + id );
		
			toggle_display_Id ('edit_add_photo');
			toggle_display_Id ('putform');
			//$('#edit_add_photo').attr('action', '/yamj3/api/artwork/add/photo/person/' + id );	
			$('#put_submit').attr('onclick', "PutData(document.getElementById('update_field').value, document.getElementById('Put_data').value, " + id + ")");	
			toggle_display_Id ('photo_image');
		}
// ****************************** id or class with iscroll **************************************************************
	var myScroll;
	function loaded_iscroll () {
	myScroll = new IScroll('#container_menu_left', { scrollX: true, scrollY: true, mouseWheel: true, click: true });
	}
	//   document.addEventListener('touchmove', function (e) { e.preventDefault(); }, false);
	
// *******************************to fix alt bug with chrome ***************************************************************************************
	function showAlt(){$(this).replaceWith(this.alt)};
	function addShowAlt(selector){$(selector).error(showAlt).attr("src", $(selector).src)};
	
      </script>
<!-- *************************************************************************************************************** -->
    </head>
    <body onload="loaded_iscroll(); getData(); addShowAlt('img');" onUnload="close_popup();" style="margin: 0px;  width: 1340px; height: 740px;"> 
	
	<!-- navigation to index -->

		<div id="detail_home_right_icon">
							
									<td><a id="li_mediainfo_icon" href="javascript:ouvre_popup_mediainfo();" onmouseover="javascript:document.getElementById('mediainfoshow_icon').style.visibility='visible'"  onmouseout="javascript:document.getElementById('mediainfoshow_icon').style.visibility='hidden'" >
										<img src="pictures/icon/overview.png" alt="mediainfo"></img><div id="mediainfoshow_icon"></div></a></td>	
									<td><a id="li_poster_icon" href="javascript:ouvre_popup_poster();" onmouseover="javascript:document.getElementById('editshow_icon').style.visibility='visible'"  onmouseout="javascript:document.getElementById('editshow_icon').style.visibility='hidden'">
										<img src="pictures/icon/edit.png" alt="edit" ></img><div id="editshow_icon"></div></a></td>
									<td><a id="li_person_icon" href="javascript:localStorage.setItem('Person_all-in-one', 'false');ouvre_popup_person();" onmouseover="javascript:document.getElementById('personshow_icon').style.visibility='visible'"  onmouseout="javascript:document.getElementById('personshow_icon').style.visibility='hidden'">
										<img src="pictures/icon/icon_person.png" alt="person"></img><div id="personshow_icon"></div></a></td>	
									<td><a id="li_movie_icon" href="javascript:ouvre_popup_index('', 'ASC', index_type, '')" onmouseover="javascript:document.getElementById('movieshow_icon').style.visibility='visible'"  onmouseout="javascript:document.getElementById('movieshow_icon').style.visibility='hidden'">
										<img src="pictures/icon/icon_tv-film.png" alt="movie"></img><div id="movieshow_icon"></div></a></td>
									<td><a id="li_fanart_icon" href="javascript:toggle_fanart()" onmouseover="javascript:document.getElementById('fanartshow_icon').style.visibility='visible'"  onmouseout="javascript:document.getElementById('fanartshow_icon').style.visibility='hidden'">
										<img src="pictures/icon/fanart.png" alt="fanart" ></img><div id="fanartshow_icon"></div></a></td>
									<td><a id="li_delete_icon" href="javascript:ouvre_popup_delete();" onmouseover="javascript:document.getElementById('deleteshow_icon').style.visibility='visible'"  onmouseout="javascript:document.getElementById('deleteshow_icon').style.visibility='hidden'">
										<img src="pictures/icon/delete.png" alt="delete"></img><div id="deleteshow_icon"></div></a></td>	
									<td><a id="li_update_icon" href="javascript:ouvre_popup_update('file');" onmouseover="javascript:document.getElementById('updateshow_icon').style.visibility='visible'"  onmouseout="javascript:document.getElementById('updateshow_icon').style.visibility='hidden'">
										<img src="pictures/icon/update.png" alt="update"></img><div id="updateshow_icon"></div></a></td>	
									<td><a id='li_search_icon' href="javascript:ouvre_popup_search(StyleValue)" onmouseover="javascript:document.getElementById('search_icon').style.visibility='visible'"  onmouseout="javascript:document.getElementById('search_icon').style.visibility='hidden'" >
										<img src="pictures/icon/find.png" alt="find" />
										</a><div id="search_icon"></div>
									</td>
					<button id="infobox_delete" onclick="javascript:start_delete ()"></button>	
					<button id="infobox_update" onclick="javascript:start_update ()"></button>			
        </div>

	<!-- left menu with icon -->

		<img id="open_menu_left" src="pictures/icon-open_frame.png" data-tip="open navigation menu" style="position:absolute; top: 380px; left: 0px; z-index:12; visibility: visible;" height="100" width="130" onclick="toggle_detail_menu_left ()" alt="open"/>
		<img id="close_menu_left" src="pictures/icon-close_frame.png" data-tip="close navigation menu" style="position:absolute; top: 380px; left: 78px; z-index:12; visibility: hidden;" height="110" width="130" onclick="toggle_detail_menu_left ()" alt="close"/>
	    <div id="container_menu_left">
			<ul id="monFormMenu" style="padding-left:0px;">
	
				<td><a href="javascript:ChangeIndex('movie,series')" >
							<img src="pictures/icon/home_all_rv8.png" height="80"  width="80" alt="tv movie" />
						</a><div id="allselect"></div>
				</td>
				<td><a href="javascript:ChangeIndex('movie')" >
							<img src="pictures/icon/home_movies_rv8.png" height="80"  width="80" alt="movie" align="top" />
						</a><div id="movieselect"></div>
				</td>
				<td><a href="javascript:ChangeIndex('series')" >
							<img src="pictures/icon/home_tv_shows_rv8.png" height="80"  width="80" alt="tv" />
						</a><div id="serieselect"></div>
				</td>
				<td><a href="javascript:ChangeIndex('season')" >
							<img src="pictures/icon/home_apps_rv8.png" height="100"  width="100" style="position: relative; left:-10px" alt="season" />
						</a><div id="seasonselect"></div>
				</td>
				<td><a href="javascript:call_personindex('_self')" >
							<img src="pictures/icon/home_person_rv8.png" height="80"  width="80" alt="person"  />
						</a><div id="personindex"></div>
				</td>
				<td><a href="javascript:open_self_index (index_type, 'navGenre.html')">
							<img src="pictures/icon/home_genres2_rv8.png" height="80"  width="80" alt="genre" />
						</a><div id="genreindex"></div>
				</td>
				<td><a href="javascript:open_self_index (index_type, 'navCountry.html')">
							<img src="pictures/icon/home_country_rv8.png" height="80"  width="80" alt="country" />
						</a><div id="countryindex"></div>
				</td>
				<td><a href="javascript:open_self_index (index_type, 'navAwards.html')">
							<img src="pictures/icon/home_awards_rv8.png" height="80"  width="80" alt="awards" />
						</a><div id="awardsindex"></div>
				</td>
				<li><a href="javascript:open_self_index (index_type, 'navTitle.html');">
							<img src="./pictures/title.png" height="65" width="75" style="padding-left:7px" alt="title" />
						</a><div id="titleindex" style="padding-top: 5px;"></div>
				</li> 
				<td><a href="javascript:ouvre_popup_search(StyleValue)">
							<img src="pictures/icon/find.png" height="60" width="65" style="padding-left:10px" alt="find" />
						</a><div id="searchindex"></div>
				</td>
				<td><a href="javascript:open_self_index (index_type, 'navStudio.html')">
							<img src="pictures/icon/Studio.png" height="60"  width="60" style="position: relative; left:10px" alt="studio"  />
						</a><div id="studioindex"></div><br />
				</td>

				<td><a href="javascript:open_self_index (index_type, 'navRating.html')" >
							<img src="pictures/icon/home_rating_rv8.png" height="80"  width="80" alt="rating"  />
						</a><div id="ratingindex"></div>
				</td>
				<td><a href="javascript:open_self_index (index_type, 'navCertification.html')" >
							<img src="pictures/icon/home_certification_rv8.png" height="90"  width="100"  style="position: relative; left:-10px" alt="certification"  />
						</a><div id="certificationindex"></div>
				</td>
				<td><a href="javascript:open_self_index (index_type, 'navVideosource.html')" >
							<img src="pictures/icon/home_videosource_rv8.png" height="80"  width="80" style="position: relative; left:0px" alt="videosource"  />
						</a><div id="videosourceindex"></div>
				</td>
				<td><a href="javascript:open_self_index (index_type, 'navBoxset.html')">
							<img src="pictures/icon/home_set_rv8.png" height="100"  width="100" style="position: relative; left:-10px" alt="set"  />
						</a><div id="boxsetindex"></div>
				</td>
				<td><a href="javascript:ouvre_config(StyleValue)">
							<img src="pictures/icon/settings.png" height="80" width="100" style="padding-left:5px" alt="setting" />
						</a><div id="configindex"></div>
				</td>
				<td><a href="javascript:ouvre_yamj3(); ">
							<img src="pictures/icon/home.png" height="80"  width="80" alt="home" />
						</a><div id="yamj3select"></div>
				</td>
				<td><a href="javascript:ouvre_genrelist('_self'); ">
							<img src="pictures/icon/list_genre.png" height="80"  width="80" alt="liste genre" />
						</a><div id="genrelistselect"></div>
				</td>
				<td><a href="javascript:ouvre_remote(StyleValue); ">
							<img src="pictures/icon/remote.png" height="70"  width="70" style="position: relative; left:6px" alt="remote" />
						</a><div id="remoteselect"></div>
				</td>
				<td><a href="javascript:open_self_index (index_type, 'navLibrary.html');">
							<img src="./pictures/icon/library2.png" height="70"  width="60" style="position: relative; left:12px" alt="library"  />
						</a><div id="libraryindex" style="padding-top: 8px"></div>
				</td>
		</ul>
		
	</div>          	
	<!--  footer for movie/series name -->
		<div class="header_detail">
			<table>
				<tr>
					<td id="header_td">
					<a href="javascript:ouvre_prefered_page()" id="li_home_left" data-tip-detail_home="prefered page" style="height: 43px; width: 8%; left: -4%;" ></a>
						<span class="header_title" ></span>
				
						<img src="pictures/icon/year.png" style="position:relative; top: -0.1vw; width: 2.2vw; vertical-align: baseline;"  alt="year"/>
						<span class="header_year" ></span>
						<span class="header_id" ></span>
						<img src="pictures/icon/duration.png" style="position:relative; top: -0.1vw; left: -10px; width: 2.2vw" alt="duration"/>
						<span class="header_runtime" ></span>
						<span class="header_text"> </span>
						<a href="#"><img title="watched" class="watched" style="width: 2.1vw;" src="./pictures/watched.png" onclick="" alt="watched"/></a>
						<span class="country" title="country" ></span>
						<img class="channels" src="./pictures/icon/empty.png" alt="no audio channels"></img>
					</td>
				</tr>
			</table>
		</div>
		<!-- display infobox -->
		<button id="infobox" onclick="javascript:start_playing ()"></button>

		<div class="test">
					<td><span class="lastid"></span></td>
		</div> 
		<div class="test_external">
					<td><span class="series_externalid"></span></td>
		</div>
		<div class="counttest">
					<td><span class="itemcount"></span></td>
		</div> 
	<!-- just added to set the language value, shouldn't be displayed  -->
		<div class="results" style="visibility: hidden; display:none;">
			<table><tr><td class="Value"></td></tr></table>
		</div>
	<!-- just added to set the poster number value, shouldn't be displayed  -->
		<div class="poster_results" style="visibility: hidden; display:none;">
			<table><tr><td class="Poster_Value"></td></tr></table>
		</div>
	<!-- display person -->
		<div id="person_display" style="visibility: hidden; ">	
			<iframe src="" name="person_frame" resizable="yes" id="person_frame" scrolling="yes" frameborder="1" style="overflow:auto; width:81.4vw; height:335px; border-radius: 9px;" allowTransparency="true"></iframe>
		</div>	
	<!-- display Movie -->
		<div id="movie_display" style="visibility: hidden; ">
			<iframe src="" name="movie_frame" resizable="yes" id="movie_frame" scrolling="yes" frameborder="1" style="overflow:auto; width:91vw; height:265px;" allowTransparency="true"></iframe>
		</div>	
	<!-- display Remote -->
		<div id="remote" style="visibility: hidden; ">
			<iframe src="" name="remote_frame" resizable="yes" id="remote_frame" scrolling="yes" frameborder="0" style="overflow:auto; width:430px; height:660px;" allowTransparency="true"></iframe>
		</div>		
	<!-- main table for detail page -->
        <div class="template"> 
           <table>
                  <tbody>
                    <tr>    
						<!-- fanart animation, automatic every 10s, if more than one fanart -->
						<td rowspan="1">
                            <div id="slideshowFanart" class="glow">
                                <div id="imgRollFanart">
                                    <img class="fanart" src="./pictures/dummy_fanart.png" alt="fanart"/>
                                </div>
                            </div>
                            <a id="nextFanart"> </a>
                            <a id="prevFanart"> </a>
                        </td>
						<!-- poster animation, automatic every 3s, if more than one fanart, could be stopped or adjust by button  -->
						<td rowspan="10">
                            <div id="slideshowCtr" class="glow">
                                <div id="imgRoll">
                                    <img class="poster" src="./pictures/dummy.png" alt="poster"/>
									
                                </div>
                            </div>
						
						<!-- play button -->
							<a id="play_button" data-tip-detail_play="play"><img class="play_detail"  src="./pictures/empty.png" alt="play" /></a>
			
				
						
						<!-- next , previous button -->
                            <a id="next"><img src="./pictures/next.png" alt="next"/></a>
                            <a id="prev"><img src="./pictures/previous.png" alt="previous"/></a>
                        </td>        
                    
					<!-- Banner animation, automatic every 10s, if more than one Banner -->
						<td rowspan="10">
                            <div id="slideshowBanner" class="glow">
                                <div id="imgRollBanner">
                                    <img class="banner" src="./pictures/dummy_banner.png" alt="banner" />
                                </div>
                            </div>
								<a id="nextBanner"><img src="./pictures/next.png" alt="nextbanner"/></a>
								<a id="prevBanner"><img src="./pictures/previous.png" alt="previousbanner"/></a>
                        </td>
						
					<!-- source image -->
							<span class="videosource_image"></span>
					</tr>
			<!-- split table for image and text --> 
			<!-- add class for each object in the detail section of yamj-style.css -->
					<table class="moviedetail">
						<tr>
							<td>
								<div class="cast_list" >
									<div  class="cast_list_block" style="display:inline; position: relative; top: 0px;">
											<span class="director"></span>
											<span class="writer"></span>
											<span class="actors"></span>
											<a title="display all cast" id="all_person" href="#" onclick="localStorage.setItem('Person_all-in-one', 'true');ouvre_popup_person()"> ...</a>
								
									</div>
								</div>
							</td>
						</tr>
					<!--		<td><span class="detail_label"><text>DETAIL</text></span></td> -->
						
						<!-- short perso list -->
						<!--
							<tr>
								<td>
									<span class="director"></span>
									<span class="writer"></span>
								</td>
							</tr>
							<tr>
								<td>
									<span class="actors"></span>
									<a title="display all cast" id="all_person" href="#" onclick="localStorage.setItem('Person_all-in-one', 'true');ouvre_popup_person()"> ...</a>
								</td>
								
							</tr>
						-->
						<tr>
							<td><span class="studio" title="video list with studio"></span></td>
						</tr>
						<tr>
							<td><span class="genres"></span></td>
						</tr>
						<tr >
							<td ><span class="plot1"></span></td>
						</tr>
						<tr>
							<td><a  href="#"><img title="video list with rating" class="combined_ratings" src="./pictures/ratings/dummy_rating.png" onclick="" alt="rating"/></a></td>
						</tr>
						<tr>
							<td><a href="#"><img title="video list with certification" class="image_certification" src="./pictures/certification/dummy_certification.png" onclick="" alt="certification"/></a></td>
						</tr>
						
						
					</table>
	
				

					
						
                </tbody>
            </table> 	
		</div>
		<div class="mediainfo">
			<tr>
				<td><span class="media_label" style="position: relative; top: 0.1vw; left: 0.5vw;"><text>MEDIA</text></span></td>
				<td><a id="li_update_icon" href="javascript:ouvre_popup_update_mediainfo('file');" style="right: 12vw;" onmouseover="javascript:document.getElementById('updateinfoshow_icon').style.visibility='visible'"  onmouseout="javascript:document.getElementById('updateinfoshow_icon').style.visibility='hidden'">
							<img src="pictures/icon/update.png" style="width: 2vw; height: 2vw; top: -0.1vw;" alt="update"></img>
							<div id="updateinfoshow_icon" ></div></a></td>
				<button id="infobox_updateinfo" onclick="javascript:start_updateinfo ()" style="visibility: hidden"></button>
			</tr>
			<div class="externalId_delete" >
			<span class="externalId_delete_form" style="position: absolute; top:0.1vw; left: 5vw; display:none;"/>
			</div>
			<div class="externalId_add" style="visibility:hidden;  position: absolute; top:0.1vw; left: 5vw;">
				<form action="javascript:open_update_externalId (document.getElementById('external_source').value, document.getElementById('external_id').value)" method="post">
					<label for="external_source"><div id="updatelabel" style="display: inline;"></div>:&nbsp;<div id="sourcelabel" style="display: inline;"></div></label>
					<input id="external_source" type="text" ></input>
					<label for="external_id">Id</label>
					<input id="external_id" type="text" ></input>
					<INPUT type="submit" ></input>
				</form>
			</div>	
			
				<table class="media"><span class="status" />
					<tr>
						<td><span class="external_Id"></span></td>
					</tr>
					<tr class="media_tr">
						<td><span class="filepath"></span></td>
					</tr>
					<tr class="media_tr">
						<td><span class="originalTitle"></span><span class="sortTitle"></span></td>
					</tr>
					<tr class="media_tr">
						<td><span class="videosource"><img src="./pictures/videosource/videosource_unknown.png" alt="videosource"/></span><span class="stage_fileId"></span></td>
					</tr>
					<tr class="media_tr">
						<td><span class="resolution"></span></td>
					</tr>
					<tr class="media_tr">
						<td><span class="codec"></span></td>
					</tr>
					<tr class="media_tr">
						<td><span class="fps"></span></td>
					</tr>
					<tr class="media_tr">
						<td><span class="runtime"></span></td>
					</tr>
					<tr class="media_tr">
						<td><span class="audio"></span></td>
					</tr>
					<tr class="media_tr">
						<td><span class="subtitle"></span></td>
					</tr>
					<tr>
						<td><span class="awards"></span></td>
					</tr>
				</table>
			
		
		</div>
		
		<div class="edit_adjust">
			<div>
				<div id="add_photo_icon" data-tip-person="add photo" onclick="ouvre_popup_add_data('id'); " style="position: absolute; right: 8vw; top: 0px;"><img src="pictures/add.png" alt="add" style="width: 1.9vw; position: relative; top: 0.4vw; background-color: #000; margin:auto 5px auto -5px; padding: 0px 1px 0px 1px; border: 1px solid red; border-right: 4px solid red; border-radius: 6px 6px 0px 6px" ></img></div>
				
				<!--	<form id="edit_add_photo" enctype="multipart/form-data" action="" target="" method="post"  style="display: none; position: absolute; top: 10vw; left: 40vw; height: 3vw; width: 40vw; color: white; background-color: #000; padding: 10px 1px 1px 10px; border: 1px solid red; border-right: 4px solid red; border-radius: 6px 6px 0px 6px; z-index: 15;">
						<input name="image" type="file" onchange="display_image('photo')" />
						<input class="button" id="add_photo_button" type="submit" alt="Upload" value="Upload" />
					</form> -->
					<form id="putform" style="display: none; position: absolute; top: 5vw; left: 40vw; height: 3vw; width: 40vw; color: white; background-color: #000; padding: 10px 1px 1px 10px; border: 1px solid red; border-right: 4px solid red; border-radius: 6px 6px 0px 6px; z-index: 15;" >
						 <select id="update_field" required>
							  <option id="overwrite_field_title" value="title"></option>
							  <option id="overwrite_field_year" value="publicationYear"></option>
							  <option id="overwrite_field_plot" value="plot"></option>
							  <option id="overwrite_field_outline" value="outline"></option>
							  <option id="overwrite_field_tagline" value="tagline"></option>
							  <option id="overwrite_field_releaseDate" value="releaseDate"></option>
							  <option id="overwrite_field_titleOriginal" value="titleOriginal"></option>
							  <option id="overwrite_field_topRank" value="topRank"></option>
							</select> 
						<input type="text" id="Put_data" 	/>
						<input  type="submit" id="put_submit" value="press enter" onclick="PutData(document.getElementById('update_field').value, document.getElementById('Put_data').value)" />
					</form>
				<!--	<img id="photo_image" src="pictures/dummy.png" style="height:20vw; position: absolute; left: 0.8vw; top: 4vw; border: 2px solid black; border-right: 4px solid black; border-radius: 6px 6px 6px 6px; display: none;" /> -->
				
			</div>
		
			<table class="posteradjust">
			<td>
				<a id="li_update_icon" href="javascript:ouvre_popup_update('artwork');" onmouseover="javascript:document.getElementById('updatepostershow_icon').style.top='4.1vw'; document.getElementById('updatepostershow_icon').style.visibility='visible'"  onmouseout="javascript:document.getElementById('updatepostershow_icon').style.top='4.1px';document.getElementById('updatepostershow_icon').style.visibility='hidden'" >
					<img src="pictures/icon/update.png" alt="update"></img>
					<div id="updatepostershow_icon"></div>
				</a>
			</td>
					
				<tr>
					<td>
                        <div>
							<text id="clickremoveposter" style="margin: inherit;"></text>
								<a id="li_add_icon" href="javascript:ouvre_popup_add_artwork('poster');"  onmouseover="javascript:document.getElementById('add_poster_show_icon').style.visibility='visible'"  onmouseout="javascript:document.getElementById('add_poster_show_icon').style.visibility='hidden'" >
									<img src="pictures/add.png" alt="add" style="width: 1.5vw; position: relative; top: 0.4vw; background-color: #000; margin:auto 5px auto -5px; padding: 0px 1px 0px 1px; border: 1px solid red; border-right: 4px solid red; border-radius: 6px 6px 0px 6px" ></img>
									<div id="add_poster_show_icon" style="top: 1vw; left: 28vw;" ></div>
								</a>
								<form id="edit_add_poster" style="display: none;" enctype="multipart/form-data" action="" target="target_frame" method="post">
									<input name="image" type="file" onchange="display_image('poster')" />
									<input id="add_poster_submit" class="button" type="submit" alt="Upload" value="Upload" />
								</form> 
								<img id="poster_image" src="pictures/dummy.png" style="width: 60px; height:90px; position: relative; left: 10vw; display: none;" />
											
								<br><br>
                                    <img class="poster_list" src="./pictures/dummy.png" height="90" width="60" align="bottom" style="padding:2px;" onclick="" alt="poster"/>
									<button id="infobox_ignore_poster" onclick="javascript:start_ignore ('infobox_ignore_poster')"></button>
                        </div> 		
                                
					</td>
				</tr>
                      
			</table>
			<table class="fanartadjust">
				<tr>
					<td>
                                <div>
									<text id="clickremovefanart" style="margin: inherit;"></text>
									<a id="li_add_icon" href="javascript:ouvre_popup_add_artwork('fanart');" onmouseover="javascript:document.getElementById('add_fanart_show_icon').style.visibility='visible'"  onmouseout="javascript:document.getElementById('add_fanart_show_icon').style.visibility='hidden'">
											<img src="pictures/add.png" alt="add" style="width: 1.5vw; position: relative; top: 0.4vw; background-color: #000; margin:auto 5px auto -5px; padding: 0px 1px 0px 1px; border: 1px solid red; border-right: 4px solid red; border-radius: 6px 6px 0px 6px" ></img>
											<div id="add_fanart_show_icon" style="top: 11.5vw; left: 28vw;"></div>
										</a>
										<form id="edit_add_fanart" style="display: none;" enctype="multipart/form-data" action="" target="target_frame" method="post">
											<input name="image" type="file" onchange="display_image('fanart')"/>
											<input id="add_fanart_submit" class="button" type="submit" alt="Upload" value="Upload" />
										</form> 
										<img id="fanart_image" src="pictures/dummy_fanart.png" style="width: 128px; height: 72px; position: relative; left: 10vw; display: none;" />
									<br><br>
                                    <img class="fanart_list" src="./pictures/dummy_fanart.png" height="72" width="128" align="bottom" style="padding:2px;" onclick="" alt="fanart" />
									<button id="infobox_ignore_fanart" onclick="javascript:start_ignore ('infobox_ignore_fanart')"></button>
                                </div>
					</td>
				</tr>
                      
			</table>
			<table class="banneradjust">
				<tr>
					<td>
                                <div>
									<text id="clickremovebanner" style="margin: inherit;"></text>
									<a id="li_add_icon" href="javascript:ouvre_popup_add_artwork('banner');" onmouseover="javascript:document.getElementById('add_banner_show_icon').style.visibility='visible'"  onmouseout="javascript:document.getElementById('add_banner_show_icon').style.visibility='hidden'">
											<img src="pictures/add.png" alt="add" style="width: 1.5vw; position: relative; top: 0.4vw; background-color: #000; margin:auto 5px auto -5px; padding: 0px 1px 0px 1px; border: 1px solid red; border-right: 4px solid red; border-radius: 6px 6px 0px 6px" ></img>
											<div id="add_banner_show_icon" style="top: 20.5vw; left: 28vw;"></div>
										</a>
										<form id="edit_add_banner" style="display: none;" enctype="multipart/form-data" action="" target="target_frame" method="post">
											<input name="image" type="file" onchange="display_image('banner')"/>
											<input id="add_banner_submit" class="button" type="submit" alt="Upload" value="Upload" />
										</form> 
										<img id="banner_image" src="pictures/dummy_banner.png" style="width: 180px; height: 36px; position: relative; left: 10vw; display: none;" />
									<br><br>
                                    <img class="banner_list" src="./pictures/dummy_banner.png" height="36" width="180" align="bottom" style="padding:2px;" onclick="" alt="banner" />
									<button id="infobox_ignore_banner" onclick="javascript:start_ignore ('infobox_ignore_banner')"></button>
                                </div>
					</td>
				</tr>
                      
			</table>
			<table class="videoimageadjust">
				<tr>
					<td>
                                <div class="videoimage_list">
									<text id="clickremovevideoimage" style="margin: inherit;"></text>
									<a id="li_add_icon_videoimage" href="javascript:ouvre_popup_add_artwork('videoimage');" onmouseover="javascript:document.getElementById('add_videoimage_show_icon').style.visibility='visible'"  onmouseout="javascript:document.getElementById('add_videoimage_show_icon').style.visibility='hidden'">
										<img class="icon_videoimage" src="pictures/add.png" alt="add" style="" ></img>
										<div id="add_videoimage_show_icon" style="top: 0.5vw; left: 25vw;"></div>
									</a>
									<br>
									<span class="editvideoimage"></span>
									<button id="infobox_ignore_videoimage" onclick="javascript:start_ignore ('infobox_ignore_videoimage')"></button>
									<form id="edit_add_videoimage" style="display: none; position: relative; top: -6.3vw; left: 40vw; z-index:10;" enctype="multipart/form-data" action="" target="target_frame" method="post">
										<input name="image" type="file" onchange="display_image('videoimage')"/>
										<input id="add_videoimage_submit" class="button" type="submit" alt="Upload" value="Upload" />
									</form> 
										<img id="videoimage_image" src="pictures/dummy_videoimage.jpg" style="width: 7vw; position: relative; left: 70vw; display: none; visibility: visible; top: -10vw" /> 
									<br><br>
                                </div>
					</td>
				</tr>         
			</table>
		</div>
		<div class="trailer_list">
			<table>
				<tr>
					<td>
						<span class="trailer_href" ></span>
						
					</td>
				</tr>
			</table>
		</div>
		
			
		
		
		
		
	
		
	<!-- display season box , one for each season , add scroll horizontal bar if more than 8 seasons --> 
	<!-- display season box , one for each season , add scroll horizontal bar if more than 7 seasons --> 
<div class="seasontable" id="seasontable" >
			<table>
				<tr>
					<td class="season" style="display: none;">
						<span class="Season"></span>
					</td>
				</tr>
			</table>
		</div>
<!--		<div class="seasontable" id="seasontable">
			<table >
				<tr>
					<td class="season">
						<text class="season"> Id: </text>
						<span class="SeasonID"></span>
						<span class="SeasonPoster"></span>
						<span class="SeasonYear"></span><br>
						<text class="season" id='seasonlabel'></text><span class="SeasonNb"></span><br>
						<span class="SeasonTitle"></span>
					</td>
				</tr>
			</table>
		</div> -->
	<!-- for episode detail section , hidden by default in other display -->	
		<div class="episode_detail" >
			<div class="table_videoimage" style="position: absolute; height: 100%;">  <!-- to map JSON return -->
				<table id="list_episode_title">	  <!-- list of episode on the right part, add scrool vertical bar if more than 20 episodes -->
					<tr>
						<td>
						 <span class="listepisode_title"></span>
						</td>
					</tr>
				</table>
				<table id="episode_title">	<!-- display title and episode number  -->
					<tr>
						<td>
						 <span class="onlyepisode_title"></span>
						</td>
					</tr>
				</table>
				<table id="tablevideoimage">	<!-- display dynamically videoimage on click on episode if available ortherwise dummy_videoimage -->
					<tr>
						<td>
						
						 <span class="totalvideoimage"></span>
						 
						</td>
					</tr>
				</table>
				<table id="listepisode_plot">	<!-- display dynamically plot on click on episode if available, add vertical scroll bar if more than 830 chars -->
					<tr>
						<td>
						 <span class="listepisode_plot"></span>
						</td>
					</tr>
				</table>
				<div style="position: absolute; bottom: 0%">
				<div class="espisode_sub" style="position: relative; ">
					<span id="episode_subtitles">
				</div>
				<div class="espisode_audio" style="position: relative; ">
					<span id="episode_audiocodec">
				</div>
				</div>
			</div>	
		</div>

		

		<!-- display config -->
		<div id="target_display" style="visibility: hidden;">		
			<iframe src="" name="target_frame" resizable="yes" id="target_frame" scrolling="no" frameborder="1" style="overflow:hidden; width:1050px; height:320px;" allowTransparency="true"></iframe>
		</div>	
		<!-- display source data from API if needed  -->
        <div id="sourceData"></div>
    </body>
</html>