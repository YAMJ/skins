<!doctype html>
<html lang="en">
    <head>
	
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <title>YAMJv3 H Navigation Person</title>
		<script src="js/jQuery.js"></script>
		<script src="js/pure.js"></script>
        <script src="js/js.js"></script>
        <script src="js/jPages.js"></script>
		<!-- Used for template -->
		<script src="js/template.js"></script>	
		<script src="js/lang.js"></script>
		<link rel="stylesheet" type="text/css" href="css/person-style.css">
        <link rel="stylesheet" type="text/css" href="css/nav-style.css">
        <link rel="stylesheet" href="css/jPages.css">
        <link rel="stylesheet" href="css/animate.css">
	
    </head>
	<!-- close (child windows) person popup windows when program exit --> 
    <body onload="PersonData();" >   
        <script type="text/javascript">
		var filmography_inside_ref_list	= new Array ();
		function PersonData()
        {
		//	get_lang();	
			var	type = localStorage.getItem("indextype");
			var	id = localStorage.getItem ("id");
			jsonUrl = "/yamj3/api/person/"+type+".json?id="+id+"&job=actor,director,writer&dataitems=artwork,biography&artworksortdir=DESC";
		
            console.log("PersonData URL: " + jsonUrl);
            var jsondata = null;

            $.ajax({
                url: jsonUrl,
                async: false,
                dataType: 'jsonp',
                'success': function(data)
                {
                    jsondata = data;
				//	outputJson(data); 		
                    updateHtml(data);
					document.getElementById('Hbiographyshow').firstChild.nodeValue = "biography";	
				// adjust window to just display poster ribbon
					window.resizeTo (1340, 330);
	
                }
            });

            return jsondata;
        }
		function close_person ()
			{
				console.log("close_person:  style:"+ localStorage.getItem('Style'));
				if (localStorage.getItem('Style') == "frame") {
					parent.document.getElementById('person_frame').style.display="none";
					parent.document.getElementById('person_display').style.visibility="hidden";
					parent.document.getElementById('person_display').style.zIndex="2";
				} else { window.close() ; }
				
			} 
//****************************************************************************		

	function updateHtml(yamjdata)
			{
				var LIST_person_photo = {
             		'span.totalperson_photo': function(arg) 
					{
						var totalperson_photo = arg.context.results;
						var outputperson_photo = "";
								
							for (i = 0; i < totalperson_photo.length; i++) 
							{
								
								// add name on the top
								outputperson_photo = outputperson_photo+"<td><p class=\"person_nameH\">"+totalperson_photo[i].name+"</p>";
								str_bio = "";
								temp_str_cv = totalperson_photo[i].name;
									if (totalperson_photo[i].birthDay) {temp_str_cv += ' - ' +totalperson_photo[i].birthDay ;} 
									if (totalperson_photo[i].birthPlace) {temp_str_cv += ': '+ totalperson_photo[i].birthPlace ;}
								str_cv = temp_str_cv.replace(/\"/g,"\\&quot;").replace(/\'/g,"\\&apos;").replace(/\n/g,"");
					//			 console.log("navPersonH: loop i=" + i + " str_cv:" + str_cv);	
								if (totalperson_photo[i].biography) 
								{					
								// replace all ' and " by they corresponding value 
									str_bio += totalperson_photo[i].biography.replace(/\"/g,"\\&quot;").replace(/\'/g,"\\&apos;").replace(/\n/g,"");
								} else {
								// if no biography available , no display
									str_bio = window.localStorage.getItem("nobiography_text");
								}
					//			console.log("navPersonH: loop i=" + i + " str_bio:" + str_bio);	
								// Check the last artwork if there is artwork
								var temp_photo_return = "";
								if (totalperson_photo[i].artwork) 
								{
									var photo = totalperson_photo[i].artwork[0];
									// if any problem within poster generation return dummy 
									if (photo.generatedId === 0) {
									// on click display biography and big poster
										temp_photo_return ="<a href=\"#\" onclick=\"javascript:display_bio('"+str_bio+"'); javascript:display_filmography_inside('"+totalperson_photo[i].id+"'); display_filmography_scanned('"+totalperson_photo[i].id+"'); javascript:display_cv('"+str_cv+"'); javascript:display_img('pictures/dummy_photo.jpg')\"><img  class=\"person_photo\" src=\"pictures/dummy_photo.jpg\" ></img></a>";
									} else {
										temp_photo_return ="<a href=\"#\" onclick=\"javascript:display_bio('"+str_bio+"'); javascript:display_filmography_inside('"+totalperson_photo[i].id+"'); display_filmography_scanned('"+totalperson_photo[i].id+"'); javascript:display_cv('"+str_cv+"'); javascript:display_img('"+ arg.context.basePhotoUrl + photo.filename +"')\"><img class=\"person_photo\" src=\"" + arg.context.basePhotoUrl + photo.filename + "\" ></img></a>";
										} 
								outputperson_photo += temp_photo_return;
								} else {
										outputperson_photo +="<a href=\"#\" onclick=\"javascript:display_bio('"+str_bio+"'); javascript:display_cv('"+str_cv+"'); javascript:display_img('pictures/dummy_photo.jpg')\"><img class=\"person_photo\" src=\"pictures/dummy_photo.jpg\" ></img></a>";
									}
									// add the role at the bottom 
								if (totalperson_photo[i].role) {
								outputperson_photo = outputperson_photo+"<p class=\"person_role\">"+totalperson_photo[i].role+"</p></td>";
					//			console.log("navPersonH: loop i=" + i + " role:" + totalperson_photo[i].role);	
								} else {
									if (totalperson_photo[i].job) {
										outputperson_photo = outputperson_photo+"<p class=\"person_role\">"+totalperson_photo[i].job+"</p></td>";
									}
								}
							}
							return translate_job(outputperson_photo);
						}
					};
			$('.Hfilmography').css('display', 'none');
			updatePersonCount (yamjdata);
			$p('.table_person_photoH').render(yamjdata, LIST_person_photo);			
	
				
			}
		
//***************************************************************************************************************		
	
	
	
	// display biography   
	function display_bio(string_to_display)
		{	
			document.getElementById('Hbiographyshow').firstChild.nodeValue = string_to_display;
		// display biography, resize the window to display bio and poster and photo ribbon at bottom
		
				$('.table_person_photoH').css('top', '');
				$('.table_person_photoH').css('bottom', '5px');
				$('.Hbiography').css('display', 'block');
		if (localStorage.getItem ("Style") == "frame") {parent.document.getElementById('person_frame').style.height="89vh";}
		window.resizeTo (1340, 870);
		}
	function display_cv(string_cv)
		{	
			document.getElementById('person_cv').firstChild.nodeValue = string_cv;
		// display cv
			$('#person_cv').css('display', 'block');
		}
	// display poster   
	function display_img(image_to_display)
		{
		console.log("display_img :" +image_to_display);
		$('#image_object_left').css('display', 'block');
		document.getElementById('image_object_left').src = image_to_display ;	
		}
	// get person count 
	
	function display_filmography_scanned(id)
		{
			jsonFilmography = "/yamj3/api/person/" + id + ".json?dataitems=filmography_scanned&sortby=year&sortdir=desc";
            console.log("navPersonH jsonFilmography: " + jsonFilmography);
            var jsondata = null;
					
            $.ajax({
                url: jsonFilmography,
                async: false,
                dataType: 'jsonp',
                'success': function(filmography_data)
                {
                    jsondata = filmography_data;
			//		outputJson(filmography_data); 		
             var LIST_FILMOGRAPHY = { 
				'span.Hfilmography': function(arg)
						{
						
						if (!arg.context.result.filmography)
							{$('.H_Filmography').css('display', 'none');} 
							else {  
							$('.H_Filmography').css('display', 'block'); $('.Hfilmography').css('display', 'block');
							var filmography_list = arg.context.result.filmography;
					//		var output = filmography_label +":<br>";
							var output = "<text>filmography: </text><br><br>";
							// loop thru the list of filmography
							for (i = 0; i < filmography_list.length; i++) {
							// add year and title 
							// compare with the inside filmography and if found display in red and activ
								var temp_output = '';
								video_compare = true;
								for (j = 0; j < filmography_inside_ref_list.length & video_compare; j++) {
									if (filmography_list[i].originalTitle.toLowerCase() == filmography_inside_ref_list[j].originalTitle.toLowerCase())
										{
											video_compare = false;
											temp_output = temp_output + "<a style=\"color:red;\" href=\"javascript:setId('" + filmography_inside_ref_list[j].type + "', '" + filmography_inside_ref_list[j].videoDataId + "')\"> " + filmography_list[i].year + " - " + filmography_list[i].title ;
											
										} else {}
									}
								if (video_compare) {temp_output = filmography_list[i].year + " - " + filmography_list[i].title;}
							// add job if exist
								if (filmography_list[i].job)
									{
										if (video_compare) 
											{ temp_output = temp_output + " - " + filmography_list[i].job; 
											// add role if exist
											if (filmography_list[i].role)
												{temp_output = temp_output + " (" + filmography_list[i].role.italics() +")";}	
											} else 
											{ temp_output = temp_output + " - " + filmography_list[i].job + "</a>" ; 
											// add role if exist
											if (filmography_list[i].role)
												{temp_output = temp_output + " (" + filmography_list[i].role.italics() +")" + "</a>" ;}	
											}
									} 
								// add newline at the end
								output = output +  temp_output + "<br>";
							}  // end loop 
							return translate_job(output);
							}
						}	
					};
					$('.Hfilmography').css('display', 'block');
					$p('.result_filmography').render(filmography_data, LIST_FILMOGRAPHY);
                }
            });
            return jsondata;
		}
		
	function display_filmography_inside(id)
		{
			jsonFilmography_inside = "/yamj3/api/person/" + id + ".json?dataitems=filmography_inside&sortby=year&sortdir=desc";
            console.log("navPersonH jsonFilmography_inside: " + jsonFilmography_inside);
            var jsondata = null;
			
            $.ajax({
                url: jsonFilmography_inside,
                async: false,
                dataType: 'jsonp',
                'success': function(filmography_inside_data)
                {
                    jsondata = filmography_inside_data;
				//	outputJson(filmography_inside_data); 		
             				
				var LIST_FILMOGRAPHY_INSIDE = { 
				'span.Hfilmography_inside': function(arg)
						{
						filmography_inside_ref_list = arg.context.result.filmography;
						var filmography_inside_list = arg.context.result.filmography;
						$('.H_Filmography_inside').css('display', 'none'); 
						$('.result_filmography_inside').empty();
						
						var init_inside = "<tr><td><span class=\"Hfilmography_inside\"></span></td></tr>"
						$('.result_filmography_inside').append(init_inside);
						var output_inside =  "";
							// loop thru the list of filmography_inside
							for (i = 0; i < filmography_inside_list.length; i++) {	
								if (filmography_inside_list[i].type == "MOVIE")
									{
									$('.H_Filmography_inside').css('display', 'block'); 
									if (filmography_inside_list[i].job != 'ACTOR')
									{
										temp_output_inside =  "<td><a href=\"javascript:setId('" + filmography_inside_list[i].type + "', '" + filmography_inside_list[i].videoDataId + "');\"><p class=\"filmography_nameH\">"+ filmography_inside_list[i].title +"</p><img class=\"poster"+i+"\" src=\"\" height=\"120px\" width=\"80px\" ></img><p class=\"filmography_nameH\">"+ filmography_inside_list[i].job.italics() +"</p></a></td>" ;
									} else {
											if (filmography_inside_list[i].role) {temp_output_inside =  "<td><a href=\"javascript:setId('" + filmography_inside_list[i].type + "', '" + filmography_inside_list[i].videoDataId + "');\"><p class=\"filmography_nameH\">"+ filmography_inside_list[i].title +"</p><img class=\"poster"+i+"\" src=\"\" height=\"120px\" width=\"80px\" ></img><p class=\"filmography_nameH\">"+ filmography_inside_list[i].role.italics() +"</p></a></td>" ;}
											else {temp_output_inside =  "<td><a href=\"javascript:setId('" + filmography_inside_list[i].type + "', '" + filmography_inside_list[i].videoDataId + "');\"><p class=\"filmography_nameH\">"+ filmography_inside_list[i].title +"</p><img class=\"poster"+i+"\" src=\"\" height=\"120px\" width=\"80px\" ></img><p class=\"filmography_nameH\"></p></a></td>" ;}
									} 
									$('.Hfilmography_inside').append(translate_job(temp_output_inside));
									get_poster(filmography_inside_list[i].type, filmography_inside_list[i].videoDataId, i); 
									}
								if (filmography_inside_list[i].type == "SERIES")
									{
									$('.H_Filmography_inside').css('display', 'block'); 
									if (filmography_inside_list[i].job != 'ACTOR')
									{
										temp_output_inside =  "<td><a href=\"javascript:setId('" + filmography_inside_list[i].type + "', '" + filmography_inside_list[i].seriesId + "');\"><p class=\"filmography_nameH\">"+ filmography_inside_list[i].title +"</p><img class=\"poster"+i+"\" src=\"\" height=\"120px\" width=\"80px\" ></img><p class=\"filmography_nameH\">"+ filmography_inside_list[i].job.italics() +"</p></a></td>" ;
									} else {
										if (filmography_inside_list[i].role) {temp_output_inside =  "<td><a href=\"javascript:setId('" + filmography_inside_list[i].type + "', '" + filmography_inside_list[i].seriesId + "');\"><p class=\"filmography_nameH\">"+ filmography_inside_list[i].title +"</p><img class=\"poster"+i+"\" src=\"\" height=\"120px\" width=\"80px\" ></img><p class=\"filmography_nameH\">"+ filmography_inside_list[i].role.italics() +"</p></a></td>" ;}
										else {temp_output_inside =  "<td><a href=\"javascript:setId('" + filmography_inside_list[i].type + "', '" + filmography_inside_list[i].seriesId + "');\"><p class=\"filmography_nameH\">"+ filmography_inside_list[i].title +"</p><img class=\"poster"+i+"\" src=\"\" height=\"120px\" width=\"80px\" ></img><p class=\"filmography_nameH\"></p></a></td>" ;}
									} 
									 $('.Hfilmography_inside').append(translate_job(temp_output_inside));
									get_poster(filmography_inside_list[i].type, filmography_inside_list[i].seriesId, i); 
									}
							}
							
							return translate_job(output_inside);
						}	
				};
				$p('.result_filmography_inside').render(filmography_inside_data, LIST_FILMOGRAPHY_INSIDE);
                }
            });
            return jsondata;
		}		
	function get_poster (type, videodataId, i) {
				
				jsonPoster = "/yamj3/api/video/" + type.toLowerCase() + "/" + videodataId + ".json?dataitems=artwork";
				console.log("navPersonH jsonPoster: " + jsonPoster);
				$.ajax({
                    url: jsonPoster,
                    async: false,
                    dataType: 'jsonp',
                    'success': function(Poster_data)
                    {
                     jsondata = Poster_data; 
					 updatePosterHtml(Poster_data, i);
				//	outputJson(Poster_data); 	
                    }
                });
			}
			
	 function updatePosterHtml(Posterdata, i)
            {
            	var boucle = true;
				switch (i) 
							{
							case 0:
								YAMJ_DIR0 = {
						// display poster 	
								'img.poster0@src': function(arg) {
						// Get the first poster available from the list
								for (j = 0; boucle && j < arg.context.result.artwork.POSTER.length; j++) 
										{
											if (arg.context.result.artwork.POSTER[j].generatedId != 0)
											{
												boucle = false;
											// Check to see if there are posters
												return arg.context.baseArtworkUrl + arg.context.result.artwork.POSTER[j].filename; 
											}
										}
									}
								}
								$p('.result_filmography_inside').render(Posterdata, YAMJ_DIR0); 
								break;
							case 1:
								YAMJ_DIR1 = {
							   // display poster 	
								'img.poster1@src': function(arg) {
									for (j = 0; boucle && j < arg.context.result.artwork.POSTER.length; j++) 
										{
											if (arg.context.result.artwork.POSTER[j].generatedId != 0)
											{
												boucle = false;
											// Check to see if there are posters
												return arg.context.baseArtworkUrl + arg.context.result.artwork.POSTER[j].filename; 
											}
										}
									}
								}
								$p('.result_filmography_inside').render(Posterdata, YAMJ_DIR1); 
								break;
							case 2:
								YAMJ_DIR2 = {
							   // display poster 	
								'img.poster2@src': function(arg) {
									for (j = 0; boucle && j < arg.context.result.artwork.POSTER.length; j++) 
										{
											if (arg.context.result.artwork.POSTER[j].generatedId != 0)
											{
												boucle = false;
											// Check to see if there are posters
												return arg.context.baseArtworkUrl + arg.context.result.artwork.POSTER[j].filename; 
											}
										}
									}
								}
								$p('.result_filmography_inside').render(Posterdata, YAMJ_DIR2); 
								break;
							case 3:
								YAMJ_DIR3 = {
							   // display poster 	
								'img.poster3@src': function(arg) {
									for (j = 0; boucle && j < arg.context.result.artwork.POSTER.length; j++) 
										{
											if (arg.context.result.artwork.POSTER[j].generatedId != 0)
											{
												boucle = false;
											// Check to see if there are posters
												return arg.context.baseArtworkUrl + arg.context.result.artwork.POSTER[j].filename; 
											}
										}
									}
								}
								$p('.result_filmography_inside').render(Posterdata, YAMJ_DIR3); 
								break;
							case 4:
								YAMJ_DIR4 = {
							   // display poster 	
								'img.poster4@src': function(arg) {
									for (j = 0; boucle && j < arg.context.result.artwork.POSTER.length; j++) 
										{
											if (arg.context.result.artwork.POSTER[j].generatedId != 0)
											{
												boucle = false;
											// Check to see if there are posters
												return arg.context.baseArtworkUrl + arg.context.result.artwork.POSTER[j].filename; 
											}
										}
									}
								}
								$p('.result_filmography_inside').render(Posterdata, YAMJ_DIR4); 
								break;
							case 5:
								YAMJ_DIR5 = {
							   // display poster 	
								'img.poster5@src': function(arg) {
									for (j = 0; boucle && j < arg.context.result.artwork.POSTER.length; j++) 
										{
											if (arg.context.result.artwork.POSTER[j].generatedId != 0)
											{
												boucle = false;
											// Check to see if there are posters
												return arg.context.baseArtworkUrl + arg.context.result.artwork.POSTER[j].filename; 
											}
										}
									}
								}
								$p('.result_filmography_inside').render(Posterdata, YAMJ_DIR5); 
								break;
							case 6:
								YAMJ_DIR6 = {
							   // display poster 	
								'img.poster6@src': function(arg) {
									for (j = 0; boucle && j < arg.context.result.artwork.POSTER.length; j++) 
										{
											if (arg.context.result.artwork.POSTER[j].generatedId != 0)
											{
												boucle = false;
											// Check to see if there are posters
												return arg.context.baseArtworkUrl + arg.context.result.artwork.POSTER[j].filename; 
											}
										}
									}
								}
								$p('.result_filmography_inside').render(Posterdata, YAMJ_DIR6); 
								break;
							case 7:
								YAMJ_DIR7 = {
							   // display poster 	
								'img.poster7@src': function(arg) {
									for (j = 0; boucle && j < arg.context.result.artwork.POSTER.length; j++) 
										{
											if (arg.context.result.artwork.POSTER[j].generatedId != 0)
											{
												boucle = false;
											// Check to see if there are posters
												return arg.context.baseArtworkUrl + arg.context.result.artwork.POSTER[j].filename; 
											}
										}
									}
								}
								$p('.result_filmography_inside').render(Posterdata, YAMJ_DIR7); 
								break;
							case 8:
								YAMJ_DIR8 = {
							   // display poster 	
								'img.poster8@src': function(arg) {
									for (j = 0; boucle && j < arg.context.result.artwork.POSTER.length; j++) 
										{
											if (arg.context.result.artwork.POSTER[j].generatedId != 0)
											{
												boucle = false;
											// Check to see if there are posters
												return arg.context.baseArtworkUrl + arg.context.result.artwork.POSTER[j].filename; 
											}
										}
									}
								}
								$p('.result_filmography_inside').render(Posterdata, YAMJ_DIR8); 
								break;
							case 9:
								YAMJ_DIR9 = {
							   // display poster 	
								'img.poster9@src': function(arg) {
									for (j = 0; boucle && j < arg.context.result.artwork.POSTER.length; j++) 
										{
											if (arg.context.result.artwork.POSTER[j].generatedId != 0)
											{
												boucle = false;
											// Check to see if there are posters
												return arg.context.baseArtworkUrl + arg.context.result.artwork.POSTER[j].filename; 
											}
										}
									}
								}
								$p('.result_filmography_inside').render(Posterdata, YAMJ_DIR9); 
								break;
							case 10:
								YAMJ_DIR10 = {
							   // display poster 	
								'img.poster10@src': function(arg) {
									for (j = 0; boucle && j < arg.context.result.artwork.POSTER.length; j++) 
										{
											if (arg.context.result.artwork.POSTER[j].generatedId != 0)
											{
												boucle = false;
											// Check to see if there are posters
												return arg.context.baseArtworkUrl + arg.context.result.artwork.POSTER[j].filename; 
											}
										}
									}
								}
								$p('.result_filmography_inside').render(Posterdata, YAMJ_DIR10); 
								break;
							case 11:
								YAMJ_DIR11 = {
							   // display poster 	
								'img.poster11@src': function(arg) {
									for (j = 0; boucle && j < arg.context.result.artwork.POSTER.length; j++) 
										{
											if (arg.context.result.artwork.POSTER[j].generatedId != 0)
											{
												boucle = false;
											// Check to see if there are posters
												return arg.context.baseArtworkUrl + arg.context.result.artwork.POSTER[j].filename; 
											}
										}
									}
								}
								$p('.result_filmography_inside').render(Posterdata, YAMJ_DIR11); 
								break;	
							case 12:
								YAMJ_DIR12 = {
							   // display poster 	
								'img.poster12@src': function(arg) {
									for (j = 0; boucle && j < arg.context.result.artwork.POSTER.length; j++) 
										{
											if (arg.context.result.artwork.POSTER[j].generatedId != 0)
											{
												boucle = false;
											// Check to see if there are posters
												return arg.context.baseArtworkUrl + arg.context.result.artwork.POSTER[j].filename; 
											}
										}
									}
								}	
								$p('.result_filmography_inside').render(Posterdata, YAMJ_DIR12); 
								break;
							case 13:
								YAMJ_DIR13 = {
							   // display poster 	
								'img.poster13@src': function(arg) {
									for (j = 0; boucle && j < arg.context.result.artwork.POSTER.length; j++) 
										{
											if (arg.context.result.artwork.POSTER[j].generatedId != 0)
											{
												boucle = false;
											// Check to see if there are posters
												return arg.context.baseArtworkUrl + arg.context.result.artwork.POSTER[j].filename; 
											}
										}
									}
								}
								$p('.result_filmography_inside').render(Posterdata, YAMJ_DIR13); 
								break;	
							case 14:
								YAMJ_DIR14 = {
							   // display poster 	
								'img.poster14@src': function(arg) {
									for (j = 0; boucle && j < arg.context.result.artwork.POSTER.length; j++) 
										{
											if (arg.context.result.artwork.POSTER[j].generatedId != 0)
											{
												boucle = false;
											// Check to see if there are posters
												return arg.context.baseArtworkUrl + arg.context.result.artwork.POSTER[j].filename; 
											}
										}
									}
								}
								$p('.result_filmography_inside').render(Posterdata, YAMJ_DIR14); 
								break;
							case 15:
								YAMJ_DIR15 = {
							   // display poster 	
								'img.poster15@src': function(arg) {
									for (j = 0; boucle && j < arg.context.result.artwork.POSTER.length; j++) 
										{
											if (arg.context.result.artwork.POSTER[j].generatedId != 0)
											{
												boucle = false;
											// Check to see if there are posters
												return arg.context.baseArtworkUrl + arg.context.result.artwork.POSTER[j].filename; 
											}
										}
									}
								}
								$p('.result_filmography_inside').render(Posterdata, YAMJ_DIR15); 
								break;
							case 16:
								YAMJ_DIR16 = {
							   // display poster 	
								'img.poster16@src': function(arg) {
									for (j = 0; boucle && j < arg.context.result.artwork.POSTER.length; j++) 
										{
											if (arg.context.result.artwork.POSTER[j].generatedId != 0)
											{
												boucle = false;
											// Check to see if there are posters
												return arg.context.baseArtworkUrl + arg.context.result.artwork.POSTER[j].filename; 
											}
										}
									}
								}
								$p('.result_filmography_inside').render(Posterdata, YAMJ_DIR16); 
								break;
							case 17:
								YAMJ_DIR17 = {
							   // display poster 	
								'img.poster17@src': function(arg) {
									for (j = 0; boucle && j < arg.context.result.artwork.POSTER.length; j++) 
										{
											if (arg.context.result.artwork.POSTER[j].generatedId != 0)
											{
												boucle = false;
											// Check to see if there are posters
												return arg.context.baseArtworkUrl + arg.context.result.artwork.POSTER[j].filename; 
											}
										}
									}
								}
								$p('.result_filmography_inside').render(Posterdata, YAMJ_DIR17); 
								break;
							case 18:
								YAMJ_DIR18 = {
							   // display poster 	
								'img.poster18@src': function(arg) {
									for (j = 0; boucle && j < arg.context.result.artwork.POSTER.length; j++) 
										{
											if (arg.context.result.artwork.POSTER[j].generatedId != 0)
											{
												boucle = false;
											// Check to see if there are posters
												return arg.context.baseArtworkUrl + arg.context.result.artwork.POSTER[j].filename; 
											}
										}
									}
								}
								$p('.result_filmography_inside').render(Posterdata, YAMJ_DIR18); 
								break;
							case 19:
								YAMJ_DIR19 = {
							   // display poster 	
								'img.poster19@src': function(arg) {
									for (j = 0; boucle && j < arg.context.result.artwork.POSTER.length; j++) 
										{
											if (arg.context.result.artwork.POSTER[j].generatedId != 0)
											{
												boucle = false;
											// Check to see if there are posters
												return arg.context.baseArtworkUrl + arg.context.result.artwork.POSTER[j].filename; 
											}
										}
									}
								}
								$p('.result_filmography_inside').render(Posterdata, YAMJ_DIR19); 
								break;
							case 20:
								YAMJ_DIR20 = {
							   // display poster 	
								'img.poster20@src': function(arg) {
									for (j = 0; boucle && j < arg.context.result.artwork.POSTER.length; j++) 
										{
											if (arg.context.result.artwork.POSTER[j].generatedId != 0)
											{
												boucle = false;
											// Check to see if there are posters
												return arg.context.baseArtworkUrl + arg.context.result.artwork.POSTER[j].filename; 
											}
										}
									}
								}
								$p('.result_filmography_inside').render(Posterdata, YAMJ_DIR20); 
								break;
							case 21:
								YAMJ_DIR21 = {
							   // display poster 	
								'img.poster21@src': function(arg) {
									for (j = 0; boucle && j < arg.context.result.artwork.POSTER.length; j++) 
										{
											if (arg.context.result.artwork.POSTER[j].generatedId != 0)
											{
												boucle = false;
											// Check to see if there are posters
												return arg.context.baseArtworkUrl + arg.context.result.artwork.POSTER[j].filename; 
											}
										}
									}
								}
								$p('.result_filmography_inside').render(Posterdata, YAMJ_DIR21); 
								break;
							case 22:
								YAMJ_DIR22 = {
							   // display poster 	
								'img.poster22@src': function(arg) {
									for (j = 0; boucle && j < arg.context.result.artwork.POSTER.length; j++) 
										{
											if (arg.context.result.artwork.POSTER[j].generatedId != 0)
											{
												boucle = false;
											// Check to see if there are posters
												return arg.context.baseArtworkUrl + arg.context.result.artwork.POSTER[j].filename; 
											}
										}
									}
								}	
								$p('.result_filmography_inside').render(Posterdata, YAMJ_DIR22); 
								break;
							case 23:
								YAMJ_DIR23 = {
							   // display poster 	
								'img.poster23@src': function(arg) {
									for (j = 0; boucle && j < arg.context.result.artwork.POSTER.length; j++) 
										{
											if (arg.context.result.artwork.POSTER[j].generatedId != 0)
											{
												boucle = false;
											// Check to see if there are posters
												return arg.context.baseArtworkUrl + arg.context.result.artwork.POSTER[j].filename; 
											}
										}
									}
								}
								$p('.result_filmography_inside').render(Posterdata, YAMJ_DIR23); 
								break;	
							case 24:
								YAMJ_DIR24 = {
							   // display poster 	
								'img.poster24@src': function(arg) {
									for (j = 0; boucle && j < arg.context.result.artwork.POSTER.length; j++) 
										{
											if (arg.context.result.artwork.POSTER[j].generatedId != 0)
											{
												boucle = false;
											// Check to see if there are posters
												return arg.context.baseArtworkUrl + arg.context.result.artwork.POSTER[j].filename; 
											}
										}
									}
								}
								$p('.result_filmography_inside').render(Posterdata, YAMJ_DIR24); 
								break;
							case 25:
								YAMJ_DIR25 = {
							   // display poster 	
								'img.poster25@src': function(arg) {
									for (j = 0; boucle && j < arg.context.result.artwork.POSTER.length; j++) 
										{
											if (arg.context.result.artwork.POSTER[j].generatedId != 0)
											{
												boucle = false;
											// Check to see if there are posters
												return arg.context.baseArtworkUrl + arg.context.result.artwork.POSTER[j].filename; 
											}
										}
									}
								}
								$p('.result_filmography_inside').render(Posterdata, YAMJ_DIR25); 
								break;
							case 26:
								YAMJ_DIR26 = {
							   // display poster 	
								'img.poster26@src': function(arg) {
									for (j = 0; boucle && j < arg.context.result.artwork.POSTER.length; j++) 
										{
											if (arg.context.result.artwork.POSTER[j].generatedId != 0)
											{
												boucle = false;
											// Check to see if there are posters
												return arg.context.baseArtworkUrl + arg.context.result.artwork.POSTER[j].filename; 
											}
										}
									}
								}
								$p('.result_filmography_inside').render(Posterdata, YAMJ_DIR26); 
								break;
							case 27:
								YAMJ_DIR27 = {
							   // display poster 	
								'img.poster27@src': function(arg) {
									for (j = 0; boucle && j < arg.context.result.artwork.POSTER.length; j++) 
										{
											if (arg.context.result.artwork.POSTER[j].generatedId != 0)
											{
												boucle = false;
											// Check to see if there are posters
												return arg.context.baseArtworkUrl + arg.context.result.artwork.POSTER[j].filename; 
											}
										}
									}
								}
								$p('.result_filmography_inside').render(Posterdata, YAMJ_DIR27); 
								break;
							case 28:
								YAMJ_DIR28 = {
							   // display poster 	
								'img.poster28@src': function(arg) {
									for (j = 0; boucle && j < arg.context.result.artwork.POSTER.length; j++) 
										{
											if (arg.context.result.artwork.POSTER[j].generatedId != 0)
											{
												boucle = false;
											// Check to see if there are posters
												return arg.context.baseArtworkUrl + arg.context.result.artwork.POSTER[j].filename; 
											}
										}
									}
								}
								$p('.result_filmography_inside').render(Posterdata, YAMJ_DIR28); 
								break;
							case 29:
								YAMJ_DIR29 = {
							   // display poster 	
								'img.poster29@src': function(arg) {
									for (j = 0; boucle && j < arg.context.result.artwork.POSTER.length; j++) 
										{
											if (arg.context.result.artwork.POSTER[j].generatedId != 0)
											{
												boucle = false;
											// Check to see if there are posters
												return arg.context.baseArtworkUrl + arg.context.result.artwork.POSTER[j].filename; 
											}
										}
									}
								}
								$p('.result_filmography_inside').render(Posterdata, YAMJ_DIR29); 
								break;
							case 30:
								YAMJ_DIR30 = {
							   // display poster 	
								'img.poster30@src': function(arg) {
									for (j = 0; boucle && j < arg.context.result.artwork.POSTER.length; j++) 
										{
											if (arg.context.result.artwork.POSTER[j].generatedId != 0)
											{
												boucle = false;
											// Check to see if there are posters
												return arg.context.baseArtworkUrl + arg.context.result.artwork.POSTER[j].filename; 
											}
										}
									}
								}
								$p('.result_filmography_inside').render(Posterdata, YAMJ_DIR30); 
								break;
							case 31:
								YAMJ_DIR31 = {
							   // display poster 	
								'img.poster31@src': function(arg) {
									for (j = 0; boucle && j < arg.context.result.artwork.POSTER.length; j++) 
										{
											if (arg.context.result.artwork.POSTER[j].generatedId != 0)
											{
												boucle = false;
											// Check to see if there are posters
												return arg.context.baseArtworkUrl + arg.context.result.artwork.POSTER[j].filename; 
											}
										}
									}
								}
								$p('.result_filmography_inside').render(Posterdata, YAMJ_DIR31); 
								break;
							case 32:
								YAMJ_DIR32 = {
							   // display poster 	
								'img.poster32@src': function(arg) {
									for (j = 0; boucle && j < arg.context.result.artwork.POSTER.length; j++) 
										{
											if (arg.context.result.artwork.POSTER[j].generatedId != 0)
											{
												boucle = false;
											// Check to see if there are posters
												return arg.context.baseArtworkUrl + arg.context.result.artwork.POSTER[j].filename; 
											}
										}
									}
								}	
								$p('.result_filmography_inside').render(Posterdata, YAMJ_DIR32); 
								break;
							case 33:
								YAMJ_DIR33 = {
							   // display poster 	
								'img.poster33@src': function(arg) {
									for (j = 0; boucle && j < arg.context.result.artwork.POSTER.length; j++) 
										{
											if (arg.context.result.artwork.POSTER[j].generatedId != 0)
											{
												boucle = false;
											// Check to see if there are posters
												return arg.context.baseArtworkUrl + arg.context.result.artwork.POSTER[j].filename; 
											}
										}
									}
								}
								$p('.result_filmography_inside').render(Posterdata, YAMJ_DIR33); 
								break;	
							case 34:
								YAMJ_DIR34 = {
							   // display poster 	
								'img.poster34@src': function(arg) {
									for (j = 0; boucle && j < arg.context.result.artwork.POSTER.length; j++) 
										{
											if (arg.context.result.artwork.POSTER[j].generatedId != 0)
											{
												boucle = false;
											// Check to see if there are posters
												return arg.context.baseArtworkUrl + arg.context.result.artwork.POSTER[j].filename; 
											}
										}
									}
								}
								$p('.result_filmography_inside').render(Posterdata, YAMJ_DIR34); 
								break;
							case 35:
								YAMJ_DIR35 = {
							   // display poster 	
								'img.poster35@src': function(arg) {
									for (j = 0; boucle && j < arg.context.result.artwork.POSTER.length; j++) 
										{
											if (arg.context.result.artwork.POSTER[j].generatedId != 0)
											{
												boucle = false;
											// Check to see if there are posters
												return arg.context.baseArtworkUrl + arg.context.result.artwork.POSTER[j].filename; 
											}
										}
									}
								}
								$p('.result_filmography_inside').render(Posterdata, YAMJ_DIR35); 
								break;
							case 36:
								YAMJ_DIR36 = {
							   // display poster 	
								'img.poster36@src': function(arg) {
									for (j = 0; boucle && j < arg.context.result.artwork.POSTER.length; j++) 
										{
											if (arg.context.result.artwork.POSTER[j].generatedId != 0)
											{
												boucle = false;
											// Check to see if there are posters
												return arg.context.baseArtworkUrl + arg.context.result.artwork.POSTER[j].filename; 
											}
										}
									}
								}
								$p('.result_filmography_inside').render(Posterdata, YAMJ_DIR36); 
								break;
							case 37:
								YAMJ_DIR37 = {
							   // display poster 	
								'img.poster37@src': function(arg) {
									for (j = 0; boucle && j < arg.context.result.artwork.POSTER.length; j++) 
										{
											if (arg.context.result.artwork.POSTER[j].generatedId != 0)
											{
												boucle = false;
											// Check to see if there are posters
												return arg.context.baseArtworkUrl + arg.context.result.artwork.POSTER[j].filename; 
											}
										}
									}
								}
								$p('.result_filmography_inside').render(Posterdata, YAMJ_DIR37); 
								break;
							case 38:
								YAMJ_DIR38 = {
							   // display poster 	
								'img.poster38@src': function(arg) {
									for (j = 0; boucle && j < arg.context.result.artwork.POSTER.length; j++) 
										{
											if (arg.context.result.artwork.POSTER[j].generatedId != 0)
											{
												boucle = false;
											// Check to see if there are posters
												return arg.context.baseArtworkUrl + arg.context.result.artwork.POSTER[j].filename; 
											}
										}
									}
								}
								$p('.result_filmography_inside').render(Posterdata, YAMJ_DIR38); 
								break;
							case 39:
								YAMJ_DIR39 = {
							   // display poster 	
								'img.poster39@src': function(arg) {
									for (j = 0; boucle && j < arg.context.result.artwork.POSTER.length; j++) 
										{
											if (arg.context.result.artwork.POSTER[j].generatedId != 0)
											{
												boucle = false;
											// Check to see if there are posters
												return arg.context.baseArtworkUrl + arg.context.result.artwork.POSTER[j].filename; 
											}
										}
									}
								}
								$p('.result_filmography_inside').render(Posterdata, YAMJ_DIR39); 
								break;
							case 40:
								YAMJ_DIR40 = {
							   // display poster 	
								'img.poster40@src': function(arg) {
									for (j = 0; boucle && j < arg.context.result.artwork.POSTER.length; j++) 
										{
											if (arg.context.result.artwork.POSTER[j].generatedId != 0)
											{
												boucle = false;
											// Check to see if there are posters
												return arg.context.baseArtworkUrl + arg.context.result.artwork.POSTER[j].filename; 
											}
										}
									}
								}
								$p('.result_filmography_inside').render(Posterdata, YAMJ_DIR40); 
								break;
							case 41:
								YAMJ_DIR41 = {
							   // display poster 	
								'img.poster41@src': function(arg) {
									for (j = 0; boucle && j < arg.context.result.artwork.POSTER.length; j++) 
										{
											if (arg.context.result.artwork.POSTER[j].generatedId != 0)
											{
												boucle = false;
											// Check to see if there are posters
												return arg.context.baseArtworkUrl + arg.context.result.artwork.POSTER[j].filename; 
											}
										}
									}
								}
								$p('.result_filmography_inside').render(Posterdata, YAMJ_DIR41); 
								break;
							case 42:
								YAMJ_DIR42 = {
							   // display poster 	
								'img.poster42@src': function(arg) {
									for (j = 0; boucle && j < arg.context.result.artwork.POSTER.length; j++) 
										{
											if (arg.context.result.artwork.POSTER[j].generatedId != 0)
											{
												boucle = false;
											// Check to see if there are posters
												return arg.context.baseArtworkUrl + arg.context.result.artwork.POSTER[j].filename; 
											}
										}
									}
								}	
								$p('.result_filmography_inside').render(Posterdata, YAMJ_DIR42); 
								break;
							case 43:
								YAMJ_DIR43 = {
							   // display poster 	
								'img.poster43@src': function(arg) {
									for (j = 0; boucle && j < arg.context.result.artwork.POSTER.length; j++) 
										{
											if (arg.context.result.artwork.POSTER[j].generatedId != 0)
											{
												boucle = false;
											// Check to see if there are posters
												return arg.context.baseArtworkUrl + arg.context.result.artwork.POSTER[j].filename; 
											}
										}
									}
								}
								$p('.result_filmography_inside').render(Posterdata, YAMJ_DIR43); 
								break;	
							case 44:
								YAMJ_DIR44 = {
							   // display poster 	
								'img.poster44@src': function(arg) {
									for (j = 0; boucle && j < arg.context.result.artwork.POSTER.length; j++) 
										{
											if (arg.context.result.artwork.POSTER[j].generatedId != 0)
											{
												boucle = false;
											// Check to see if there are posters
												return arg.context.baseArtworkUrl + arg.context.result.artwork.POSTER[j].filename; 
											}
										}
									}
								}
								$p('.result_filmography_inside').render(Posterdata, YAMJ_DIR44); 
								break;
							case 45:
								YAMJ_DIR45 = {
							   // display poster 	
								'img.poster45@src': function(arg) {
									for (j = 0; boucle && j < arg.context.result.artwork.POSTER.length; j++) 
										{
											if (arg.context.result.artwork.POSTER[j].generatedId != 0)
											{
												boucle = false;
											// Check to see if there are posters
												return arg.context.baseArtworkUrl + arg.context.result.artwork.POSTER[j].filename; 
											}
										}
									}
								}
								$p('.result_filmography_inside').render(Posterdata, YAMJ_DIR45); 
								break;
							case 46:
								YAMJ_DIR46 = {
							   // display poster 	
								'img.poster46@src': function(arg) {
									for (j = 0; boucle && j < arg.context.result.artwork.POSTER.length; j++) 
										{
											if (arg.context.result.artwork.POSTER[j].generatedId != 0)
											{
												boucle = false;
											// Check to see if there are posters
												return arg.context.baseArtworkUrl + arg.context.result.artwork.POSTER[j].filename; 
											}
										}
									}
								}
								$p('.result_filmography_inside').render(Posterdata, YAMJ_DIR46); 
								break;
							case 47:
								YAMJ_DIR47 = {
							   // display poster 	
								'img.poster47@src': function(arg) {
									for (j = 0; boucle && j < arg.context.result.artwork.POSTER.length; j++) 
										{
											if (arg.context.result.artwork.POSTER[j].generatedId != 0)
											{
												boucle = false;
											// Check to see if there are posters
												return arg.context.baseArtworkUrl + arg.context.result.artwork.POSTER[j].filename; 
											}
										}
									}
								}
								$p('.result_filmography_inside').render(Posterdata, YAMJ_DIR47); 
								break;
							case 48:
								YAMJ_DIR48 = {
							   // display poster 	
								'img.poster48@src': function(arg) {
									for (j = 0; boucle && j < arg.context.result.artwork.POSTER.length; j++) 
										{
											if (arg.context.result.artwork.POSTER[j].generatedId != 0)
											{
												boucle = false;
											// Check to see if there are posters
												return arg.context.baseArtworkUrl + arg.context.result.artwork.POSTER[j].filename; 
											}
										}
									}
								}
								$p('.result_filmography_inside').render(Posterdata, YAMJ_DIR48); 
								break;
							case 49:
								YAMJ_DIR49 = {
							   // display poster 	
								'img.poster49@src': function(arg) {
									for (j = 0; boucle && j < arg.context.result.artwork.POSTER.length; j++) 
										{
											if (arg.context.result.artwork.POSTER[j].generatedId != 0)
											{
												boucle = false;
											// Check to see if there are posters
												return arg.context.baseArtworkUrl + arg.context.result.artwork.POSTER[j].filename; 
											}
										}
									}
								}
								$p('.result_filmography_inside').render(Posterdata, YAMJ_DIR49); 
								break;
							case 50:
								YAMJ_DIR50 = {
							   // display poster 	
								'img.poster50@src': function(arg) {
									for (j = 0; boucle && j < arg.context.result.artwork.POSTER.length; j++) 
										{
											if (arg.context.result.artwork.POSTER[j].generatedId != 0)
											{
												boucle = false;
											// Check to see if there are posters
												return arg.context.baseArtworkUrl + arg.context.result.artwork.POSTER[j].filename; 
											}
										}
									}
								}
								$p('.result_filmography_inside').render(Posterdata, YAMJ_DIR50); 
								break;
							}		
            }			
				
	function updatePersonCount(data)
		{
			var ITEM_COUNT = {
			   'span.itemcount': function(arg) {
			  		set_personscroll (arg.context.count);			
					return arg.context.count;
			   }
			};
		   $p('.counttest').render(data, ITEM_COUNT);
		}
		
	// adjust Person scroll bar 
	function set_personscroll(count_to_set)
		{	
			if (count_to_set)
				{					
					console.log("set_personscroll: count= " +count_to_set);
					// if less than 12 person adjust to center and supress scrollbar 
					if (parseInt(count_to_set, 10) < 12)
						{ 
							$('.table_person_photoH').css('overflow-x', 'hidden');
							$('.table_person_photoH').css('margin-left', (600 - (parseInt(count_to_set, 10)*50)) + "px");
							$('.table_person_photoH').css('width', (1300 - (600 - (parseInt(count_to_set, 10)*50))) + "px");
						}
						else 
						{ $('.table_person_photoH').css('overflow-x', 'scroll');}
				}				
		}
	 function setId(type, id)
        {
            window.localStorage.setItem("indextype", type);
            window.localStorage.setItem("id", id);
            console.log("setId Storing value: " + type + "-" + id);
          	window.open("detail.html", "YAMJ v3 detail page", "");
        }

        </script>
<!-- *************************************************************************************************************** -->	   
     
		<div class="counttest" style="visibility: hidden">
					<td><span class="itemcount"></span></td>
		</div> 
		<div id="person_cv"> </div>
		
		<div id="close_icon" style="position: absolute;	top: 2px; right: 0px; z-index: 10;" onclick="javascript: close_person()"><img src="./pictures/close2.png" height="30px"/></div>			
		
		<div class="table_person_photoH">
			<table id="tableperson_photoH">	
				<tr>
					<td class="center">
					 <span class="totalperson_photo"></span>
					</td>
				</tr>
			</table>
		</div>
	<div class="table_person_frame">
		<div ><img id="image_object_left" src="pictures/dummy_photo.jpg" alt="photo"></img> </div>	
		<div class="Hbiography" id="Hbiographyshow" >		</div>
		<div class="H_Filmography">
			<table class="result_filmography">
				<tr>
					<td><span class="Hfilmography"></span></td>  <!-- display filmography -->
				</tr>
			</table>
		</div>
		<div class="H_Filmography_inside">
			<table class="result_filmography_inside">
				<tr>
					<td><span class="Hfilmography_inside"></span></td>  <!-- display filmography inside-->
				</tr>
			</table>
		</div>
	</div>
		
	<!-- display source data from API if needed  -->
        <div id="sourceData" ></div>
    </body>
</html>
