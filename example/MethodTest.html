<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

        <title>YAMJ v3</title>
        <script src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
        <script src="https://rawgithub.com/pure/pure/master/libs/pure.js"></script>
        <script src="js/js.js"></script>
        <script src="js/jPages.js"></script>

        <link rel="stylesheet" type="text/css" href="css/yamj-style.css">
        <link rel="stylesheet" href="css/jPages.css">
        <link rel="stylesheet" href="css/animate.css">

        <script type="text/javascript">

        function getTestData(url)
        {
			var jsonUrl = "http://localhost:8888/yamj3/api/"+url;

            console.log("URL: " + jsonUrl);

            var jsondata = null;

            $.ajax({
                url: jsonUrl,
                async: false,
                dataType: 'jsonp',
                'success': function(data)
                {
                    jsondata = data;
                    output(data);
                }
            });
            return jsondata;
        }

        // Add the source output to the end of the page
        function output(inp)
        {
            // Clear the "pre" element if it exists
            $('pre').empty();
                var str = JSON.stringify(inp, undefined, 4);
            document.body.appendChild(document.createElement('pre')).innerHTML = str;
        }

        </script>
    </head>
    <body>
        <h2>YAMJv3 Method Test</h2>

		Enter the API call to be appended to 'http://localhost:8888/yamj3/api/'
        <form>
            <table border="0">
                <tr>
                    <td align="right"><b>Method: </b></td>
                    <td>
                        <input name="formURL" type="text" id="formURL"/>
                    </td>
                </tr>
                <tr>
                    <td></td>
                    <td align="left">
                        <input type="button" value="Run Query" onclick="getTestData(document.getElementById('formURL').value)"/>
                    </td>
                </tr>
            </table>
        </form>

        <h4>Source Data:</h4>
    </body>
</html>
